# AGENTS.md

Development guidelines and commands for mddb project.

For specific guidelines, see:
- [Backend Guidelines](backend/AGENTS.md) - Read before editing Go code in backend/
- [Frontend Guidelines](frontend/AGENTS.md) - Read before editing App.tsx, components, or CSS

## Project Overview

mddb is a Notion-like document and database system. Frontend built with SolidJS, backend with Go. Data stored
as markdown files and images.

### Documentation Changes

- **Do NOT** create a markdown file listing changes you made.
- Update `docs/PLAN.md` to reflect status changes.
- Keep `README.md` up to date.
- **Always update the purpose comment** at the beginning of a source file when the code's purpose changes. This comment is used to generate the file index in `AGENTS.md`.

### Professionalism

After making changes, run:

```bash
make lint build test
```

<!-- BEGIN FILE INDEX -->
## File Index

Autogenerated file index based on first-line comments.

- `.github/deploy-playwright-report.sh`: Deploy Playwright report to gh-pages branch and prepare for GitHub Pages upload.
- `README.md`: mddb - Markdown Document & Table System
- `SELF_HOSTING.md`: Self-hosting and deployment instructions for mddb
- `docs/FIRST_LOGIN_FLOW.md`: First-Time Login Flow
- `docs/PLAN.md`: mddb Implementation Plan
- `docs/PLAN_NOTIFICATIONS.md`: Notification System Implementation Plan
- `docs/REQUIREMENTS.md`: mddb Requirements
- `docs/TECHNICAL.md`: mddb Technical Architecture and Storage Model
- `docs/notion/IMPORT_PLAN.md`: Notion Import
- `docs/notion/README.md`: Notion Research
- `e2e/block-context-menu.spec.ts`: E2E tests for block context menu interactions.
- `e2e/block-drag-reorder.spec.ts`: E2E tests for block drag-and-drop reordering functionality.
- `e2e/block-editor.spec.ts`: E2E tests for flat block editor: input rules, drag handles, context menu, keyboard navigation.
- `e2e/block-handle-diagnostic.spec.ts`: Diagnostic tests for block handle visibility and text alignment issues.
- `e2e/block-handle-visibility.spec.ts`: Test for block handle visibility bug fix.
- `e2e/checkbox-toggle.spec.ts`: E2E tests for clicking the checkbox pseudo-element to toggle task completion.
- `e2e/editor-toolbar.spec.ts`: E2E tests for editor toolbar formatting buttons.
- `e2e/floating-toolbar.spec.ts`: E2E tests for floating toolbar visibility lifecycle.
- `e2e/helpers.ts`: Shared e2e test helpers for registration, workspace management, and screenshots.
- `e2e/inject-tag-colors.cjs`: Inject custom tag colors and server log link into Playwright HTML report.
- `e2e/language-switch.spec.ts`: E2E tests for language switching in settings.
- `e2e/page-links.spec.ts`: E2E tests for page links with dynamic title resolution.
- `e2e/register-redirect.spec.ts`: E2E test for registration redirect: after registering, user should land on onboarding, not stay on login.
- `e2e/remove-org-member.spec.ts`: E2E tests for removing an organization member with cascading workspace membership removal.
- `e2e/workspace-switch-loop.spec.ts`: E2E test for workspace switch 404 loop bug.
- `sdk/API.md`: mddb API Reference
- `sdk/api.gen.ts`: Code generated by apiclient. DO NOT EDIT.
- `sdk/types.gen.ts`: Code generated by tygo. DO NOT EDIT.
<!-- END FILE INDEX -->
