const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminDashboard-DkWWkENP.js","assets/vendor-cxaUT27-.js","assets/index-B5v3Ye1F.js","assets/editor-vendor-5UabxMD0.js","assets/index-Hymz4ZC4.css","assets/AdminDashboard-mz6u66Jn.css"])))=>i.map(i=>d[i]);
import{u as e,d as t,_ as i}from"./index-B5v3Ye1F.js";import{c as a,h as r,v as n,d as l,w as s,x as v,S as u,y as d,J as o,s as b}from"./vendor-cxaUT27-.js";import"./editor-vendor-5UabxMD0.js";const p="_panel_1jx6v_3",m="_tabs_1jx6v_12",_="_activeTab_1jx6v_34",g="_section_1jx6v_39",x="_error_1jx6v_43",h="_success_1jx6v_51",S="_statusBadge_1jx6v_59",c="_enabled_1jx6v_63",f="_disabled_1jx6v_73",$="_settingsForm_1jx6v_83",y="_formGrid_1jx6v_90",C="_formItem_1jx6v_97",w="_saveButton_1jx6v_127",I="_hint_1jx6v_146";var q=d("<div>"),j=d("<span>"),P=d("<section><div></div><form><div><label></label><input type=text placeholder=smtp.example.com></div><div><label></label><input type=number min=1 max=65535></div><div><label></label><input type=text placeholder=user@example.com></div><div><label></label><input type=password placeholder=••••••••><p></p></div><div><label></label><input type=email placeholder=noreply@example.com></div><button type=submit>"),T=d("<section><form><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=0></div></div><h3></h3><p></p><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div></div><button type=submit>"),k=d("<div><h2></h2><div><button></button><button></button><button>");const B=o(()=>i(()=>import("./AdminDashboard-DkWWkENP.js"),__vite__mapDeps([0,1,2,3,4,5])));function A(){const{t:i}=e(),{api:d}=t(),[o,b]=a("dashboard"),[A,R]=a(null),[z,E]=a(""),[L,D]=a(587),[O,M]=a(""),[U,H]=a(""),[F,W]=a(""),[G,J]=a(0),[V,K]=a(0),[N,Q]=a(0),[X,Y]=a(0),[Z,ee]=a(0),[te,ie]=a(0),[ae,re]=a(0),[ne,le]=a(0),[se,ve]=a(0),[ue,de]=a(0),[oe,be]=a(0),[pe,me]=a(0),[_e,ge]=a(0),[xe,he]=a(0),[Se,ce]=a(0),[fe,$e]=a(0),[ye,Ce]=a(0),[we,Ie]=a(!1),[qe,je]=a(null),[Pe,Te]=a(null),ke=async()=>{try{Ie(!0),je(null);const e=await d().server.getConfig();R(e),E(e.smtp.host||""),D(e.smtp.port||587),M(e.smtp.username||""),W(e.smtp.from||""),H(""),J(e.quotas.max_request_body_bytes),K(e.quotas.max_sessions_per_user),Q(e.quotas.max_tables_per_workspace),Y(e.quotas.max_columns_per_table),ee(e.quotas.max_records_per_table),ie(e.quotas.max_pages),re(e.quotas.max_storage_bytes),le(e.quotas.max_organizations),ve(e.quotas.max_workspaces),de(e.quotas.max_users),be(e.quotas.max_total_storage_bytes),me(e.quotas.max_asset_size_bytes),ge(e.quotas.max_egress_bandwidth_bps),he(e.rate_limits.auth_rate_per_min),ce(e.rate_limits.write_rate_per_min),$e(e.rate_limits.read_auth_rate_per_min),Ce(e.rate_limits.read_unauth_rate_per_min)}catch(e){je(`${i("errors.failedToLoad")}: ${e}`)}finally{Ie(!1)}};r(()=>{ke()});const Be=async e=>{e.preventDefault();try{Ie(!0),je(null),Te(null),await d().server.updateConfig({smtp:{host:z(),port:L(),username:O(),password:U(),from:F()}}),Te(i("server.configurationSaved")),await ke()}catch(t){je(`${i("errors.failedToSave")}: ${t}`)}finally{Ie(!1)}},Ae=async e=>{e.preventDefault();try{Ie(!0),je(null),Te(null),await d().server.updateConfig({quotas:{max_request_body_bytes:G(),max_sessions_per_user:V(),max_tables_per_workspace:N(),max_columns_per_table:X(),max_records_per_table:Z(),max_pages:te(),max_storage_bytes:ae(),max_organizations:ne(),max_workspaces:se(),max_users:ue(),max_total_storage_bytes:oe(),max_asset_size_bytes:pe(),max_egress_bandwidth_bps:_e()},rate_limits:{auth_rate_per_min:xe(),write_rate_per_min:Se(),read_auth_rate_per_min:fe(),read_unauth_rate_per_min:ye()}}),Te(i("server.configurationSaved"))}catch(t){je(`${i("errors.failedToSave")}: ${t}`)}finally{Ie(!1)}};return Re=k(),ze=Re.firstChild,Ee=ze.nextSibling,Le=Ee.firstChild,De=Le.nextSibling,Oe=De.nextSibling,n(ze,()=>i("server.serverSettings")),Le.$$click=()=>b("dashboard"),n(Le,()=>i("server.dashboard")),De.$$click=()=>b("smtp"),n(De,()=>i("server.smtpConfiguration")),Oe.$$click=()=>b("quotas"),n(Oe,()=>i("server.quotas")),n(Re,l(u,{get when(){return qe()},get children(){var e=q();return n(e,qe),s(()=>v(e,x)),e}}),null),n(Re,l(u,{get when(){return Pe()},get children(){var e=q();return n(e,Pe),s(()=>v(e,h)),e}}),null),n(Re,l(u,{get when(){return"dashboard"===o()},get children(){return l(B,{})}}),null),n(Re,l(u,{get when(){return"smtp"===o()},get children(){var e=P(),t=e.firstChild,a=t.nextSibling,r=a.firstChild,d=r.firstChild,o=d.nextSibling,b=r.nextSibling,p=b.firstChild,m=p.nextSibling,_=b.nextSibling,x=_.firstChild,h=x.nextSibling,y=_.nextSibling,q=y.firstChild,T=q.nextSibling,k=T.nextSibling,B=y.nextSibling,R=B.firstChild,G=R.nextSibling,J=B.nextSibling;return n(t,l(u,{get when(){return A()?.smtp.host},get fallback(){return e=j(),n(e,()=>i("server.smtpDisabled")),s(()=>v(e,f)),e;var e},get children(){var e=j();return n(e,()=>i("server.smtpEnabled")),s(()=>v(e,c)),e}})),a.addEventListener("submit",Be),n(d,()=>i("server.smtpHost")),o.$$input=e=>E(e.target.value),n(p,()=>i("server.smtpPort")),m.$$input=e=>D(parseInt(e.target.value)||587),n(x,()=>i("server.smtpUsername")),h.$$input=e=>M(e.target.value),n(q,()=>i("server.smtpPassword")),T.$$input=e=>H(e.target.value),n(k,()=>i("server.smtpPasswordHint")),n(R,()=>i("server.smtpFrom")),G.$$input=e=>W(e.target.value),n(J,()=>i("server.saveConfiguration")),s(i=>{var n=g,l=S,s=$,u=C,d=C,o=C,p=C,m=I,x=C,h=w,c=we();return n!==i.e&&v(e,i.e=n),l!==i.t&&v(t,i.t=l),s!==i.a&&v(a,i.a=s),u!==i.o&&v(r,i.o=u),d!==i.i&&v(b,i.i=d),o!==i.n&&v(_,i.n=o),p!==i.s&&v(y,i.s=p),m!==i.h&&v(k,i.h=m),x!==i.r&&v(B,i.r=x),h!==i.d&&v(J,i.d=h),c!==i.l&&(J.disabled=i.l=c),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),s(()=>o.value=z()),s(()=>m.value=L()),s(()=>h.value=O()),s(()=>T.value=U()),s(()=>G.value=F()),e}}),null),n(Re,l(u,{get when(){return"quotas"===o()},get children(){var e=T(),t=e.firstChild,a=t.firstChild,r=a.firstChild,l=r.firstChild,u=l.nextSibling,d=r.nextSibling,o=d.firstChild,b=o.nextSibling,p=d.nextSibling,m=p.firstChild,_=m.nextSibling,x=p.nextSibling,h=x.firstChild,S=h.nextSibling,c=x.nextSibling,f=c.firstChild,q=f.nextSibling,j=c.nextSibling,P=j.firstChild,k=P.nextSibling,B=j.nextSibling,A=B.firstChild,R=A.nextSibling,z=B.nextSibling,E=z.firstChild,L=E.nextSibling,D=z.nextSibling,O=D.firstChild,M=O.nextSibling,U=D.nextSibling,H=U.firstChild,F=H.nextSibling,W=U.nextSibling,Ie=W.firstChild,qe=Ie.nextSibling,je=W.nextSibling,Pe=je.firstChild,Te=Pe.nextSibling,ke=je.nextSibling,Be=ke.firstChild,Re=Be.nextSibling,ze=a.nextSibling,Ee=ze.nextSibling,Le=Ee.nextSibling,De=Le.firstChild,Oe=De.firstChild,Me=Oe.nextSibling,Ue=De.nextSibling,He=Ue.firstChild,Fe=He.nextSibling,We=Ue.nextSibling,Ge=We.firstChild,Je=Ge.nextSibling,Ve=We.nextSibling,Ke=Ve.firstChild,Ne=Ke.nextSibling,Qe=Le.nextSibling;return t.addEventListener("submit",Ae),n(l,()=>i("server.maxRequestBodyBytes")),u.$$input=e=>J(parseInt(e.target.value)||0),n(o,()=>i("server.maxSessionsPerUser")),b.$$input=e=>K(parseInt(e.target.value)||0),n(m,()=>i("server.maxTablesPerWorkspace")),_.$$input=e=>Q(parseInt(e.target.value)||0),n(h,()=>i("server.maxColumnsPerTable")),S.$$input=e=>Y(parseInt(e.target.value)||0),n(f,()=>i("server.maxRecordsPerTable")),q.$$input=e=>ee(parseInt(e.target.value)||0),n(P,()=>i("server.maxPages")),k.$$input=e=>ie(parseInt(e.target.value)||0),n(A,()=>i("server.maxStorageBytes")),R.$$input=e=>re(parseInt(e.target.value)||0),n(E,()=>i("server.maxOrganizations")),L.$$input=e=>le(parseInt(e.target.value)||0),n(O,()=>i("server.maxWorkspaces")),M.$$input=e=>ve(parseInt(e.target.value)||0),n(H,()=>i("server.maxUsers")),F.$$input=e=>de(parseInt(e.target.value)||0),n(Ie,()=>i("server.maxTotalStorageBytes")),qe.$$input=e=>be(parseInt(e.target.value)||0),n(Pe,()=>i("server.maxAssetSizeBytes")),Te.$$input=e=>me(parseInt(e.target.value)||0),n(Be,()=>i("server.maxEgressBandwidthBps")),Re.$$input=e=>ge(parseInt(e.target.value)||0),n(ze,()=>i("server.rateLimits")),n(Ee,()=>i("server.rateLimitsHint")),n(Oe,()=>i("server.authRatePerMin")),Me.$$input=e=>he(parseInt(e.target.value)||0),n(He,()=>i("server.writeRatePerMin")),Fe.$$input=e=>ce(parseInt(e.target.value)||0),n(Ge,()=>i("server.readAuthRatePerMin")),Je.$$input=e=>$e(parseInt(e.target.value)||0),n(Ke,()=>i("server.readUnauthRatePerMin")),Ne.$$input=e=>Ce(parseInt(e.target.value)||0),n(Qe,()=>i("server.saveConfiguration")),s(i=>{var n=g,l=$,s=y,u=C,o=C,b=C,m=C,_=C,h=C,S=C,f=C,q=C,P=C,T=C,k=C,A=C,R=I,E=y,L=C,O=C,M=C,H=C,F=w,G=we();return n!==i.e&&v(e,i.e=n),l!==i.t&&v(t,i.t=l),s!==i.a&&v(a,i.a=s),u!==i.o&&v(r,i.o=u),o!==i.i&&v(d,i.i=o),b!==i.n&&v(p,i.n=b),m!==i.s&&v(x,i.s=m),_!==i.h&&v(c,i.h=_),h!==i.r&&v(j,i.r=h),S!==i.d&&v(B,i.d=S),f!==i.l&&v(z,i.l=f),q!==i.u&&v(D,i.u=q),P!==i.c&&v(U,i.c=P),T!==i.w&&v(W,i.w=T),k!==i.m&&v(je,i.m=k),A!==i.f&&v(ke,i.f=A),R!==i.y&&v(Ee,i.y=R),E!==i.g&&v(Le,i.g=E),L!==i.p&&v(De,i.p=L),O!==i.b&&v(Ue,i.b=O),M!==i.T&&v(We,i.T=M),H!==i.A&&v(Ve,i.A=H),F!==i.O&&v(Qe,i.O=F),G!==i.I&&(Qe.disabled=i.I=G),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0,O:void 0,I:void 0}),s(()=>u.value=G()),s(()=>b.value=V()),s(()=>_.value=N()),s(()=>S.value=X()),s(()=>q.value=Z()),s(()=>k.value=te()),s(()=>R.value=ae()),s(()=>L.value=ne()),s(()=>M.value=se()),s(()=>F.value=ue()),s(()=>qe.value=oe()),s(()=>Te.value=pe()),s(()=>Re.value=_e()),s(()=>Me.value=xe()),s(()=>Fe.value=Se()),s(()=>Je.value=fe()),s(()=>Ne.value=ye()),e}}),null),s(e=>{var t=p,i=m,a="dashboard"===o()?_:"",r="smtp"===o()?_:"",n="quotas"===o()?_:"";return t!==e.e&&v(Re,e.e=t),i!==e.t&&v(Ee,e.t=i),a!==e.a&&v(Le,e.a=a),r!==e.o&&v(De,e.o=r),n!==e.i&&v(Oe,e.i=n),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Re;var Re,ze,Ee,Le,De,Oe}b(["click","input"]);export{A as default};
//# sourceMappingURL=ServerSettingsPanel-CuNdLLgl.js.map
