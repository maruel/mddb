{"version":3,"file":"OrgSettingsPanel-KDcVBaqV.js","sources":["../../../../frontend/src/components/settings/OrgSettingsPanel.tsx"],"sourcesContent":["// Organization settings panel for managing organization members and preferences.\n\nimport { createSignal, createEffect, createMemo, Show } from 'solid-js';\nimport { useNavigate, useLocation } from '@solidjs/router';\nimport { useAuth } from '../../contexts';\nimport { useI18n } from '../../i18n';\nimport type { UserResponse, OrgInvitationResponse, OrganizationRole } from '@sdk/types.gen';\nimport { OrgRoleOwner, OrgRoleAdmin } from '@sdk/types.gen';\nimport MembersTable from './MembersTable';\nimport InviteForm from './InviteForm';\nimport styles from './OrgSettingsPanel.module.css';\n\ninterface OrgSettingsPanelProps {\n  orgId: string;\n  section?: string;\n}\n\ntype Tab = 'members' | 'settings';\n\nexport default function OrgSettingsPanel(props: OrgSettingsPanelProps) {\n  const { t } = useI18n();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { user, api } = useAuth();\n\n  // Determine initial tab from section prop\n  const getInitialTab = (): Tab => {\n    if (props.section === 'settings') return 'settings';\n    return 'members';\n  };\n\n  const [activeTab, setActiveTab] = createSignal<Tab>(getInitialTab());\n  const [members, setMembers] = createSignal<UserResponse[]>([]);\n  const [invitations, setInvitations] = createSignal<OrgInvitationResponse[]>([]);\n\n  // Organization settings states\n  const [orgName, setOrgName] = createSignal('');\n  const [originalOrgName, setOriginalOrgName] = createSignal('');\n\n  // Organization quotas\n  const [maxWorkspacesPerOrg, setMaxWorkspacesPerOrg] = createSignal(0);\n  const [maxMembersPerOrg, setMaxMembersPerOrg] = createSignal(0);\n  const [maxMembersPerWorkspace, setMaxMembersPerWorkspace] = createSignal(0);\n  const [maxTotalStorageBytes, setMaxTotalStorageBytes] = createSignal(0);\n  // Organization resource quotas (0 = no limit at this layer)\n  const [maxPages, setMaxPages] = createSignal(0);\n  const [maxStorageBytes, setMaxStorageBytes] = createSignal(0);\n  const [maxRecordsPerTable, setMaxRecordsPerTable] = createSignal(0);\n  const [maxAssetSizeBytes, setMaxAssetSizeBytes] = createSignal(0);\n  const [maxTablesPerWorkspace, setMaxTablesPerWorkspace] = createSignal(0);\n  const [maxColumnsPerTable, setMaxColumnsPerTable] = createSignal(0);\n\n  const [loading, setLoading] = createSignal(false);\n  const [error, setError] = createSignal<string | null>(null);\n  const [success, setSuccess] = createSignal<string | null>(null);\n\n  // Create org-scoped API client for the specified orgId\n  const orgApi = createMemo(() => api().org(props.orgId));\n\n  // Get user's role in this organization\n  const userOrgRole = createMemo(() => {\n    const membership = user()?.organizations?.find((m) => m.organization_id === props.orgId);\n    return membership?.role;\n  });\n\n  const isAdmin = createMemo(() => {\n    const role = userOrgRole();\n    return role === OrgRoleOwner || role === OrgRoleAdmin;\n  });\n\n  // Update URL hash when tab changes\n  const handleTabChange = (tab: Tab) => {\n    setActiveTab(tab);\n    const newHash = tab === 'members' ? '' : `#${tab}`;\n    navigate(location.pathname + newHash, { replace: true });\n  };\n\n  const loadData = async () => {\n    const org = orgApi();\n\n    try {\n      setLoading(true);\n      setError(null);\n\n      if (activeTab() === 'members' && isAdmin()) {\n        const [membersData, invsData] = await Promise.all([\n          org.users.listUsers(),\n          org.invitations.listOrgInvitations(),\n        ]);\n        setMembers(membersData.users?.filter((u): u is UserResponse => !!u) || []);\n        setInvitations(invsData.invitations?.filter((i): i is OrgInvitationResponse => !!i) || []);\n      }\n\n      if (activeTab() === 'settings') {\n        const orgData = await org.organizations.getOrganization();\n        setOrgName(orgData.name);\n        setOriginalOrgName(orgData.name);\n        // Load quotas\n        setMaxWorkspacesPerOrg(orgData.quotas.max_workspaces_per_org);\n        setMaxMembersPerOrg(orgData.quotas.max_members_per_org);\n        setMaxMembersPerWorkspace(orgData.quotas.max_members_per_workspace);\n        setMaxTotalStorageBytes(orgData.quotas.max_total_storage_bytes);\n        // Resource quotas\n        setMaxPages(orgData.quotas.max_pages);\n        setMaxStorageBytes(orgData.quotas.max_storage_bytes);\n        setMaxRecordsPerTable(orgData.quotas.max_records_per_table);\n        setMaxAssetSizeBytes(orgData.quotas.max_asset_size_bytes);\n        setMaxTablesPerWorkspace(orgData.quotas.max_tables_per_workspace);\n        setMaxColumnsPerTable(orgData.quotas.max_columns_per_table);\n      }\n    } catch (err) {\n      setError(`${t('errors.failedToLoad')}: ${err}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  createEffect(() => {\n    loadData();\n  });\n\n  // Update tab when section prop changes\n  createEffect(() => {\n    const section = props.section;\n    if (section === 'settings') setActiveTab('settings');\n    else if (section === 'members' || !section) setActiveTab('members');\n  });\n\n  const handleInvite = async (email: string, role: string) => {\n    const org = orgApi();\n\n    try {\n      setLoading(true);\n      await org.invitations.createOrgInvitation({ email, role: role as 'admin' | 'member' });\n      setSuccess(t('success.invitationSent') || 'Invitation sent successfully');\n      loadData();\n    } catch (err) {\n      setError(`${t('errors.failedToInvite')}: ${err}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRemoveMember = async (userId: string) => {\n    if (!confirm(t('settings.confirmRemoveMember'))) return;\n    const org = orgApi();\n\n    try {\n      setLoading(true);\n      await org.users.removeOrgMember({ user_id: userId });\n      setSuccess(t('success.memberRemoved'));\n      loadData();\n    } catch (err) {\n      setError(`${t('errors.failedToRemoveMember')}: ${err}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdateRole = async (userId: string, role: string) => {\n    const org = orgApi();\n\n    try {\n      setLoading(true);\n      await org.users.updateOrgMemberRole({ user_id: userId, role: role as OrganizationRole });\n      setSuccess(t('success.roleUpdated') || 'Role updated');\n      loadData();\n    } catch (err) {\n      setError(`${t('errors.failedToUpdateRole')}: ${err}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const saveOrgSettings = async (e: Event) => {\n    e.preventDefault();\n    const org = orgApi();\n\n    try {\n      setLoading(true);\n      setError(null);\n      setSuccess(null);\n\n      // Update org name if changed\n      if (orgName() !== originalOrgName() && orgName().trim()) {\n        await org.organizations.updateOrganization({ name: orgName().trim() });\n        setOriginalOrgName(orgName().trim());\n      }\n\n      // Update quotas\n      await org.settings.updateOrgPreferences({\n        quotas: {\n          max_workspaces_per_org: maxWorkspacesPerOrg(),\n          max_members_per_org: maxMembersPerOrg(),\n          max_members_per_workspace: maxMembersPerWorkspace(),\n          max_total_storage_bytes: maxTotalStorageBytes(),\n          max_pages: maxPages(),\n          max_storage_bytes: maxStorageBytes(),\n          max_records_per_table: maxRecordsPerTable(),\n          max_asset_size_bytes: maxAssetSizeBytes(),\n          max_tables_per_workspace: maxTablesPerWorkspace(),\n          max_columns_per_table: maxColumnsPerTable(),\n        },\n      });\n\n      setSuccess(t('success.orgSettingsSaved') || 'Organization settings saved');\n    } catch (err) {\n      setError(`${t('errors.failedToSave')}: ${err}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const orgRoleOptions = [\n    { value: 'owner', label: t('settings.roleOwner') },\n    { value: 'admin', label: t('settings.roleAdmin') },\n    { value: 'member', label: t('settings.roleMember') },\n  ];\n\n  const inviteRoleOptions = [\n    { value: 'admin', label: t('settings.roleAdmin') },\n    { value: 'member', label: t('settings.roleMember') },\n  ];\n\n  const pendingInvitations = () =>\n    invitations().map((inv) => ({\n      email: inv.email,\n      role: inv.role,\n      created: inv.created,\n    }));\n\n  return (\n    <div class={styles.panel}>\n      <div class={styles.tabs}>\n        <button class={activeTab() === 'members' ? styles.activeTab : ''} onClick={() => handleTabChange('members')}>\n          {t('settings.members')}\n        </button>\n        <button class={activeTab() === 'settings' ? styles.activeTab : ''} onClick={() => handleTabChange('settings')}>\n          {t('settings.settings')}\n        </button>\n      </div>\n\n      <Show when={error()}>\n        <div class={styles.error}>{error()}</div>\n      </Show>\n      <Show when={success()}>\n        <div class={styles.success}>{success()}</div>\n      </Show>\n\n      <Show when={activeTab() === 'members'}>\n        <section class={styles.section}>\n          <h3>{t('settings.organizationMembers')}</h3>\n          <Show when={isAdmin()} fallback={<p>{t('settings.adminOnlyMembers')}</p>}>\n            <MembersTable\n              members={members()}\n              currentUserId={user()?.id || ''}\n              roleOptions={orgRoleOptions}\n              roleField=\"org_role\"\n              onUpdateRole={handleUpdateRole}\n              onRemove={handleRemoveMember}\n              loading={loading()}\n            />\n            <InviteForm\n              roleOptions={inviteRoleOptions}\n              defaultRole=\"member\"\n              pendingInvitations={pendingInvitations()}\n              onInvite={handleInvite}\n              loading={loading()}\n            />\n          </Show>\n        </section>\n      </Show>\n\n      <Show when={activeTab() === 'settings'}>\n        <section class={styles.section}>\n          <h3>{t('settings.organizationPreferences')}</h3>\n          <Show when={isAdmin()} fallback={<p>{t('settings.adminOnlySettings')}</p>}>\n            <form onSubmit={saveOrgSettings} class={styles.settingsForm}>\n              <div class={styles.formItem}>\n                <label>{t('settings.organizationName')}</label>\n                <input type=\"text\" value={orgName()} onInput={(e) => setOrgName(e.target.value)} required />\n              </div>\n\n              <h4>{t('settings.organizationQuotas')}</h4>\n              <div class={styles.formGrid}>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxWorkspacesPerOrg')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxWorkspacesPerOrg()}\n                    onInput={(e) => setMaxWorkspacesPerOrg(parseInt(e.target.value) || 1)}\n                    min=\"1\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxMembersPerOrg')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxMembersPerOrg()}\n                    onInput={(e) => setMaxMembersPerOrg(parseInt(e.target.value) || 1)}\n                    min=\"1\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxMembersPerWorkspace')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxMembersPerWorkspace()}\n                    onInput={(e) => setMaxMembersPerWorkspace(parseInt(e.target.value) || 1)}\n                    min=\"1\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxTotalStorageBytes')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxTotalStorageBytes()}\n                    onInput={(e) => setMaxTotalStorageBytes(parseInt(e.target.value) || 1)}\n                    min=\"1\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxPages')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxPages()}\n                    onInput={(e) => setMaxPages(parseInt(e.target.value) || 0)}\n                    min=\"0\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxStorageBytes')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxStorageBytes()}\n                    onInput={(e) => setMaxStorageBytes(parseInt(e.target.value) || 0)}\n                    min=\"0\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxRecordsPerTable')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxRecordsPerTable()}\n                    onInput={(e) => setMaxRecordsPerTable(parseInt(e.target.value) || 0)}\n                    min=\"0\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxAssetSizeBytes')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxAssetSizeBytes()}\n                    onInput={(e) => setMaxAssetSizeBytes(parseInt(e.target.value) || 0)}\n                    min=\"0\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxTablesPerWorkspace')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxTablesPerWorkspace()}\n                    onInput={(e) => setMaxTablesPerWorkspace(parseInt(e.target.value) || 0)}\n                    min=\"0\"\n                  />\n                </div>\n                <div class={styles.formItem}>\n                  <label>{t('settings.maxColumnsPerTable')}</label>\n                  <input\n                    type=\"number\"\n                    value={maxColumnsPerTable()}\n                    onInput={(e) => setMaxColumnsPerTable(parseInt(e.target.value) || 0)}\n                    min=\"0\"\n                  />\n                </div>\n              </div>\n\n              <button type=\"submit\" class={styles.saveButton} disabled={loading()}>\n                {t('common.save')}\n              </button>\n            </form>\n          </Show>\n        </section>\n      </Show>\n    </div>\n  );\n}\n"],"names":["OrgSettingsPanel","props","t","useI18n","navigate","useNavigate","location","useLocation","user","api","useAuth","activeTab","setActiveTab","createSignal","section","members","setMembers","invitations","setInvitations","orgName","setOrgName","originalOrgName","setOriginalOrgName","maxWorkspacesPerOrg","setMaxWorkspacesPerOrg","maxMembersPerOrg","setMaxMembersPerOrg","maxMembersPerWorkspace","setMaxMembersPerWorkspace","maxTotalStorageBytes","setMaxTotalStorageBytes","maxPages","setMaxPages","maxStorageBytes","setMaxStorageBytes","maxRecordsPerTable","setMaxRecordsPerTable","maxAssetSizeBytes","setMaxAssetSizeBytes","maxTablesPerWorkspace","setMaxTablesPerWorkspace","maxColumnsPerTable","setMaxColumnsPerTable","loading","setLoading","error","setError","success","setSuccess","orgApi","createMemo","org","orgId","userOrgRole","membership","organizations","find","m","organization_id","role","isAdmin","OrgRoleOwner","OrgRoleAdmin","handleTabChange","tab","newHash","pathname","replace","loadData","async","membersData","invsData","Promise","all","users","listUsers","listOrgInvitations","filter","u","i","orgData","getOrganization","name","quotas","max_workspaces_per_org","max_members_per_org","max_members_per_workspace","max_total_storage_bytes","max_pages","max_storage_bytes","max_records_per_table","max_asset_size_bytes","max_tables_per_workspace","max_columns_per_table","err","createEffect","handleInvite","email","createOrgInvitation","handleRemoveMember","userId","confirm","removeOrgMember","user_id","handleUpdateRole","updateOrgMemberRole","saveOrgSettings","e","preventDefault","trim","updateOrganization","settings","updateOrgPreferences","orgRoleOptions","value","label","inviteRoleOptions","_el$","_tmpl$4","_el$2","firstChild","_el$3","_el$4","nextSibling","$$click","_$insert","_$createComponent","Show","when","children","_el$5","_tmpl$","_$effect","_$className","styles","_el$6","_el$7","_tmpl$2","_el$8","fallback","_el$46","_tmpl$5","MembersTable","currentUserId","id","roleOptions","roleField","onUpdateRole","onRemove","InviteForm","defaultRole","pendingInvitations","map","inv","created","onInvite","_el$9","_el$0","_el$47","_el$1","_tmpl$3","_el$10","_el$11","_el$12","_el$13","_el$14","_el$15","_el$16","_el$17","_el$18","_el$19","_el$20","_el$21","_el$22","_el$23","_el$24","_el$25","_el$26","_el$27","_el$28","_el$29","_el$30","_el$31","_el$32","_el$33","_el$34","_el$35","_el$36","_el$37","_el$38","_el$39","_el$40","_el$41","_el$42","_el$43","_el$44","_el$45","addEventListener","$$input","target","parseInt","_p$","_v$","_v$2","_v$3","_v$4","_v$5","_v$6","_v$7","_v$8","_v$9","_v$0","_v$1","_v$10","_v$11","_v$12","_v$13","a","o","n","s","h","r","d","l","c","w","disabled","undefined","_v$14","_v$15","_v$16","_v$17","_$delegateEvents"],"mappings":"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"}