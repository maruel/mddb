{"version":3,"file":"InviteForm-CzWEvg1O.js","sources":["../../../../frontend/src/components/settings/MembersTable.tsx","../../../../frontend/src/components/settings/InviteForm.tsx"],"sourcesContent":["// Shared members table component for workspace and organization settings.\n\nimport { For, Show } from 'solid-js';\nimport { useI18n } from '../../i18n';\nimport type { UserResponse } from '@sdk/types.gen';\nimport styles from './MembersTable.module.css';\n\ninterface RoleOption {\n  value: string;\n  label: string;\n}\n\ninterface MembersTableProps {\n  members: UserResponse[];\n  currentUserId: string;\n  roleOptions: RoleOption[];\n  roleField: 'workspace_role' | 'org_role';\n  onUpdateRole: (userId: string, role: string) => void;\n  onRemove?: (userId: string) => void;\n  loading?: boolean;\n}\n\nexport default function MembersTable(props: MembersTableProps) {\n  const { t } = useI18n();\n\n  const getMemberRole = (member: UserResponse): string => {\n    return (props.roleField === 'workspace_role' ? member.workspace_role : member.org_role) || '';\n  };\n\n  return (\n    <table class={styles.table}>\n      <thead>\n        <tr>\n          <th>{t('settings.nameColumn')}</th>\n          <th>{t('settings.emailColumn')}</th>\n          <th>{t('settings.roleColumn')}</th>\n          <Show when={props.onRemove}>\n            <th>{t('settings.actionsColumn')}</th>\n          </Show>\n        </tr>\n      </thead>\n      <tbody>\n        <For each={props.members}>\n          {(member) => (\n            <tr>\n              <td>{member.name}</td>\n              <td>{member.email}</td>\n              <td>\n                <Show when={member.id !== props.currentUserId} fallback={getMemberRole(member)}>\n                  <select\n                    value={getMemberRole(member)}\n                    onChange={(e) => props.onUpdateRole(member.id, e.target.value)}\n                    class={styles.roleSelect}\n                    disabled={props.loading}\n                  >\n                    <For each={props.roleOptions}>\n                      {(option) => <option value={option.value}>{option.label}</option>}\n                    </For>\n                  </select>\n                </Show>\n              </td>\n              <Show when={props.onRemove}>\n                <td>\n                  <Show when={member.id !== props.currentUserId}>\n                    <button\n                      class={styles.removeButton}\n                      onClick={() => props.onRemove?.(member.id)}\n                      disabled={props.loading}\n                    >\n                      {t('common.remove')}\n                    </button>\n                  </Show>\n                </td>\n              </Show>\n            </tr>\n          )}\n        </For>\n      </tbody>\n    </table>\n  );\n}\n","// Shared invite form component for workspace and organization settings.\n\nimport { createSignal, For, Show } from 'solid-js';\nimport { useI18n } from '../../i18n';\nimport styles from './InviteForm.module.css';\n\ninterface RoleOption {\n  value: string;\n  label: string;\n}\n\ninterface PendingInvitation {\n  email: string;\n  role: string;\n  created: string | number;\n}\n\ninterface InviteFormProps {\n  roleOptions: RoleOption[];\n  defaultRole: string;\n  pendingInvitations: PendingInvitation[];\n  onInvite: (email: string, role: string) => Promise<void>;\n  loading?: boolean;\n}\n\nexport default function InviteForm(props: InviteFormProps) {\n  const { t } = useI18n();\n  const [email, setEmail] = createSignal('');\n  const [role, setRole] = createSignal(props.defaultRole);\n\n  const handleSubmit = async (e: Event) => {\n    e.preventDefault();\n    if (!email()) return;\n    await props.onInvite(email(), role());\n    setEmail('');\n  };\n\n  return (\n    <div class={styles.inviteSection}>\n      <form onSubmit={handleSubmit} class={styles.inviteForm}>\n        <h4>{t('settings.inviteNewMember')}</h4>\n        <div class={styles.formGroup}>\n          <input\n            type=\"email\"\n            placeholder={t('settings.emailPlaceholder') || 'Email address'}\n            value={email()}\n            onInput={(e) => setEmail(e.target.value)}\n            required\n            disabled={props.loading}\n          />\n          <select value={role()} onChange={(e) => setRole(e.target.value)} disabled={props.loading}>\n            <For each={props.roleOptions}>{(option) => <option value={option.value}>{option.label}</option>}</For>\n          </select>\n          <button type=\"submit\" disabled={props.loading}>\n            {t('common.invite')}\n          </button>\n        </div>\n      </form>\n\n      <Show when={props.pendingInvitations.length > 0}>\n        <div class={styles.pendingSection}>\n          <h4>{t('settings.pendingInvitations')}</h4>\n          <table class={styles.table}>\n            <thead>\n              <tr>\n                <th>{t('settings.emailColumn')}</th>\n                <th>{t('settings.roleColumn')}</th>\n                <th>{t('settings.sentColumn')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <For each={props.pendingInvitations}>\n                {(inv) => (\n                  <tr>\n                    <td>{inv.email}</td>\n                    <td>{inv.role}</td>\n                    <td>{new Date(inv.created).toLocaleDateString()}</td>\n                  </tr>\n                )}\n              </For>\n            </tbody>\n          </table>\n        </div>\n      </Show>\n    </div>\n  );\n}\n"],"names":["MembersTable","props","t","useI18n","getMemberRole","member","roleField","workspace_role","org_role","_el$","_tmpl$2","_el$2","firstChild","_el$3","_el$4","_el$5","nextSibling","_el$6","_el$8","_$insert","_$createComponent","Show","when","onRemove","children","_el$7","_tmpl$","For","each","members","_el$9","_tmpl$6","_el$0","_el$1","_el$10","name","email","id","currentUserId","fallback","_el$11","_tmpl$3","addEventListener","e","onUpdateRole","target","value","roleOptions","_el$14","_tmpl$7","option","label","_$effect","_p$","_v$","styles","_v$2","loading","_$className","disabled","undefined","_el$12","_tmpl$5","_el$13","_tmpl$4","$$click","_v$3","_v$4","_$delegateEvents","InviteForm","setEmail","createSignal","role","setRole","defaultRole","handleSubmit","async","preventDefault","onInvite","$$input","_el$15","pendingInvitations","length","_el$16","_el$17","_el$18","_el$19","inv","Date","created","toLocaleDateString","_v$5","_v$6","_v$7","_v$8","_v$9","a","o","_$setAttribute","i","n","s"],"mappings":"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"}