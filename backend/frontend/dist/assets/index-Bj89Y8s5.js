import{c as e,h as t,j as i,l as n,d as r,S as a,m as s,n as l,F as o,p as d,q as u,s as v,x as g,g as c,A as _,o as p,E as m}from"./vendor-DJNpYIwx.js";import{u as b,a as h,s as f,W as y,O as x,g as w,w as S}from"./index-CFaivuqQ.js";const $="_navItemWrapper_1177w_3",C="_navItem_1177w_3",k="_active_1177w_27",I="_section_1177w_34",q="_expandIcon_1177w_56",z="_expanded_1177w_74",R="_expandSpacer_1177w_78",T="_label_1177w_84",L="_children_1177w_91";var P=g("<span>▶"),E=g("<div>"),j=g("<div><a><span>"),O=g("<span>");function A(g){const c=()=>g.item.children&&g.item.children.length>0,_=()=>{if(!c())return!1;const e=g.currentRoute,t=i=>{for(const n of i){if(g.isActive(n.url,e))return!0;if(n.children&&t(n.children))return!0}return!1};return t(g.item.children||[])},[p,m]=e(t(()=>0===g.depth||_()));i(()=>{g.currentRoute&&_()&&m(!0)});const b=e=>{e.preventDefault(),c()&&!g.item.url?m(!p()):g.item.url&&(c()&&m(!0),g.onNavigate(g.item.url))},h=e=>{e.preventDefault(),e.stopPropagation(),m(!p())};return f=j(),y=f.firstChild,x=y.firstChild,y.$$click=b,n(y,r(a,{get when(){return c()},get fallback(){return e=O(),s(()=>l(e,R)),e;var e},get children(){var e=P();return e.$$click=h,s(()=>l(e,(()=>{let e=q;return p()&&(e+=" "+z),e})())),e}}),x),n(x,()=>g.item.label),n(f,r(a,{get when(){return d(()=>!!p())()&&c()},get children(){var e=E();return n(e,r(o,{get each(){return g.item.children},children:e=>r(A,{item:e,get depth(){return g.depth+1},get isActive(){return g.isActive},get onNavigate(){return g.onNavigate},get currentRoute(){return g.currentRoute}})})),s(()=>l(e,L)),e}}),null),s(e=>{var t=$,i=g.item.url||"#",n=(()=>{let e=C;return g.isActive(g.item.url,g.currentRoute)&&(e+=" "+k),0===g.depth&&c()&&(e+=" "+I),e})(),r=12*g.depth+16+"px",a=T;return t!==e.e&&l(f,e.e=t),i!==e.t&&u(y,"href",e.t=i),n!==e.a&&l(y,e.a=n),r!==e.o&&v(y,"padding-left",e.o=r),a!==e.i&&l(x,e.i=a),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),f;var f,y,x}c(["click"]);const U="_sidebar_dpyfy_3",B="_nav_dpyfy_13",D="_mobileOpen_dpyfy_31";var N=g("<aside><nav>");function W(e){const{t:t}=b(),{user:i}=h(),a=(e,t)=>{if(!e)return!1;if("/settings/user"===e&&"profile"===t.type)return!0;if("/settings/server"===e&&"server"===t.type)return!0;if("workspace"===t.type&&t.id){const i=e.match(/^\/settings\/workspace\/([^+/]+)/);if(i&&i[1]===t.id){const[,i]=e.split("#");return i?t.section===i:!t.section}}if("org"===t.type&&t.id){const i=e.match(/^\/settings\/org\/([^+/]+)/);if(i&&i[1]===t.id){const[,i]=e.split("#");return i?t.section===i:!t.section}}return!1};return d=N(),u=d.firstChild,n(u,r(o,{get each(){return(()=>{const e=[],n=i();if(!n)return e;e.push({id:"user",label:t("settings.personal"),url:f("user")});const r=n.workspaces||[];if(r.length>0){const i=r.map(e=>{const i=e.workspace_id,n=e.workspace_name||i,r=e.role===y,a=[{id:`ws-${i}-members`,label:t("settings.members"),url:f("workspace",i,n)+"#members"},{id:`ws-${i}-settings`,label:t("settings.settings"),url:f("workspace",i,n)+"#settings"}];return r&&a.push({id:`ws-${i}-sync`,label:t("settings.gitSync"),url:f("workspace",i,n)+"#sync"}),{id:`ws-${i}`,label:n,url:f("workspace",i,n),children:a}});e.push({id:"workspaces",label:t("settings.workspaces"),url:"",children:i})}const a=(n.organizations||[]).filter(e=>e.role===x||e.role===w);if(a.length>0){const i=a.map(e=>{const i=e.organization_id,n=e.organization_name||i;return{id:`org-${i}`,label:n,url:f("org",i,n),children:[{id:`org-${i}-members`,label:t("settings.members"),url:f("org",i,n)+"#members"},{id:`org-${i}-settings`,label:t("settings.settings"),url:f("org",i,n)+"#settings"}]}});e.push({id:"organizations",label:t("settings.organizations"),url:"",children:i})}return n.is_global_admin&&e.push({id:"server",label:t("server.serverSettings"),url:f("server")}),e})()},children:t=>r(A,{item:t,depth:0,isActive:a,get onNavigate(){return e.onNavigate},get currentRoute(){return e.currentRoute}})})),s(t=>{var i=`${U} ${e.isOpen?D:""}`,n=B;return i!==t.e&&l(d,t.e=i),n!==t.t&&l(u,t.t=n),t},{e:void 0,t:void 0}),d;var d,u}const M="_profile_vysi4_3",F="_userInfoSection_vysi4_7",G="_avatarLarge_vysi4_17",H="_avatarImageLarge_vysi4_29",Q="_initialsLarge_vysi4_35",V="_userDetails_vysi4_41",J="_userName_vysi4_45",K="_userEmail_vysi4_51",X="_userRole_vysi4_56",Y="_section_vysi4_66",Z="_error_vysi4_75",ee="_success_vysi4_83",te="_settingsForm_vysi4_91",ie="_formItem_vysi4_98",ne="_checkboxLabel_vysi4_117",re="_saveButton_vysi4_130",ae="_orgList_vysi4_149",se="_orgItem_vysi4_155",le="_orgInfo_vysi4_165",oe="_orgName_vysi4_171",de="_orgNameLink_vysi4_175",ue="_orgRole_vysi4_185",ve="_emptyState_vysi4_194";var ge=g("<div>"),ce=g("<span>"),_e=g("<section><div></div><div><h3></h3><p>"),pe=g("<section><h3>"),me=g("<div><label><input type=checkbox>"),be=g("<section><h3></h3><form><div><label></label><select><option value=light></option><option value=dark></option><option value=system></option></select></div><div><label></label><select><option value=en></option><option value=fr></option><option value=de></option><option value=es></option></select></div><button type=submit>"),he=g("<img referrerpolicy=no-referrer>"),fe=g("<p>"),ye=g("<a>"),xe=g("<div><div><span>");function we(){const{t:t}=b(),{user:d,api:v,wsApi:g}=h(),[c,_]=e("light"),[p,m]=e("en"),[y,S]=e(!0),[$,C]=e(!1),[k,I]=e(null),[q,z]=e(null),R=()=>{const e=d(),t=e?.name||e?.email||"",i=t.split(/[\s@]+/);return i.length>=2&&i[0]&&i[1]?((i[0][0]||"")+(i[1][0]||"")).toUpperCase():t.slice(0,2).toUpperCase()};i(()=>{const e=d();_(e?.settings?.theme||"light"),m(e?.settings?.language||"en")});i(()=>{(async()=>{const e=d();if(e)try{C(!0),I(null);const t=e.workspaces?.find(t=>t.workspace_id===e.workspace_id);t&&S(t.settings?.notifications??!0)}catch(i){I(`${t("errors.failedToLoad")}: ${i}`)}finally{C(!1)}})()});const T=async e=>{e.preventDefault();const i=g();try{C(!0),I(null),z(null);const e={theme:c(),language:p()},n=[v().auth.updateUserSettings({settings:e})];if(i){const e={notifications:y()};n.push(i.settings.updateWSMembershipSettings({settings:e}))}await Promise.all(n),z(t("success.personalSettingsSaved")||"Personal settings saved successfully")}catch(n){I(`${t("errors.failedToSave")}: ${n}`)}finally{C(!1)}};return L=ge(),n(L,r(a,{get when(){return k()},get children(){var e=ge();return n(e,k),s(()=>l(e,Z)),e}}),null),n(L,r(a,{get when(){return q()},get children(){var e=ge();return n(e,q),s(()=>l(e,ee)),e}}),null),n(L,r(a,{get when(){return d()},children:e=>{return[(N=_e(),W=N.firstChild,M=W.nextSibling,Z=M.firstChild,ee=Z.nextSibling,n(W,r(a,{get when(){return(()=>{const e=d()?.oauth_identities;if(!e)return null;for(const t of e)if(t.avatar_url)return t.avatar_url;return null})()},get fallback(){return e=ce(),n(e,R),s(()=>l(e,Q)),e;var e},children:t=>{return i=he(),s(n=>{var r=t(),a=e().name||"User",s=H;return r!==n.e&&u(i,"src",n.e=r),a!==n.t&&u(i,"alt",n.t=a),s!==n.a&&l(i,n.a=s),n},{e:void 0,t:void 0,a:void 0}),i;var i}})),n(Z,()=>e().name),n(ee,()=>e().email),n(M,r(a,{get when(){return e().workspace_role},get children(){var t=ce();return n(t,()=>e().workspace_role),s(()=>l(t,X)),t}}),null),s(e=>{var t=F,i=G,n=V,r=J,a=K;return t!==e.e&&l(N,e.e=t),i!==e.t&&l(W,e.t=i),n!==e.a&&l(M,e.a=n),r!==e.o&&l(Z,e.o=r),a!==e.i&&l(ee,e.i=a),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),N),(B=pe(),D=B.firstChild,n(D,()=>t("profile.myOrganizations")),n(B,r(a,{get when(){return e().organizations?.length},get fallback(){return e=fe(),n(e,()=>t("profile.noOrganizations")),s(()=>l(e,ve)),e;var e},get children(){var t=ge();return n(t,r(o,{get each(){return e().organizations},children:e=>{const t=e.organization_name||e.organization_id;return i=xe(),o=i.firstChild,d=o.firstChild,n(o,r(a,{get when(){return e.role===x||e.role===w},get fallback(){return e=ce(),n(e,t),s(()=>l(e,oe)),e;var e},get children(){var i=ye();return i.$$click=t=>{t.preventDefault(),(e=>{window.history.pushState(null,"",f("org",e.organization_id,e.organization_name)),window.dispatchEvent(new PopStateEvent("popstate"))})(e)},n(i,t),s(t=>{var n=f("org",e.organization_id,e.organization_name),r=de;return n!==t.e&&u(i,"href",t.e=n),r!==t.t&&l(i,t.t=r),t},{e:void 0,t:void 0}),i}}),d),n(d,()=>e.role),s(e=>{var t=se,n=le,r=ue;return t!==e.e&&l(i,e.e=t),n!==e.t&&l(o,e.t=n),r!==e.a&&l(d,e.a=r),e},{e:void 0,t:void 0,a:void 0}),i;var i,o,d}})),s(()=>l(t,ae)),t}}),null),s(()=>l(B,Y)),B),(i=be(),v=i.firstChild,g=v.nextSibling,b=g.firstChild,h=b.firstChild,C=h.nextSibling,k=C.firstChild,I=k.nextSibling,q=I.nextSibling,z=b.nextSibling,L=z.firstChild,P=L.nextSibling,E=P.firstChild,j=E.nextSibling,O=j.nextSibling,A=O.nextSibling,U=z.nextSibling,n(v,()=>t("settings.personalSettings")),g.addEventListener("submit",T),n(h,()=>t("settings.theme")),C.addEventListener("change",e=>_(e.target.value)),n(k,()=>t("settings.themeLight")),n(I,()=>t("settings.themeDark")),n(q,()=>t("settings.themeSystem")),n(L,()=>t("settings.language")),P.addEventListener("change",e=>m(e.target.value)),n(E,()=>t("settings.languageEn")),n(j,()=>t("settings.languageFr")),n(O,()=>t("settings.languageDe")),n(A,()=>t("settings.languageEs")),n(g,r(a,{get when(){return e().workspace_id},get children(){var e=me(),i=e.firstChild,r=i.firstChild;return r.addEventListener("change",e=>S(e.currentTarget.checked)),n(i,()=>t("settings.enableNotifications"),null),s(t=>{var n=ie,r=ne;return n!==t.e&&l(e,t.e=n),r!==t.t&&l(i,t.t=r),t},{e:void 0,t:void 0}),s(()=>r.checked=y()),e}}),U),n(U,()=>t("settings.saveChanges")),s(e=>{var t=Y,n=te,r=ie,a=ie,s=re,o=$();return t!==e.e&&l(i,e.e=t),n!==e.t&&l(g,e.t=n),r!==e.a&&l(b,e.a=r),a!==e.o&&l(z,e.o=a),s!==e.i&&l(U,e.i=s),o!==e.n&&(U.disabled=e.n=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),s(()=>C.value=c()),s(()=>P.value=p()),i)];var i,v,g,b,h,C,k,I,q,z,L,P,E,j,O,A,U,B,D,N,W,M,Z,ee}}),null),s(()=>l(L,M)),L;var L}c(["click"]);const Se="_table_rjyw4_3",$e="_roleSelect_rjyw4_21";var Ce=g("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),ke=g("<select>"),Ie=g("<tr><td></td><td></td><td>"),qe=g("<option>");function ze(e){const{t:t}=b(),i=t=>("workspace_role"===e.roleField?t.workspace_role:t.org_role)||"";return d=Ce(),u=d.firstChild,v=u.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,_=u.nextSibling,n(v,()=>t("settings.nameColumn")),n(g,()=>t("settings.emailColumn")),n(c,()=>t("settings.roleColumn")),n(_,r(o,{get each(){return e.members},children:t=>{return d=Ie(),u=d.firstChild,v=u.nextSibling,g=v.nextSibling,n(u,()=>t.name),n(v,()=>t.email),n(g,r(a,{get when(){return t.id!==e.currentUserId},get fallback(){return i(t)},get children(){var a=ke();return a.addEventListener("change",i=>e.onUpdateRole(t.id,i.target.value)),n(a,r(o,{get each(){return e.roleOptions},children:e=>{return t=qe(),n(t,()=>e.label),s(()=>t.value=e.value),t;var t}})),s(t=>{var i=$e,n=e.loading;return i!==t.e&&l(a,t.e=i),n!==t.t&&(a.disabled=t.t=n),t},{e:void 0,t:void 0}),s(()=>a.value=i(t)),a}})),d;var d,u,v,g}})),s(()=>l(d,Se)),d;var d,u,v,g,c,_}const Re="_inviteSection_toc48_3",Te="_inviteForm_toc48_7",Le="_formGroup_toc48_17",Pe="_pendingSection_toc48_57",Ee="_table_toc48_65";var je=g("<div><h4></h4><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),Oe=g("<div><form><h4></h4><div><input type=email required><select></select><button type=submit>"),Ae=g("<option>"),Ue=g("<tr><td></td><td></td><td>");function Be(t){const{t:i}=b(),[d,v]=e(""),[g,c]=e(t.defaultRole),_=async e=>{e.preventDefault(),d()&&(await t.onInvite(d(),g()),v(""))};return p=Oe(),m=p.firstChild,h=m.firstChild,f=h.nextSibling,y=f.firstChild,x=y.nextSibling,w=x.nextSibling,m.addEventListener("submit",_),n(h,()=>i("settings.inviteNewMember")),y.$$input=e=>v(e.target.value),x.addEventListener("change",e=>c(e.target.value)),n(x,r(o,{get each(){return t.roleOptions},children:e=>{return t=Ae(),n(t,()=>e.label),s(()=>t.value=e.value),t;var t}})),n(w,()=>i("common.invite")),n(p,r(a,{get when(){return t.pendingInvitations.length>0},get children(){var e=je(),a=e.firstChild,d=a.nextSibling,u=d.firstChild,v=u.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,_=u.nextSibling;return n(a,()=>i("settings.pendingInvitations")),n(v,()=>i("settings.emailColumn")),n(g,()=>i("settings.roleColumn")),n(c,()=>i("settings.sentColumn")),n(_,r(o,{get each(){return t.pendingInvitations},children:e=>{return t=Ue(),i=t.firstChild,r=i.nextSibling,a=r.nextSibling,n(i,()=>e.email),n(r,()=>e.role),n(a,()=>new Date(e.created).toLocaleDateString()),t;var t,i,r,a}})),s(t=>{var i=Pe,n=Ee;return i!==t.e&&l(e,t.e=i),n!==t.t&&l(d,t.t=n),t},{e:void 0,t:void 0}),e}}),null),s(e=>{var n=Re,r=Te,a=Le,s=i("settings.emailPlaceholder")||"Email address",o=t.loading,d=t.loading,v=t.loading;return n!==e.e&&l(p,e.e=n),r!==e.t&&l(m,e.t=r),a!==e.a&&l(f,e.a=a),s!==e.o&&u(y,"placeholder",e.o=s),o!==e.i&&(y.disabled=e.i=o),d!==e.n&&(x.disabled=e.n=d),v!==e.s&&(w.disabled=e.s=v),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),s(()=>y.value=d()),s(()=>x.value=g()),p;var p,m,h,f,y,x,w}c(["input"]);const De="_panel_196er_3",Ne="_tabs_196er_7",We="_activeTab_196er_29",Me="_section_196er_34",Fe="_error_196er_43",Ge="_success_196er_51",He="_settingsForm_196er_59",Qe="_formItem_196er_66",Ve="_formGrid_196er_87",Je="_saveButton_196er_108",Ke="_hint_196er_127",Xe="_table_196er_133",Ye="_actions_196er_151",Ze="_smallButton_196er_156",et="_deleteButtonSmall_196er_170",tt="_addRemoteSection_196er_184",it="_orgLink_196er_196",nt="_linkButton_196er_210";var rt=g("<button>"),at=g("<div>"),st=g("<section><h3>"),lt=g("<form><div><label></label><input type=text required></div><h4></h4><div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div></div><button type=submit>"),ot=g("<section><h3></h3><div><p></p><button> →"),dt=g("<div><h4></h4><form><div><label></label><input type=url required></div><div><label></label><input type=password><p></p></div><button type=submit>"),ut=g("<section><h3></h3><p>"),vt=g("<div><div><button></button><button>"),gt=g("<p>"),ct=g("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td><button></button><button>");function _t(t){const{t:o}=b(),{user:d,orgApi:v,wsApi:g}=h(),[c,_]=e("settings"===t.section?"settings":"sync"===t.section?"sync":"members"),[p,m]=e([]),[f,x]=e([]),[w,S]=e(null),[$,C]=e(""),[k,I]=e(""),[q,z]=e(""),[R,T]=e(""),[L,P]=e(0),[E,j]=e(0),[O,A]=e(0),[U,B]=e(0),[D,N]=e(!1),[W,M]=e(null),[F,G]=e(null),H=()=>d()?.workspace_role===y,Q=e=>{_(e);const t="members"===e?"":`#${e}`,i=window.location.pathname;window.history.replaceState(null,"",i+t)},V=async()=>{const e=v();if(e)try{N(!0),M(null);const t=g();if("members"===c()&&H()){const[i,n]=await Promise.all([e.users.listUsers(),t?t.invitations.listWSInvitations():Promise.resolve({invitations:[]})]);m(i.users?.filter(e=>!!e)||[]),x(n.invitations?.filter(e=>!!e)||[])}if("settings"===c()&&t){const e=await t.workspaces.getWorkspace();z(e.name),T(e.name),P(e.quotas.max_pages),j(e.quotas.max_storage_bytes),A(e.quotas.max_records_per_table),B(e.quotas.max_asset_size_bytes)}if("sync"===c()&&H()&&t)try{const e=await t.settings.git.getGitRemote();S(e)}catch{S(null)}}catch(t){M(`${o("errors.failedToLoad")}: ${t}`)}finally{N(!1)}};i(()=>{V()}),i(()=>{const e=t.section;"settings"===e?_("settings"):"sync"===e?_("sync"):"members"!==e&&e||_("members")});const J=async(e,t)=>{const i=g();if(i)try{N(!0),await i.invitations.createWSInvitation({email:e,role:t}),G(o("success.invitationSent")||"Invitation sent successfully"),V()}catch(n){M(`${o("errors.failedToInvite")}: ${n}`)}finally{N(!1)}},K=async(e,t)=>{const i=g();if(i)try{N(!0),await i.users.updateWSMemberRole({user_id:e,role:t}),G(o("success.roleUpdated")||"Role updated"),V()}catch(n){M(`${o("errors.failedToUpdateRole")}: ${n}`)}finally{N(!1)}},X=async e=>{e.preventDefault();const t=g();if(t)try{N(!0),M(null),G(null),q()!==R()&&q().trim()&&(await t.workspaces.updateWorkspace({name:q().trim()}),T(q().trim())),await t.workspaces.updateWorkspace({quotas:{max_pages:L(),max_storage_bytes:E(),max_records_per_table:O(),max_asset_size_bytes:U()}}),G(o("success.workspaceSettingsSaved")||"Workspace settings saved successfully")}catch(i){M(`${o("errors.failedToSave")}: ${i}`)}finally{N(!1)}},Y=async e=>{e.preventDefault();const t=g();if(t)try{N(!0),M(null);const e=await t.settings.git.updateGitRemote({url:$(),token:k(),type:"custom",auth_type:k()?"token":"none"});S(e),G(o("success.remoteAdded")||"Git remote configured"),C(""),I("")}catch(i){M(`${o("errors.failedToAddRemote")}: ${i}`)}finally{N(!1)}},Z=async()=>{const e=g();if(e)try{N(!0),M(null),G(null),await e.settings.git.pushGit(),G(o("success.pushSuccessful")||"Push successful"),V()}catch(t){M(`${o("errors.pushFailed")}: ${t}`)}finally{N(!1)}},ee=async()=>{if(!confirm(o("settings.confirmRemoveRemote")||"Are you sure you want to remove this remote?"))return;const e=g();if(e)try{N(!0),M(null),await e.settings.git.deleteGitRemote(),S(null),G(o("success.remoteRemoved")||"Remote removed")}catch(t){M(`${o("errors.failedToRemoveRemote")}: ${t}`)}finally{N(!1)}},te=[{value:"admin",label:o("settings.roleAdmin")},{value:"editor",label:o("settings.roleEditor")},{value:"viewer",label:o("settings.roleViewer")}];return ie=vt(),ne=ie.firstChild,re=ne.firstChild,ae=re.nextSibling,re.$$click=()=>Q("members"),n(re,()=>o("settings.members")),ae.$$click=()=>Q("settings"),n(ae,()=>o("settings.workspace")),n(ne,r(a,{get when(){return H()},get children(){var e=rt();return e.$$click=()=>Q("sync"),n(e,()=>o("settings.gitSync")),s(()=>l(e,"sync"===c()?We:"")),e}}),null),n(ie,r(a,{get when(){return W()},get children(){var e=at();return n(e,W),s(()=>l(e,Fe)),e}}),null),n(ie,r(a,{get when(){return F()},get children(){var e=at();return n(e,F),s(()=>l(e,Ge)),e}}),null),n(ie,r(a,{get when(){return"members"===c()},get children(){var e=st(),t=e.firstChild;return n(t,()=>o("settings.members")),n(e,r(a,{get when(){return H()},get fallback(){return e=gt(),n(e,()=>o("settings.adminOnlyMembers")),e;var e},get children(){return[r(ze,{get members(){return p()},get currentUserId(){return d()?.id||""},roleOptions:te,roleField:"workspace_role",onUpdateRole:K,get loading(){return D()}}),r(Be,{roleOptions:te,defaultRole:"viewer",get pendingInvitations(){return f().map(e=>({email:e.email,role:e.role,created:e.created}))},onInvite:J,get loading(){return D()}})]}}),null),s(()=>l(e,Me)),e}}),null),n(ie,r(a,{get when(){return"settings"===c()},get children(){var e=ot(),i=e.firstChild,u=i.nextSibling,v=u.firstChild,g=v.nextSibling,c=g.firstChild;return n(i,()=>o("settings.workspaceSettings")),n(e,r(a,{get when(){return H()},get fallback(){return e=gt(),n(e,()=>o("settings.adminOnlyWorkspace")),e;var e},get children(){var e=lt(),t=e.firstChild,i=t.firstChild,r=i.nextSibling,a=t.nextSibling,d=a.nextSibling,u=d.firstChild,v=u.firstChild,g=v.nextSibling,c=u.nextSibling,_=c.firstChild,p=_.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,y=f.firstChild,x=y.nextSibling,w=d.nextSibling;return e.addEventListener("submit",X),n(i,()=>o("settings.workspaceName")),r.$$input=e=>z(e.target.value),n(a,()=>o("settings.workspaceQuotas")),n(v,()=>o("settings.maxPages")),g.$$input=e=>P(parseInt(e.target.value)||1),n(_,()=>o("settings.maxStorageBytes")),p.$$input=e=>j(parseInt(e.target.value)||1),n(b,()=>o("settings.maxRecordsPerTable")),h.$$input=e=>A(parseInt(e.target.value)||1),n(y,()=>o("settings.maxAssetSizeBytes")),x.$$input=e=>B(parseInt(e.target.value)||1),n(w,()=>o("settings.saveWorkspaceSettings")),s(i=>{var n=He,r=Qe,a=Ve,s=Qe,o=Qe,v=Qe,g=Qe,_=Je,p=D();return n!==i.e&&l(e,i.e=n),r!==i.t&&l(t,i.t=r),a!==i.a&&l(d,i.a=a),s!==i.o&&l(u,i.o=s),o!==i.i&&l(c,i.i=o),v!==i.n&&l(m,i.n=v),g!==i.s&&l(f,i.s=g),_!==i.h&&l(w,i.h=_),p!==i.r&&(w.disabled=i.r=p),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),s(()=>r.value=q()),s(()=>g.value=L()),s(()=>p.value=E()),s(()=>h.value=O()),s(()=>x.value=U()),e}}),u),n(v,()=>o("settings.orgSettingsHint")),g.$$click=()=>{const e=d(),i=e?.organization_id,n=e?.organizations?.find(e=>e.organization_id===i),r=n?.organization_name||"";i&&t.onNavigateToOrgSettings(i,r)},n(g,()=>o("settings.openOrgSettings"),c),s(t=>{var i=Me,n=it,r=nt;return i!==t.e&&l(e,t.e=i),n!==t.t&&l(u,t.t=n),r!==t.a&&l(g,t.a=r),t},{e:void 0,t:void 0,a:void 0}),e}}),null),n(ie,r(a,{get when(){return"sync"===c()},get children(){var e=ut(),t=e.firstChild,i=t.nextSibling;return n(t,()=>o("settings.gitSynchronization")),n(i,()=>o("settings.gitSyncHint")),n(e,r(a,{get when(){return w()},children:e=>{const t=e().last_sync;return i=ct(),r=i.firstChild,a=r.firstChild.firstChild,d=a.nextSibling,u=d.nextSibling,v=r.nextSibling.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,_=c.firstChild,p=_.nextSibling,n(a,()=>o("settings.urlColumn")),n(d,()=>o("settings.lastSyncColumn")),n(u,()=>o("common.actions")),n(v,()=>e().url),n(g,()=>t?new Date(t).toLocaleString():o("settings.never")),_.$$click=Z,n(_,()=>o("common.push")),p.$$click=ee,n(p,()=>o("common.remove")),s(e=>{var t=Xe,n=Ye,r=D(),a=Ze,s=D(),o=et;return t!==e.e&&l(i,e.e=t),n!==e.t&&l(c,e.t=n),r!==e.a&&(_.disabled=e.a=r),a!==e.o&&l(_,e.o=a),s!==e.i&&(p.disabled=e.i=s),o!==e.n&&l(p,e.n=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),i;var i,r,a,d,u,v,g,c,_,p}}),null),n(e,r(a,{get when(){return!w()},get children(){var e=dt(),t=e.firstChild,i=t.nextSibling,r=i.firstChild,a=r.firstChild,d=a.nextSibling,v=r.nextSibling,g=v.firstChild,c=g.nextSibling,_=c.nextSibling,p=v.nextSibling;return n(t,()=>o("settings.addNewRemote")),i.addEventListener("submit",Y),n(a,()=>o("settings.repositoryUrl")),d.$$input=e=>C(e.target.value),n(g,()=>o("settings.personalAccessToken")),c.$$input=e=>I(e.target.value),n(_,()=>o("settings.tokenHint")),n(p,()=>o("settings.addRemote")),s(t=>{var n=tt,a=He,s=Qe,g=o("settings.repositoryUrlPlaceholder")||"https://github.com/user/repo.git",m=Qe,b=o("settings.tokenPlaceholder")||"ghp_...",h=Ke,f=Je,y=D();return n!==t.e&&l(e,t.e=n),a!==t.t&&l(i,t.t=a),s!==t.a&&l(r,t.a=s),g!==t.o&&u(d,"placeholder",t.o=g),m!==t.i&&l(v,t.i=m),b!==t.n&&u(c,"placeholder",t.n=b),h!==t.s&&l(_,t.s=h),f!==t.h&&l(p,t.h=f),y!==t.r&&(p.disabled=t.r=y),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),s(()=>d.value=$()),s(()=>c.value=k()),e}}),null),s(t=>{var n=Me,r=Ke;return n!==t.e&&l(e,t.e=n),r!==t.t&&l(i,t.t=r),t},{e:void 0,t:void 0}),e}}),null),s(e=>{var t=De,i=Ne,n="members"===c()?We:"",r="settings"===c()?We:"";return t!==e.e&&l(ie,e.e=t),i!==e.t&&l(ne,e.t=i),n!==e.a&&l(re,e.a=n),r!==e.o&&l(ae,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),ie;var ie,ne,re,ae}c(["click","input"]);const pt="_panel_1lewj_3",mt="_tabs_1lewj_7",bt="_activeTab_1lewj_29",ht="_section_1lewj_34",ft="_error_1lewj_43",yt="_success_1lewj_51",xt="_settingsForm_1lewj_59",wt="_formItem_1lewj_66",St="_formGrid_1lewj_85",$t="_saveButton_1lewj_106";var Ct=g("<div>"),kt=g("<section><h3>"),It=g("<form><div><label></label><input type=text required></div><h4></h4><div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div></div><button type=submit>"),qt=g("<div><div><button></button><button>"),zt=g("<p>");function Rt(t){const{t:o}=b(),{user:d,api:u}=h(),[v,g]=e("settings"===t.section?"settings":"members"),[c,p]=e([]),[m,f]=e([]),[y,S]=e(""),[$,C]=e(""),[k,I]=e(0),[q,z]=e(0),[R,T]=e(0),[L,P]=e(0),[E,j]=e(!1),[O,A]=e(null),[U,B]=e(null),D=_(()=>u().org(t.orgId)),N=_(()=>{const e=d()?.organizations?.find(e=>e.organization_id===t.orgId);return e?.role}),W=_(()=>{const e=N();return e===w||e===x}),M=e=>{g(e);const t="members"===e?"":`#${e}`,i=window.location.pathname;window.history.replaceState(null,"",i+t)},F=async()=>{const e=D();try{if(j(!0),A(null),"members"===v()&&W()){const[t,i]=await Promise.all([e.users.listUsers(),e.invitations.listOrgInvitations()]);p(t.users?.filter(e=>!!e)||[]),f(i.invitations?.filter(e=>!!e)||[])}if("settings"===v()){const t=await e.organizations.getOrganization();S(t.name),C(t.name),I(t.quotas.max_workspaces),z(t.quotas.max_members_per_org),T(t.quotas.max_members_per_workspace),P(t.quotas.max_total_storage_bytes)}}catch(t){A(`${o("errors.failedToLoad")}: ${t}`)}finally{j(!1)}};i(()=>{F()}),i(()=>{const e=t.section;"settings"===e?g("settings"):"members"!==e&&e||g("members")});const G=async(e,t)=>{const i=D();try{j(!0),await i.invitations.createOrgInvitation({email:e,role:t}),B(o("success.invitationSent")||"Invitation sent successfully"),F()}catch(n){A(`${o("errors.failedToInvite")}: ${n}`)}finally{j(!1)}},H=async(e,t)=>{const i=D();try{j(!0),await i.users.updateOrgMemberRole({user_id:e,role:t}),B(o("success.roleUpdated")||"Role updated"),F()}catch(n){A(`${o("errors.failedToUpdateRole")}: ${n}`)}finally{j(!1)}},Q=async e=>{e.preventDefault();const t=D();try{j(!0),A(null),B(null),y()!==$()&&y().trim()&&(await t.organizations.updateOrganization({name:y().trim()}),C(y().trim())),await t.settings.updateOrgPreferences({quotas:{max_workspaces:k(),max_members_per_org:q(),max_members_per_workspace:R(),max_total_storage_bytes:L()}}),B(o("success.orgSettingsSaved")||"Organization settings saved")}catch(i){A(`${o("errors.failedToSave")}: ${i}`)}finally{j(!1)}},V=[{value:"owner",label:o("settings.roleOwner")},{value:"admin",label:o("settings.roleAdmin")},{value:"member",label:o("settings.roleMember")}],J=[{value:"admin",label:o("settings.roleAdmin")},{value:"member",label:o("settings.roleMember")}];return K=qt(),X=K.firstChild,Y=X.firstChild,Z=Y.nextSibling,Y.$$click=()=>M("members"),n(Y,()=>o("settings.members")),Z.$$click=()=>M("settings"),n(Z,()=>o("settings.settings")),n(K,r(a,{get when(){return O()},get children(){var e=Ct();return n(e,O),s(()=>l(e,ft)),e}}),null),n(K,r(a,{get when(){return U()},get children(){var e=Ct();return n(e,U),s(()=>l(e,yt)),e}}),null),n(K,r(a,{get when(){return"members"===v()},get children(){var e=kt(),t=e.firstChild;return n(t,()=>o("settings.organizationMembers")),n(e,r(a,{get when(){return W()},get fallback(){return e=zt(),n(e,()=>o("settings.adminOnlyMembers")),e;var e},get children(){return[r(ze,{get members(){return c()},get currentUserId(){return d()?.id||""},roleOptions:V,roleField:"org_role",onUpdateRole:H,get loading(){return E()}}),r(Be,{roleOptions:J,defaultRole:"member",get pendingInvitations(){return m().map(e=>({email:e.email,role:e.role,created:e.created}))},onInvite:G,get loading(){return E()}})]}}),null),s(()=>l(e,ht)),e}}),null),n(K,r(a,{get when(){return"settings"===v()},get children(){var e=kt(),t=e.firstChild;return n(t,()=>o("settings.organizationPreferences")),n(e,r(a,{get when(){return W()},get fallback(){return e=zt(),n(e,()=>o("settings.adminOnlySettings")),e;var e},get children(){var e=It(),t=e.firstChild,i=t.firstChild,r=i.nextSibling,a=t.nextSibling,d=a.nextSibling,u=d.firstChild,v=u.firstChild,g=v.nextSibling,c=u.nextSibling,_=c.firstChild,p=_.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,x=f.firstChild,w=x.nextSibling,$=d.nextSibling;return e.addEventListener("submit",Q),n(i,()=>o("settings.organizationName")),r.$$input=e=>S(e.target.value),n(a,()=>o("settings.organizationQuotas")),n(v,()=>o("settings.maxWorkspaces")),g.$$input=e=>I(parseInt(e.target.value)||1),n(_,()=>o("settings.maxMembersPerOrg")),p.$$input=e=>z(parseInt(e.target.value)||1),n(b,()=>o("settings.maxMembersPerWorkspace")),h.$$input=e=>T(parseInt(e.target.value)||1),n(x,()=>o("settings.maxTotalStorageBytes")),w.$$input=e=>P(parseInt(e.target.value)||1),n($,()=>o("common.save")),s(i=>{var n=xt,r=wt,a=St,s=wt,o=wt,v=wt,g=wt,_=$t,p=E();return n!==i.e&&l(e,i.e=n),r!==i.t&&l(t,i.t=r),a!==i.a&&l(d,i.a=a),s!==i.o&&l(u,i.o=s),o!==i.i&&l(c,i.i=o),v!==i.n&&l(m,i.n=v),g!==i.s&&l(f,i.s=g),_!==i.h&&l($,i.h=_),p!==i.r&&($.disabled=i.r=p),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),s(()=>r.value=y()),s(()=>g.value=k()),s(()=>p.value=q()),s(()=>h.value=R()),s(()=>w.value=L()),e}}),null),s(()=>l(e,ht)),e}}),null),s(e=>{var t=pt,i=mt,n="members"===v()?bt:"",r="settings"===v()?bt:"";return t!==e.e&&l(K,e.e=t),i!==e.t&&l(X,e.t=i),n!==e.a&&l(Y,e.a=n),r!==e.o&&l(Z,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),K;var K,X,Y,Z}c(["click","input"]);const Tt="_panel_1jx6v_3",Lt="_tabs_1jx6v_12",Pt="_activeTab_1jx6v_34",Et="_section_1jx6v_39",jt="_error_1jx6v_43",Ot="_success_1jx6v_51",At="_statusBadge_1jx6v_59",Ut="_enabled_1jx6v_63",Bt="_disabled_1jx6v_73",Dt="_settingsForm_1jx6v_83",Nt="_formGrid_1jx6v_90",Wt="_formItem_1jx6v_97",Mt="_saveButton_1jx6v_127",Ft="_hint_1jx6v_146";var Gt=g("<div>"),Ht=g("<span>"),Qt=g("<section><div></div><form><div><label></label><input type=text placeholder=smtp.example.com></div><div><label></label><input type=number min=1 max=65535></div><div><label></label><input type=text placeholder=user@example.com></div><div><label></label><input type=password placeholder=••••••••><p></p></div><div><label></label><input type=email placeholder=noreply@example.com></div><button type=submit>"),Vt=g("<section><form><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=0></div></div><h3></h3><p></p><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div></div><button type=submit>"),Jt=g("<div><h2></h2><div><button></button><button>");function Kt(){const{t:t}=b(),{api:o}=h(),[d,u]=e("smtp"),[v,g]=e(null),[c,_]=e(""),[p,m]=e(587),[f,y]=e(""),[x,w]=e(""),[S,$]=e(""),[C,k]=e(0),[I,q]=e(0),[z,R]=e(0),[T,L]=e(0),[P,E]=e(0),[j,O]=e(0),[A,U]=e(0),[B,D]=e(0),[N,W]=e(0),[M,F]=e(0),[G,H]=e(0),[Q,V]=e(0),[J,K]=e(0),[X,Y]=e(0),[Z,ee]=e(0),[te,ie]=e(!1),[ne,re]=e(null),[ae,se]=e(null),le=async()=>{try{ie(!0),re(null);const e=await o().server.getConfig();g(e),_(e.smtp.host||""),m(e.smtp.port||587),y(e.smtp.username||""),$(e.smtp.from||""),w(""),k(e.quotas.max_request_body_bytes),q(e.quotas.max_sessions_per_user),R(e.quotas.max_tables_per_workspace),L(e.quotas.max_columns_per_table),E(e.quotas.max_rows_per_table),O(e.quotas.max_organizations),U(e.quotas.max_workspaces),D(e.quotas.max_users),W(e.quotas.max_total_storage_bytes),F(e.quotas.max_asset_size_bytes),H(e.quotas.max_egress_bandwidth_bps),V(e.rate_limits.auth_rate_per_min),K(e.rate_limits.write_rate_per_min),Y(e.rate_limits.read_auth_rate_per_min),ee(e.rate_limits.read_unauth_rate_per_min)}catch(e){re(`${t("errors.failedToLoad")}: ${e}`)}finally{ie(!1)}};i(()=>{le()});const oe=async e=>{e.preventDefault();try{ie(!0),re(null),se(null),await o().server.updateConfig({smtp:{host:c(),port:p(),username:f(),password:x(),from:S()}}),se(t("server.configurationSaved")),await le()}catch(i){re(`${t("errors.failedToSave")}: ${i}`)}finally{ie(!1)}},de=async e=>{e.preventDefault();try{ie(!0),re(null),se(null),await o().server.updateConfig({quotas:{max_request_body_bytes:C(),max_sessions_per_user:I(),max_tables_per_workspace:z(),max_columns_per_table:T(),max_rows_per_table:P(),max_organizations:j(),max_workspaces:A(),max_users:B(),max_total_storage_bytes:N(),max_asset_size_bytes:M(),max_egress_bandwidth_bps:G()},rate_limits:{auth_rate_per_min:Q(),write_rate_per_min:J(),read_auth_rate_per_min:X(),read_unauth_rate_per_min:Z()}}),se(t("server.configurationSaved"))}catch(i){re(`${t("errors.failedToSave")}: ${i}`)}finally{ie(!1)}};return ue=Jt(),ve=ue.firstChild,ge=ve.nextSibling,ce=ge.firstChild,_e=ce.nextSibling,n(ve,()=>t("server.serverSettings")),ce.$$click=()=>u("smtp"),n(ce,()=>t("server.smtpConfiguration")),_e.$$click=()=>u("quotas"),n(_e,()=>t("server.quotas")),n(ue,r(a,{get when(){return ne()},get children(){var e=Gt();return n(e,ne),s(()=>l(e,jt)),e}}),null),n(ue,r(a,{get when(){return ae()},get children(){var e=Gt();return n(e,ae),s(()=>l(e,Ot)),e}}),null),n(ue,r(a,{get when(){return"smtp"===d()},get children(){var e=Qt(),i=e.firstChild,o=i.nextSibling,d=o.firstChild,u=d.firstChild,g=u.nextSibling,b=d.nextSibling,h=b.firstChild,C=h.nextSibling,k=b.nextSibling,I=k.firstChild,q=I.nextSibling,z=k.nextSibling,R=z.firstChild,T=R.nextSibling,L=T.nextSibling,P=z.nextSibling,E=P.firstChild,j=E.nextSibling,O=P.nextSibling;return n(i,r(a,{get when(){return v()?.smtp.host},get fallback(){return e=Ht(),n(e,()=>t("server.smtpDisabled")),s(()=>l(e,Bt)),e;var e},get children(){var e=Ht();return n(e,()=>t("server.smtpEnabled")),s(()=>l(e,Ut)),e}})),o.addEventListener("submit",oe),n(u,()=>t("server.smtpHost")),g.$$input=e=>_(e.target.value),n(h,()=>t("server.smtpPort")),C.$$input=e=>m(parseInt(e.target.value)||587),n(I,()=>t("server.smtpUsername")),q.$$input=e=>y(e.target.value),n(R,()=>t("server.smtpPassword")),T.$$input=e=>w(e.target.value),n(L,()=>t("server.smtpPasswordHint")),n(E,()=>t("server.smtpFrom")),j.$$input=e=>$(e.target.value),n(O,()=>t("server.saveConfiguration")),s(t=>{var n=Et,r=At,a=Dt,s=Wt,u=Wt,v=Wt,g=Wt,c=Ft,_=Wt,p=Mt,m=te();return n!==t.e&&l(e,t.e=n),r!==t.t&&l(i,t.t=r),a!==t.a&&l(o,t.a=a),s!==t.o&&l(d,t.o=s),u!==t.i&&l(b,t.i=u),v!==t.n&&l(k,t.n=v),g!==t.s&&l(z,t.s=g),c!==t.h&&l(L,t.h=c),_!==t.r&&l(P,t.r=_),p!==t.d&&l(O,t.d=p),m!==t.l&&(O.disabled=t.l=m),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),s(()=>g.value=c()),s(()=>C.value=p()),s(()=>q.value=f()),s(()=>T.value=x()),s(()=>j.value=S()),e}}),null),n(ue,r(a,{get when(){return"quotas"===d()},get children(){var e=Vt(),i=e.firstChild,r=i.firstChild,a=r.firstChild,o=a.firstChild,d=o.nextSibling,u=a.nextSibling,v=u.firstChild,g=v.nextSibling,c=u.nextSibling,_=c.firstChild,p=_.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,y=f.firstChild,x=y.nextSibling,w=f.nextSibling,S=w.firstChild,$=S.nextSibling,ie=w.nextSibling,ne=ie.firstChild,re=ne.nextSibling,ae=ie.nextSibling,se=ae.firstChild,le=se.nextSibling,oe=ae.nextSibling,ue=oe.firstChild,ve=ue.nextSibling,ge=oe.nextSibling,ce=ge.firstChild,_e=ce.nextSibling,pe=ge.nextSibling,me=pe.firstChild,be=me.nextSibling,he=r.nextSibling,fe=he.nextSibling,ye=fe.nextSibling,xe=ye.firstChild,we=xe.firstChild,Se=we.nextSibling,$e=xe.nextSibling,Ce=$e.firstChild,ke=Ce.nextSibling,Ie=$e.nextSibling,qe=Ie.firstChild,ze=qe.nextSibling,Re=Ie.nextSibling,Te=Re.firstChild,Le=Te.nextSibling,Pe=ye.nextSibling;return i.addEventListener("submit",de),n(o,()=>t("server.maxRequestBodyBytes")),d.$$input=e=>k(parseInt(e.target.value)||0),n(v,()=>t("server.maxSessionsPerUser")),g.$$input=e=>q(parseInt(e.target.value)||0),n(_,()=>t("server.maxTablesPerWorkspace")),p.$$input=e=>R(parseInt(e.target.value)||0),n(b,()=>t("server.maxColumnsPerTable")),h.$$input=e=>L(parseInt(e.target.value)||0),n(y,()=>t("server.maxRowsPerTable")),x.$$input=e=>E(parseInt(e.target.value)||0),n(S,()=>t("server.maxOrganizations")),$.$$input=e=>O(parseInt(e.target.value)||0),n(ne,()=>t("server.maxWorkspaces")),re.$$input=e=>U(parseInt(e.target.value)||0),n(se,()=>t("server.maxUsers")),le.$$input=e=>D(parseInt(e.target.value)||0),n(ue,()=>t("server.maxTotalStorageBytes")),ve.$$input=e=>W(parseInt(e.target.value)||0),n(ce,()=>t("server.maxAssetSizeBytes")),_e.$$input=e=>F(parseInt(e.target.value)||0),n(me,()=>t("server.maxEgressBandwidthBps")),be.$$input=e=>H(parseInt(e.target.value)||0),n(he,()=>t("server.rateLimits")),n(fe,()=>t("server.rateLimitsHint")),n(we,()=>t("server.authRatePerMin")),Se.$$input=e=>V(parseInt(e.target.value)||0),n(Ce,()=>t("server.writeRatePerMin")),ke.$$input=e=>K(parseInt(e.target.value)||0),n(qe,()=>t("server.readAuthRatePerMin")),ze.$$input=e=>Y(parseInt(e.target.value)||0),n(Te,()=>t("server.readUnauthRatePerMin")),Le.$$input=e=>ee(parseInt(e.target.value)||0),n(Pe,()=>t("server.saveConfiguration")),s(t=>{var n=Et,s=Dt,o=Nt,d=Wt,v=Wt,g=Wt,_=Wt,p=Wt,b=Wt,h=Wt,y=Wt,x=Wt,S=Wt,$=Wt,C=Ft,k=Nt,I=Wt,q=Wt,z=Wt,R=Wt,T=Mt,L=te();return n!==t.e&&l(e,t.e=n),s!==t.t&&l(i,t.t=s),o!==t.a&&l(r,t.a=o),d!==t.o&&l(a,t.o=d),v!==t.i&&l(u,t.i=v),g!==t.n&&l(c,t.n=g),_!==t.s&&l(m,t.s=_),p!==t.h&&l(f,t.h=p),b!==t.r&&l(w,t.r=b),h!==t.d&&l(ie,t.d=h),y!==t.l&&l(ae,t.l=y),x!==t.u&&l(oe,t.u=x),S!==t.c&&l(ge,t.c=S),$!==t.w&&l(pe,t.w=$),C!==t.m&&l(fe,t.m=C),k!==t.f&&l(ye,t.f=k),I!==t.y&&l(xe,t.y=I),q!==t.g&&l($e,t.g=q),z!==t.p&&l(Ie,t.p=z),R!==t.b&&l(Re,t.b=R),T!==t.T&&l(Pe,t.T=T),L!==t.A&&(Pe.disabled=t.A=L),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),s(()=>d.value=C()),s(()=>g.value=I()),s(()=>p.value=z()),s(()=>h.value=T()),s(()=>x.value=P()),s(()=>$.value=j()),s(()=>re.value=A()),s(()=>le.value=B()),s(()=>ve.value=N()),s(()=>_e.value=M()),s(()=>be.value=G()),s(()=>Se.value=Q()),s(()=>ke.value=J()),s(()=>ze.value=X()),s(()=>Le.value=Z()),e}}),null),s(e=>{var t=Tt,i=Lt,n="smtp"===d()?Pt:"",r="quotas"===d()?Pt:"";return t!==e.e&&l(ue,e.e=t),i!==e.t&&l(ge,e.t=i),n!==e.a&&l(ce,e.a=n),r!==e.o&&l(_e,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),ue;var ue,ve,ge,ce,_e}c(["click","input"]);const Xt="_settingsPage_1eedq_3",Yt="_header_1eedq_10",Zt="_headerLeft_1eedq_21",ei="_hamburger_1eedq_27",ti="_backButton_1eedq_37",ii="_title_1eedq_53",ni="_layout_1eedq_64",ri="_content_1eedq_70",ai="_error_1eedq_81",si="_mobileBackdrop_1eedq_88";var li=g("<div>"),oi=g('<div><header><div><button aria-label="Toggle settings menu">☰</button><button>← </button><h1></h1></div></header><div><main>');function di(t){const{t:o}=b(),{user:u}=h(),[v,g]=e(!1),c=e=>{"Escape"===e.key&&v()&&g(!1)};p(()=>{window.addEventListener("keydown",c),m(()=>window.removeEventListener("keydown",c))}),i(()=>{"redirect"===t.route.type&&t.route.id&&(window.history.replaceState(null,"",t.route.id),window.dispatchEvent(new PopStateEvent("popstate")))});const _=e=>{g(!1),window.history.pushState(null,"",e),window.dispatchEvent(new PopStateEvent("popstate"))},y=()=>{window.history.back()},x=()=>{const e=u()?.workspace_id,i=u()?.workspace_name;e&&(t.onClose(),window.history.pushState(null,"",S(e,i)),window.dispatchEvent(new PopStateEvent("popstate")))};return(()=>{var e=oi(),i=e.firstChild,c=i.firstChild,p=c.firstChild,m=p.nextSibling;m.firstChild;var b=m.nextSibling,h=i.nextSibling,w=h.firstChild;return p.$$click=()=>g(!v()),m.$$click=y,n(m,()=>o("common.back"),null),b.$$click=x,n(b,()=>o("settings.title")),n(h,r(a,{get when(){return v()},get children(){var e=li();return e.$$click=()=>g(!1),s(()=>l(e,si)),e}}),w),n(h,r(W,{get isOpen(){return v()},get currentRoute(){return t.route},onNavigate:_}),w),n(w,r(a,{get when(){return"profile"===t.route.type},get children(){return r(we,{})}}),null),n(w,r(a,{get when(){return d(()=>!("workspace"!==t.route.type||!t.route.id))()?t.route.id:null},children:e=>r(a,{get when(){return(e=>{const t=u()?.workspaces?.find(t=>t.workspace_id===e);return t?{id:e,name:t.workspace_name||e}:null})(e())},get fallback(){return e=li(),n(e,()=>o("errors.failedToLoad")),s(()=>l(e,ai)),e;var e},get children(){return r(_t,{get wsId(){return e()},get section(){return t.route.section},onNavigateToOrgSettings:(e,t)=>{_(f("org",e,t))}})}})}),null),n(w,r(a,{get when(){return d(()=>!("org"!==t.route.type||!t.route.id))()?t.route.id:null},children:e=>r(a,{get when(){return(e=>{const t=u()?.organizations?.find(t=>t.organization_id===e);return t?{id:e,name:t.organization_name||e}:null})(e())},get fallback(){return e=li(),n(e,()=>o("errors.failedToLoad")),s(()=>l(e,ai)),e;var e},get children(){return r(Rt,{get orgId(){return e()},get section(){return t.route.section}})}})}),null),n(w,r(a,{get when(){return"server"===t.route.type},get children(){return r(Kt,{})}}),null),s(t=>{var n=Xt,r=Yt,a=Zt,s=ei,o=ti,d=ii,u=ni,v=ri;return n!==t.e&&l(e,t.e=n),r!==t.t&&l(i,t.t=r),a!==t.a&&l(c,t.a=a),s!==t.o&&l(p,t.o=s),o!==t.i&&l(m,t.i=o),d!==t.n&&l(b,t.n=d),u!==t.s&&l(h,t.s=u),v!==t.h&&l(w,t.h=v),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),e})()}c(["click"]);export{Be as InviteForm,ze as MembersTable,Rt as OrgSettingsPanel,we as ProfileSettings,di as Settings,A as SettingsNavItem,W as SettingsSidebar,_t as WorkspaceSettingsPanel};
