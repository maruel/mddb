import{c as e,h as t,q as i,d as r,s as a,v as n,S as l,w as s,n as v}from"./vendor-DshmF2G-.js";import{u,d}from"./index-DAgHvbjE.js";import"./editor-vendor-DPxZwULu.js";const o="_panel_1jx6v_3",p="_tabs_1jx6v_12",b="_activeTab_1jx6v_34",m="_section_1jx6v_39",_="_error_1jx6v_43",g="_success_1jx6v_51",x="_statusBadge_1jx6v_59",h="_enabled_1jx6v_63",f="_disabled_1jx6v_73",S="_settingsForm_1jx6v_83",c="_formGrid_1jx6v_90",$="_formItem_1jx6v_97",y="_saveButton_1jx6v_127",C="_hint_1jx6v_146";var w=s("<div>"),q=s("<span>"),j=s("<section><div></div><form><div><label></label><input type=text placeholder=smtp.example.com></div><div><label></label><input type=number min=1 max=65535></div><div><label></label><input type=text placeholder=user@example.com></div><div><label></label><input type=password placeholder=••••••••><p></p></div><div><label></label><input type=email placeholder=noreply@example.com></div><button type=submit>"),I=s("<section><form><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=0></div></div><h3></h3><p></p><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div></div><button type=submit>"),P=s("<div><h2></h2><div><button></button><button>");function T(){const{t:s}=u(),{api:v}=d(),[T,k]=e("smtp"),[B,z]=e(null),[R,A]=e(""),[L,E]=e(587),[M,U]=e(""),[D,H]=e(""),[F,W]=e(""),[G,O]=e(0),[J,K]=e(0),[N,Q]=e(0),[V,X]=e(0),[Y,Z]=e(0),[ee,te]=e(0),[ie,re]=e(0),[ae,ne]=e(0),[le,se]=e(0),[ve,ue]=e(0),[de,oe]=e(0),[pe,be]=e(0),[me,_e]=e(0),[ge,xe]=e(0),[he,fe]=e(0),[Se,ce]=e(!1),[$e,ye]=e(null),[Ce,we]=e(null),qe=async()=>{try{ce(!0),ye(null);const e=await v().server.getConfig();z(e),A(e.smtp.host||""),E(e.smtp.port||587),U(e.smtp.username||""),W(e.smtp.from||""),H(""),O(e.quotas.max_request_body_bytes),K(e.quotas.max_sessions_per_user),Q(e.quotas.max_tables_per_workspace),X(e.quotas.max_columns_per_table),Z(e.quotas.max_rows_per_table),te(e.quotas.max_organizations),re(e.quotas.max_workspaces),ne(e.quotas.max_users),se(e.quotas.max_total_storage_bytes),ue(e.quotas.max_asset_size_bytes),oe(e.quotas.max_egress_bandwidth_bps),be(e.rate_limits.auth_rate_per_min),_e(e.rate_limits.write_rate_per_min),xe(e.rate_limits.read_auth_rate_per_min),fe(e.rate_limits.read_unauth_rate_per_min)}catch(e){ye(`${s("errors.failedToLoad")}: ${e}`)}finally{ce(!1)}};t(()=>{qe()});const je=async e=>{e.preventDefault();try{ce(!0),ye(null),we(null),await v().server.updateConfig({smtp:{host:R(),port:L(),username:M(),password:D(),from:F()}}),we(s("server.configurationSaved")),await qe()}catch(t){ye(`${s("errors.failedToSave")}: ${t}`)}finally{ce(!1)}},Ie=async e=>{e.preventDefault();try{ce(!0),ye(null),we(null),await v().server.updateConfig({quotas:{max_request_body_bytes:G(),max_sessions_per_user:J(),max_tables_per_workspace:N(),max_columns_per_table:V(),max_rows_per_table:Y(),max_organizations:ee(),max_workspaces:ie(),max_users:ae(),max_total_storage_bytes:le(),max_asset_size_bytes:ve(),max_egress_bandwidth_bps:de()},rate_limits:{auth_rate_per_min:pe(),write_rate_per_min:me(),read_auth_rate_per_min:ge(),read_unauth_rate_per_min:he()}}),we(s("server.configurationSaved"))}catch(t){ye(`${s("errors.failedToSave")}: ${t}`)}finally{ce(!1)}};return Pe=P(),Te=Pe.firstChild,ke=Te.nextSibling,Be=ke.firstChild,ze=Be.nextSibling,i(Te,()=>s("server.serverSettings")),Be.$$click=()=>k("smtp"),i(Be,()=>s("server.smtpConfiguration")),ze.$$click=()=>k("quotas"),i(ze,()=>s("server.quotas")),i(Pe,r(l,{get when(){return $e()},get children(){var e=w();return i(e,$e),a(()=>n(e,_)),e}}),null),i(Pe,r(l,{get when(){return Ce()},get children(){var e=w();return i(e,Ce),a(()=>n(e,g)),e}}),null),i(Pe,r(l,{get when(){return"smtp"===T()},get children(){var e=j(),t=e.firstChild,v=t.nextSibling,u=v.firstChild,d=u.firstChild,o=d.nextSibling,p=u.nextSibling,b=p.firstChild,_=b.nextSibling,g=p.nextSibling,c=g.firstChild,w=c.nextSibling,I=g.nextSibling,P=I.firstChild,T=P.nextSibling,k=T.nextSibling,z=I.nextSibling,G=z.firstChild,O=G.nextSibling,J=z.nextSibling;return i(t,r(l,{get when(){return B()?.smtp.host},get fallback(){return e=q(),i(e,()=>s("server.smtpDisabled")),a(()=>n(e,f)),e;var e},get children(){var e=q();return i(e,()=>s("server.smtpEnabled")),a(()=>n(e,h)),e}})),v.addEventListener("submit",je),i(d,()=>s("server.smtpHost")),o.$$input=e=>A(e.target.value),i(b,()=>s("server.smtpPort")),_.$$input=e=>E(parseInt(e.target.value)||587),i(c,()=>s("server.smtpUsername")),w.$$input=e=>U(e.target.value),i(P,()=>s("server.smtpPassword")),T.$$input=e=>H(e.target.value),i(k,()=>s("server.smtpPasswordHint")),i(G,()=>s("server.smtpFrom")),O.$$input=e=>W(e.target.value),i(J,()=>s("server.saveConfiguration")),a(i=>{var r=m,a=x,l=S,s=$,d=$,o=$,b=$,_=C,h=$,f=y,c=Se();return r!==i.e&&n(e,i.e=r),a!==i.t&&n(t,i.t=a),l!==i.a&&n(v,i.a=l),s!==i.o&&n(u,i.o=s),d!==i.i&&n(p,i.i=d),o!==i.n&&n(g,i.n=o),b!==i.s&&n(I,i.s=b),_!==i.h&&n(k,i.h=_),h!==i.r&&n(z,i.r=h),f!==i.d&&n(J,i.d=f),c!==i.l&&(J.disabled=i.l=c),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),a(()=>o.value=R()),a(()=>_.value=L()),a(()=>w.value=M()),a(()=>T.value=D()),a(()=>O.value=F()),e}}),null),i(Pe,r(l,{get when(){return"quotas"===T()},get children(){var e=I(),t=e.firstChild,r=t.firstChild,l=r.firstChild,v=l.firstChild,u=v.nextSibling,d=l.nextSibling,o=d.firstChild,p=o.nextSibling,b=d.nextSibling,_=b.firstChild,g=_.nextSibling,x=b.nextSibling,h=x.firstChild,f=h.nextSibling,w=x.nextSibling,q=w.firstChild,j=q.nextSibling,P=w.nextSibling,T=P.firstChild,k=T.nextSibling,B=P.nextSibling,z=B.firstChild,R=z.nextSibling,A=B.nextSibling,L=A.firstChild,E=L.nextSibling,M=A.nextSibling,U=M.firstChild,D=U.nextSibling,H=M.nextSibling,F=H.firstChild,W=F.nextSibling,ce=H.nextSibling,$e=ce.firstChild,ye=$e.nextSibling,Ce=r.nextSibling,we=Ce.nextSibling,qe=we.nextSibling,je=qe.firstChild,Pe=je.firstChild,Te=Pe.nextSibling,ke=je.nextSibling,Be=ke.firstChild,ze=Be.nextSibling,Re=ke.nextSibling,Ae=Re.firstChild,Le=Ae.nextSibling,Ee=Re.nextSibling,Me=Ee.firstChild,Ue=Me.nextSibling,De=qe.nextSibling;return t.addEventListener("submit",Ie),i(v,()=>s("server.maxRequestBodyBytes")),u.$$input=e=>O(parseInt(e.target.value)||0),i(o,()=>s("server.maxSessionsPerUser")),p.$$input=e=>K(parseInt(e.target.value)||0),i(_,()=>s("server.maxTablesPerWorkspace")),g.$$input=e=>Q(parseInt(e.target.value)||0),i(h,()=>s("server.maxColumnsPerTable")),f.$$input=e=>X(parseInt(e.target.value)||0),i(q,()=>s("server.maxRowsPerTable")),j.$$input=e=>Z(parseInt(e.target.value)||0),i(T,()=>s("server.maxOrganizations")),k.$$input=e=>te(parseInt(e.target.value)||0),i(z,()=>s("server.maxWorkspaces")),R.$$input=e=>re(parseInt(e.target.value)||0),i(L,()=>s("server.maxUsers")),E.$$input=e=>ne(parseInt(e.target.value)||0),i(U,()=>s("server.maxTotalStorageBytes")),D.$$input=e=>se(parseInt(e.target.value)||0),i(F,()=>s("server.maxAssetSizeBytes")),W.$$input=e=>ue(parseInt(e.target.value)||0),i($e,()=>s("server.maxEgressBandwidthBps")),ye.$$input=e=>oe(parseInt(e.target.value)||0),i(Ce,()=>s("server.rateLimits")),i(we,()=>s("server.rateLimitsHint")),i(Pe,()=>s("server.authRatePerMin")),Te.$$input=e=>be(parseInt(e.target.value)||0),i(Be,()=>s("server.writeRatePerMin")),ze.$$input=e=>_e(parseInt(e.target.value)||0),i(Ae,()=>s("server.readAuthRatePerMin")),Le.$$input=e=>xe(parseInt(e.target.value)||0),i(Me,()=>s("server.readUnauthRatePerMin")),Ue.$$input=e=>fe(parseInt(e.target.value)||0),i(De,()=>s("server.saveConfiguration")),a(i=>{var a=m,s=S,v=c,u=$,o=$,p=$,_=$,g=$,h=$,f=$,q=$,j=$,I=$,T=$,k=C,z=c,R=$,L=$,E=$,U=$,D=y,F=Se();return a!==i.e&&n(e,i.e=a),s!==i.t&&n(t,i.t=s),v!==i.a&&n(r,i.a=v),u!==i.o&&n(l,i.o=u),o!==i.i&&n(d,i.i=o),p!==i.n&&n(b,i.n=p),_!==i.s&&n(x,i.s=_),g!==i.h&&n(w,i.h=g),h!==i.r&&n(P,i.r=h),f!==i.d&&n(B,i.d=f),q!==i.l&&n(A,i.l=q),j!==i.u&&n(M,i.u=j),I!==i.c&&n(H,i.c=I),T!==i.w&&n(ce,i.w=T),k!==i.m&&n(we,i.m=k),z!==i.f&&n(qe,i.f=z),R!==i.y&&n(je,i.y=R),L!==i.g&&n(ke,i.g=L),E!==i.p&&n(Re,i.p=E),U!==i.b&&n(Ee,i.b=U),D!==i.T&&n(De,i.T=D),F!==i.A&&(De.disabled=i.A=F),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),a(()=>u.value=G()),a(()=>p.value=J()),a(()=>g.value=N()),a(()=>f.value=V()),a(()=>j.value=Y()),a(()=>k.value=ee()),a(()=>R.value=ie()),a(()=>E.value=ae()),a(()=>D.value=le()),a(()=>W.value=ve()),a(()=>ye.value=de()),a(()=>Te.value=pe()),a(()=>ze.value=me()),a(()=>Le.value=ge()),a(()=>Ue.value=he()),e}}),null),a(e=>{var t=o,i=p,r="smtp"===T()?b:"",a="quotas"===T()?b:"";return t!==e.e&&n(Pe,e.e=t),i!==e.t&&n(ke,e.t=i),r!==e.a&&n(Be,e.a=r),a!==e.o&&n(ze,e.o=a),e},{e:void 0,t:void 0,a:void 0,o:void 0}),Pe;var Pe,Te,ke,Be,ze}v(["click","input"]);export{T as default};
