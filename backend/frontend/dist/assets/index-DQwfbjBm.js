import{c as e,j as t,l as i,e as n,S as r,m as a,n as s,F as l,p as o,q as d,s as u,x as g,h as v,d as c,o as p,D as _}from"./vendor-g8mwYROu.js";import{u as m,a as h,s as b,W as f,O as w,g as x,w as y}from"./index-1VdXnXLW.js";const S="_navItemWrapper_1177w_3",$="_navItem_1177w_3",C="_active_1177w_27",k="_section_1177w_34",I="_expandIcon_1177w_56",R="_expanded_1177w_74",z="_expandSpacer_1177w_78",q="_label_1177w_84",L="_children_1177w_91";var T=g("<span>▶"),E=g("<div>"),P=g("<div><a><span>"),O=g("<span>");function U(g){const v=()=>g.item.children&&g.item.children.length>0,c=()=>{if(!v())return!1;const e=g.currentRoute,t=i=>{for(const n of i){if(g.isActive(n.url,e))return!0;if(n.children&&t(n.children))return!0}return!1};return t(g.item.children||[])},[p,_]=e(0===g.depth||c());t(()=>{g.currentRoute&&c()&&_(!0)});const m=e=>{e.preventDefault(),v()&&!g.item.url?_(!p()):g.item.url&&(v()&&_(!0),g.onNavigate(g.item.url))},h=e=>{e.preventDefault(),e.stopPropagation(),_(!p())};return b=P(),f=b.firstChild,w=f.firstChild,f.$$click=m,i(f,n(r,{get when(){return v()},get fallback(){return e=O(),a(()=>s(e,z)),e;var e},get children(){var e=T();return e.$$click=h,a(()=>s(e,(()=>{let e=I;return p()&&(e+=" "+R),e})())),e}}),w),i(w,()=>g.item.label),i(b,n(r,{get when(){return o(()=>!!p())()&&v()},get children(){var e=E();return i(e,n(l,{get each(){return g.item.children},children:e=>n(U,{item:e,get depth(){return g.depth+1},get isActive(){return g.isActive},get onNavigate(){return g.onNavigate},get currentRoute(){return g.currentRoute}})})),a(()=>s(e,L)),e}}),null),a(e=>{var t=S,i=g.item.url||"#",n=(()=>{let e=$;return g.isActive(g.item.url,g.currentRoute)&&(e+=" "+C),0===g.depth&&v()&&(e+=" "+k),e})(),r=12*g.depth+16+"px",a=q;return t!==e.e&&s(b,e.e=t),i!==e.t&&d(f,"href",e.t=i),n!==e.a&&s(f,e.a=n),r!==e.o&&u(f,"padding-left",e.o=r),a!==e.i&&s(w,e.i=a),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),b;var b,f,w}v(["click"]);const A="_sidebar_dpyfy_3",D="_nav_dpyfy_13",B="_mobileOpen_dpyfy_31";var N=g("<aside><nav>");function M(e){const{t:t}=m(),{user:r}=h(),o=(e,t)=>{if(!e)return!1;if("/settings/user"===e&&"profile"===t.type)return!0;if("/settings/server"===e&&"server"===t.type)return!0;if("workspace"===t.type&&t.id){const i=e.match(/^\/settings\/workspace\/([^+/]+)/);if(i&&i[1]===t.id){const[,i]=e.split("#");return i?t.section===i:!t.section}}if("org"===t.type&&t.id){const i=e.match(/^\/settings\/org\/([^+/]+)/);if(i&&i[1]===t.id){const[,i]=e.split("#");return i?t.section===i:!t.section}}return!1};return d=N(),u=d.firstChild,i(u,n(l,{get each(){return(()=>{const e=[],i=r();if(!i)return e;e.push({id:"user",label:t("settings.personal"),url:b("user")});const n=i.workspaces||[];if(n.length>0){const i=n.map(e=>{const i=e.workspace_id,n=e.workspace_name||i,r=e.role===f,a=[{id:`ws-${i}-members`,label:t("settings.members"),url:b("workspace",i,n)+"#members"},{id:`ws-${i}-settings`,label:t("settings.settings"),url:b("workspace",i,n)+"#settings"}];return r&&a.push({id:`ws-${i}-sync`,label:t("settings.gitSync"),url:b("workspace",i,n)+"#sync"}),{id:`ws-${i}`,label:n,url:b("workspace",i,n),children:a}});e.push({id:"workspaces",label:t("settings.workspaces"),url:"",children:i})}const a=(i.organizations||[]).filter(e=>e.role===w||e.role===x);if(a.length>0){const i=a.map(e=>{const i=e.organization_id,n=e.organization_name||i;return{id:`org-${i}`,label:n,url:b("org",i,n),children:[{id:`org-${i}-members`,label:t("settings.members"),url:b("org",i,n)+"#members"},{id:`org-${i}-settings`,label:t("settings.settings"),url:b("org",i,n)+"#settings"}]}});e.push({id:"organizations",label:t("settings.organizations"),url:"",children:i})}return i.is_global_admin&&e.push({id:"server",label:t("server.serverSettings"),url:b("server")}),e})()},children:t=>n(U,{item:t,depth:0,isActive:o,get onNavigate(){return e.onNavigate},get currentRoute(){return e.currentRoute}})})),a(t=>{var i=`${A} ${e.isOpen?B:""}`,n=D;return i!==t.e&&s(d,t.e=i),n!==t.t&&s(u,t.t=n),t},{e:void 0,t:void 0}),d;var d,u}const W="_profile_vysi4_3",F="_userInfoSection_vysi4_7",G="_avatarLarge_vysi4_17",H="_avatarImageLarge_vysi4_29",j="_initialsLarge_vysi4_35",Q="_userDetails_vysi4_41",V="_userName_vysi4_45",J="_userEmail_vysi4_51",K="_userRole_vysi4_56",X="_section_vysi4_66",Y="_error_vysi4_75",Z="_success_vysi4_83",ee="_settingsForm_vysi4_91",te="_formItem_vysi4_98",ie="_checkboxLabel_vysi4_117",ne="_saveButton_vysi4_130",re="_orgList_vysi4_149",ae="_orgItem_vysi4_155",se="_orgInfo_vysi4_165",le="_orgName_vysi4_171",oe="_orgNameLink_vysi4_175",de="_orgRole_vysi4_185",ue="_emptyState_vysi4_194";var ge=g("<div>"),ve=g("<span>"),ce=g("<section><div></div><div><h3></h3><p>"),pe=g("<section><h3>"),_e=g("<div><label><input type=checkbox>"),me=g("<section><h3></h3><form><div><label></label><select><option value=light></option><option value=dark></option><option value=system></option></select></div><div><label></label><select><option value=en></option><option value=fr></option><option value=de></option><option value=es></option></select></div><button type=submit>"),he=g("<img referrerpolicy=no-referrer>"),be=g("<p>"),fe=g("<a>"),we=g("<div><div><span>");function xe(){const{t:o}=m(),{user:u,api:g,wsApi:v}=h(),[c,p]=e("light"),[_,f]=e("en"),[y,S]=e(!0),[$,C]=e(!1),[k,I]=e(null),[R,z]=e(null),q=()=>{const e=u(),t=e?.name||e?.email||"",i=t.split(/[\s@]+/);return i.length>=2&&i[0]&&i[1]?((i[0][0]||"")+(i[1][0]||"")).toUpperCase():t.slice(0,2).toUpperCase()};t(()=>{const e=u();p(e?.settings?.theme||"light"),f(e?.settings?.language||"en")});t(()=>{(async()=>{const e=u();if(e)try{C(!0),I(null);const t=e.workspaces?.find(t=>t.workspace_id===e.workspace_id);t&&S(t.settings?.notifications??!0)}catch(t){I(`${o("errors.failedToLoad")}: ${t}`)}finally{C(!1)}})()});const L=async e=>{e.preventDefault();const t=v();try{C(!0),I(null),z(null);const e={theme:c(),language:_()},i=[g().auth.updateUserSettings({settings:e})];if(t){const e={notifications:y()};i.push(t.settings.updateWSMembershipSettings({settings:e}))}await Promise.all(i),z(o("success.personalSettingsSaved")||"Personal settings saved successfully")}catch(i){I(`${o("errors.failedToSave")}: ${i}`)}finally{C(!1)}};return T=ge(),i(T,n(r,{get when(){return k()},get children(){var e=ge();return i(e,k),a(()=>s(e,Y)),e}}),null),i(T,n(r,{get when(){return R()},get children(){var e=ge();return i(e,R),a(()=>s(e,Z)),e}}),null),i(T,n(r,{get when(){return u()},children:e=>{return[(M=ce(),W=M.firstChild,Y=W.nextSibling,Z=Y.firstChild,xe=Z.nextSibling,i(W,n(r,{get when(){return(()=>{const e=u()?.oauth_identities;if(!e)return null;for(const t of e)if(t.avatar_url)return t.avatar_url;return null})()},get fallback(){return e=ve(),i(e,q),a(()=>s(e,j)),e;var e},children:t=>{return i=he(),a(n=>{var r=t(),a=e().name||"User",l=H;return r!==n.e&&d(i,"src",n.e=r),a!==n.t&&d(i,"alt",n.t=a),l!==n.a&&s(i,n.a=l),n},{e:void 0,t:void 0,a:void 0}),i;var i}})),i(Z,()=>e().name),i(xe,()=>e().email),i(Y,n(r,{get when(){return e().workspace_role},get children(){var t=ve();return i(t,()=>e().workspace_role),a(()=>s(t,K)),t}}),null),a(e=>{var t=F,i=G,n=Q,r=V,a=J;return t!==e.e&&s(M,e.e=t),i!==e.t&&s(W,e.t=i),n!==e.a&&s(Y,e.a=n),r!==e.o&&s(Z,e.o=r),a!==e.i&&s(xe,e.i=a),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),M),(B=pe(),N=B.firstChild,i(N,()=>o("profile.myOrganizations")),i(B,n(r,{get when(){return e().organizations?.length},get fallback(){return e=be(),i(e,()=>o("profile.noOrganizations")),a(()=>s(e,ue)),e;var e},get children(){var t=ge();return i(t,n(l,{get each(){return e().organizations},children:e=>{const t=e.organization_name||e.organization_id;return l=we(),o=l.firstChild,u=o.firstChild,i(o,n(r,{get when(){return e.role===w||e.role===x},get fallback(){return e=ve(),i(e,t),a(()=>s(e,le)),e;var e},get children(){var n=fe();return n.$$click=t=>{t.preventDefault(),(e=>{window.history.pushState(null,"",b("org",e.organization_id,e.organization_name)),window.dispatchEvent(new PopStateEvent("popstate"))})(e)},i(n,t),a(t=>{var i=b("org",e.organization_id,e.organization_name),r=oe;return i!==t.e&&d(n,"href",t.e=i),r!==t.t&&s(n,t.t=r),t},{e:void 0,t:void 0}),n}}),u),i(u,()=>e.role),a(e=>{var t=ae,i=se,n=de;return t!==e.e&&s(l,e.e=t),i!==e.t&&s(o,e.t=i),n!==e.a&&s(u,e.a=n),e},{e:void 0,t:void 0,a:void 0}),l;var l,o,u}})),a(()=>s(t,re)),t}}),null),a(()=>s(B,X)),B),(t=me(),g=t.firstChild,v=g.nextSibling,m=v.firstChild,h=m.firstChild,C=h.nextSibling,k=C.firstChild,I=k.nextSibling,R=I.nextSibling,z=m.nextSibling,T=z.firstChild,E=T.nextSibling,P=E.firstChild,O=P.nextSibling,U=O.nextSibling,A=U.nextSibling,D=z.nextSibling,i(g,()=>o("settings.personalSettings")),v.addEventListener("submit",L),i(h,()=>o("settings.theme")),C.addEventListener("change",e=>p(e.target.value)),i(k,()=>o("settings.themeLight")),i(I,()=>o("settings.themeDark")),i(R,()=>o("settings.themeSystem")),i(T,()=>o("settings.language")),E.addEventListener("change",e=>f(e.target.value)),i(P,()=>o("settings.languageEn")),i(O,()=>o("settings.languageFr")),i(U,()=>o("settings.languageDe")),i(A,()=>o("settings.languageEs")),i(v,n(r,{get when(){return e().workspace_id},get children(){var e=_e(),t=e.firstChild,n=t.firstChild;return n.addEventListener("change",e=>S(e.currentTarget.checked)),i(t,()=>o("settings.enableNotifications"),null),a(i=>{var n=te,r=ie;return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),i},{e:void 0,t:void 0}),a(()=>n.checked=y()),e}}),D),i(D,()=>o("settings.saveChanges")),a(e=>{var i=X,n=ee,r=te,a=te,l=ne,o=$();return i!==e.e&&s(t,e.e=i),n!==e.t&&s(v,e.t=n),r!==e.a&&s(m,e.a=r),a!==e.o&&s(z,e.o=a),l!==e.i&&s(D,e.i=l),o!==e.n&&(D.disabled=e.n=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),a(()=>C.value=c()),a(()=>E.value=_()),t)];var t,g,v,m,h,C,k,I,R,z,T,E,P,O,U,A,D,B,N,M,W,Y,Z,xe}}),null),a(()=>s(T,W)),T;var T}v(["click"]);const ye="_table_rjyw4_3",Se="_roleSelect_rjyw4_21";var $e=g("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),Ce=g("<select>"),ke=g("<tr><td></td><td></td><td>"),Ie=g("<option>");function Re(e){const{t:t}=m(),o=t=>("workspace_role"===e.roleField?t.workspace_role:t.org_role)||"";return d=$e(),u=d.firstChild,g=u.firstChild.firstChild,v=g.nextSibling,c=v.nextSibling,p=u.nextSibling,i(g,()=>t("settings.nameColumn")),i(v,()=>t("settings.emailColumn")),i(c,()=>t("settings.roleColumn")),i(p,n(l,{get each(){return e.members},children:t=>{return d=ke(),u=d.firstChild,g=u.nextSibling,v=g.nextSibling,i(u,()=>t.name),i(g,()=>t.email),i(v,n(r,{get when(){return t.id!==e.currentUserId},get fallback(){return o(t)},get children(){var r=Ce();return r.addEventListener("change",i=>e.onUpdateRole(t.id,i.target.value)),i(r,n(l,{get each(){return e.roleOptions},children:e=>{return t=Ie(),i(t,()=>e.label),a(()=>t.value=e.value),t;var t}})),a(t=>{var i=Se,n=e.loading;return i!==t.e&&s(r,t.e=i),n!==t.t&&(r.disabled=t.t=n),t},{e:void 0,t:void 0}),a(()=>r.value=o(t)),r}})),d;var d,u,g,v}})),a(()=>s(d,ye)),d;var d,u,g,v,c,p}const ze="_inviteSection_toc48_3",qe="_inviteForm_toc48_7",Le="_formGroup_toc48_17",Te="_pendingSection_toc48_57",Ee="_table_toc48_65";var Pe=g("<div><h4></h4><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),Oe=g("<div><form><h4></h4><div><input type=email required><select></select><button type=submit>"),Ue=g("<option>"),Ae=g("<tr><td></td><td></td><td>");function De(t){const{t:o}=m(),[u,g]=e(""),[v,c]=e(t.defaultRole),p=async e=>{e.preventDefault(),u()&&(await t.onInvite(u(),v()),g(""))};return _=Oe(),h=_.firstChild,b=h.firstChild,f=b.nextSibling,w=f.firstChild,x=w.nextSibling,y=x.nextSibling,h.addEventListener("submit",p),i(b,()=>o("settings.inviteNewMember")),w.$$input=e=>g(e.target.value),x.addEventListener("change",e=>c(e.target.value)),i(x,n(l,{get each(){return t.roleOptions},children:e=>{return t=Ue(),i(t,()=>e.label),a(()=>t.value=e.value),t;var t}})),i(y,()=>o("common.invite")),i(_,n(r,{get when(){return t.pendingInvitations.length>0},get children(){var e=Pe(),r=e.firstChild,d=r.nextSibling,u=d.firstChild,g=u.firstChild.firstChild,v=g.nextSibling,c=v.nextSibling,p=u.nextSibling;return i(r,()=>o("settings.pendingInvitations")),i(g,()=>o("settings.emailColumn")),i(v,()=>o("settings.roleColumn")),i(c,()=>o("settings.sentColumn")),i(p,n(l,{get each(){return t.pendingInvitations},children:e=>{return t=Ae(),n=t.firstChild,r=n.nextSibling,a=r.nextSibling,i(n,()=>e.email),i(r,()=>e.role),i(a,()=>new Date(e.created).toLocaleDateString()),t;var t,n,r,a}})),a(t=>{var i=Te,n=Ee;return i!==t.e&&s(e,t.e=i),n!==t.t&&s(d,t.t=n),t},{e:void 0,t:void 0}),e}}),null),a(e=>{var i=ze,n=qe,r=Le,a=o("settings.emailPlaceholder")||"Email address",l=t.loading,u=t.loading,g=t.loading;return i!==e.e&&s(_,e.e=i),n!==e.t&&s(h,e.t=n),r!==e.a&&s(f,e.a=r),a!==e.o&&d(w,"placeholder",e.o=a),l!==e.i&&(w.disabled=e.i=l),u!==e.n&&(x.disabled=e.n=u),g!==e.s&&(y.disabled=e.s=g),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),a(()=>w.value=u()),a(()=>x.value=v()),_;var _,h,b,f,w,x,y}v(["input"]);const Be="_panel_1dwg0_3",Ne="_tabs_1dwg0_7",Me="_activeTab_1dwg0_29",We="_section_1dwg0_34",Fe="_error_1dwg0_43",Ge="_success_1dwg0_51",He="_settingsForm_1dwg0_59",je="_formItem_1dwg0_66",Qe="_saveButton_1dwg0_86",Ve="_hint_1dwg0_105",Je="_table_1dwg0_111",Ke="_actions_1dwg0_129",Xe="_smallButton_1dwg0_134",Ye="_deleteButtonSmall_1dwg0_148",Ze="_addRemoteSection_1dwg0_162",et="_orgLink_1dwg0_174",tt="_linkButton_1dwg0_188";var it=g("<button>"),nt=g("<div>"),rt=g("<section><h3>"),at=g("<form><div><label></label><input type=text required></div><button type=submit>"),st=g("<section><h3></h3><div><p></p><button> →"),lt=g("<div><h4></h4><form><div><label></label><input type=url required></div><div><label></label><input type=password><p></p></div><button type=submit>"),ot=g("<section><h3></h3><p>"),dt=g("<div><div><button></button><button>"),ut=g("<p>"),gt=g("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td><button></button><button>");function vt(l){const{t:o}=m(),{user:u,orgApi:g,wsApi:v}=h(),[c,p]=e("settings"===l.section?"settings":"sync"===l.section?"sync":"members"),[_,b]=e([]),[w,x]=e([]),[y,S]=e(null),[$,C]=e(""),[k,I]=e(""),[R,z]=e(""),[q,L]=e(""),[T,E]=e(!1),[P,O]=e(null),[U,A]=e(null),D=()=>u()?.workspace_role===f,B=e=>{p(e);const t="members"===e?"":`#${e}`,i=window.location.pathname;window.history.replaceState(null,"",i+t)},N=async()=>{const e=g();if(e)try{E(!0),O(null);const t=v();if("members"===c()&&D()){const[i,n]=await Promise.all([e.users.listUsers(),t?t.invitations.listWSInvitations():Promise.resolve({invitations:[]})]);b(i.users?.filter(e=>!!e)||[]),x(n.invitations?.filter(e=>!!e)||[])}if("settings"===c()&&t){const e=await t.workspaces.getWorkspace();z(e.name),L(e.name)}if("sync"===c()&&D()&&t)try{const e=await t.settings.git.getGitRemote();S(e)}catch{S(null)}}catch(t){O(`${o("errors.failedToLoad")}: ${t}`)}finally{E(!1)}};t(()=>{N()}),t(()=>{const e=l.section;"settings"===e?p("settings"):"sync"===e?p("sync"):"members"!==e&&e||p("members")});const M=async(e,t)=>{const i=v();if(i)try{E(!0),await i.invitations.createWSInvitation({email:e,role:t}),A(o("success.invitationSent")||"Invitation sent successfully"),N()}catch(n){O(`${o("errors.failedToInvite")}: ${n}`)}finally{E(!1)}},W=async(e,t)=>{const i=v();if(i)try{E(!0),await i.users.updateWSMemberRole({user_id:e,role:t}),A(o("success.roleUpdated")||"Role updated"),N()}catch(n){O(`${o("errors.failedToUpdateRole")}: ${n}`)}finally{E(!1)}},F=async e=>{e.preventDefault();const t=v();if(t)try{E(!0),O(null),A(null),R()!==q()&&R().trim()&&await t.workspaces.updateWorkspace({name:R().trim()}),L(R().trim()),A(o("success.workspaceSettingsSaved")||"Workspace settings saved successfully")}catch(i){O(`${o("errors.failedToSave")}: ${i}`)}finally{E(!1)}},G=async e=>{e.preventDefault();const t=v();if(t)try{E(!0),O(null);const e=await t.settings.git.updateGitRemote({url:$(),token:k(),type:"custom",auth_type:k()?"token":"none"});S(e),A(o("success.remoteAdded")||"Git remote configured"),C(""),I("")}catch(i){O(`${o("errors.failedToAddRemote")}: ${i}`)}finally{E(!1)}},H=async()=>{const e=v();if(e)try{E(!0),O(null),A(null),await e.settings.git.pushGit(),A(o("success.pushSuccessful")||"Push successful"),N()}catch(t){O(`${o("errors.pushFailed")}: ${t}`)}finally{E(!1)}},j=async()=>{if(!confirm(o("settings.confirmRemoveRemote")||"Are you sure you want to remove this remote?"))return;const e=v();if(e)try{E(!0),O(null),await e.settings.git.deleteGitRemote(),S(null),A(o("success.remoteRemoved")||"Remote removed")}catch(t){O(`${o("errors.failedToRemoveRemote")}: ${t}`)}finally{E(!1)}},Q=[{value:"admin",label:o("settings.roleAdmin")},{value:"editor",label:o("settings.roleEditor")},{value:"viewer",label:o("settings.roleViewer")}];return V=dt(),J=V.firstChild,K=J.firstChild,X=K.nextSibling,K.$$click=()=>B("members"),i(K,()=>o("settings.members")),X.$$click=()=>B("settings"),i(X,()=>o("settings.workspace")),i(J,n(r,{get when(){return D()},get children(){var e=it();return e.$$click=()=>B("sync"),i(e,()=>o("settings.gitSync")),a(()=>s(e,"sync"===c()?Me:"")),e}}),null),i(V,n(r,{get when(){return P()},get children(){var e=nt();return i(e,P),a(()=>s(e,Fe)),e}}),null),i(V,n(r,{get when(){return U()},get children(){var e=nt();return i(e,U),a(()=>s(e,Ge)),e}}),null),i(V,n(r,{get when(){return"members"===c()},get children(){var e=rt(),t=e.firstChild;return i(t,()=>o("settings.members")),i(e,n(r,{get when(){return D()},get fallback(){return e=ut(),i(e,()=>o("settings.adminOnlyMembers")),e;var e},get children(){return[n(Re,{get members(){return _()},get currentUserId(){return u()?.id||""},roleOptions:Q,roleField:"workspace_role",onUpdateRole:W,get loading(){return T()}}),n(De,{roleOptions:Q,defaultRole:"viewer",get pendingInvitations(){return w().map(e=>({email:e.email,role:e.role,created:e.created}))},onInvite:M,get loading(){return T()}})]}}),null),a(()=>s(e,We)),e}}),null),i(V,n(r,{get when(){return"settings"===c()},get children(){var e=st(),t=e.firstChild,d=t.nextSibling,g=d.firstChild,v=g.nextSibling,c=v.firstChild;return i(t,()=>o("settings.workspaceSettings")),i(e,n(r,{get when(){return D()},get fallback(){return e=ut(),i(e,()=>o("settings.adminOnlyWorkspace")),e;var e},get children(){var e=at(),t=e.firstChild,n=t.firstChild,r=n.nextSibling,l=t.nextSibling;return e.addEventListener("submit",F),i(n,()=>o("settings.workspaceName")),r.$$input=e=>z(e.target.value),i(l,()=>o("settings.saveWorkspaceSettings")),a(i=>{var n=He,r=je,a=Qe,o=T();return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),a!==i.a&&s(l,i.a=a),o!==i.o&&(l.disabled=i.o=o),i},{e:void 0,t:void 0,a:void 0,o:void 0}),a(()=>r.value=R()),e}}),d),i(g,()=>o("settings.orgSettingsHint")),v.$$click=()=>{const e=u(),t=e?.organization_id,i=e?.organizations?.find(e=>e.organization_id===t),n=i?.organization_name||"";t&&l.onNavigateToOrgSettings(t,n)},i(v,()=>o("settings.openOrgSettings"),c),a(t=>{var i=We,n=et,r=tt;return i!==t.e&&s(e,t.e=i),n!==t.t&&s(d,t.t=n),r!==t.a&&s(v,t.a=r),t},{e:void 0,t:void 0,a:void 0}),e}}),null),i(V,n(r,{get when(){return"sync"===c()},get children(){var e=ot(),t=e.firstChild,l=t.nextSibling;return i(t,()=>o("settings.gitSynchronization")),i(l,()=>o("settings.gitSyncHint")),i(e,n(r,{get when(){return y()},children:e=>{const t=e().last_sync;return n=gt(),r=n.firstChild,l=r.firstChild.firstChild,d=l.nextSibling,u=d.nextSibling,g=r.nextSibling.firstChild.firstChild,v=g.nextSibling,c=v.nextSibling,p=c.firstChild,_=p.nextSibling,i(l,()=>o("settings.urlColumn")),i(d,()=>o("settings.lastSyncColumn")),i(u,()=>o("common.actions")),i(g,()=>e().url),i(v,()=>t?new Date(t).toLocaleString():o("settings.never")),p.$$click=H,i(p,()=>o("common.push")),_.$$click=j,i(_,()=>o("common.remove")),a(e=>{var t=Je,i=Ke,r=T(),a=Xe,l=T(),o=Ye;return t!==e.e&&s(n,e.e=t),i!==e.t&&s(c,e.t=i),r!==e.a&&(p.disabled=e.a=r),a!==e.o&&s(p,e.o=a),l!==e.i&&(_.disabled=e.i=l),o!==e.n&&s(_,e.n=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),n;var n,r,l,d,u,g,v,c,p,_}}),null),i(e,n(r,{get when(){return!y()},get children(){var e=lt(),t=e.firstChild,n=t.nextSibling,r=n.firstChild,l=r.firstChild,u=l.nextSibling,g=r.nextSibling,v=g.firstChild,c=v.nextSibling,p=c.nextSibling,_=g.nextSibling;return i(t,()=>o("settings.addNewRemote")),n.addEventListener("submit",G),i(l,()=>o("settings.repositoryUrl")),u.$$input=e=>C(e.target.value),i(v,()=>o("settings.personalAccessToken")),c.$$input=e=>I(e.target.value),i(p,()=>o("settings.tokenHint")),i(_,()=>o("settings.addRemote")),a(t=>{var i=Ze,a=He,l=je,v=o("settings.repositoryUrlPlaceholder")||"https://github.com/user/repo.git",m=je,h=o("settings.tokenPlaceholder")||"ghp_...",b=Ve,f=Qe,w=T();return i!==t.e&&s(e,t.e=i),a!==t.t&&s(n,t.t=a),l!==t.a&&s(r,t.a=l),v!==t.o&&d(u,"placeholder",t.o=v),m!==t.i&&s(g,t.i=m),h!==t.n&&d(c,"placeholder",t.n=h),b!==t.s&&s(p,t.s=b),f!==t.h&&s(_,t.h=f),w!==t.r&&(_.disabled=t.r=w),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),a(()=>u.value=$()),a(()=>c.value=k()),e}}),null),a(t=>{var i=We,n=Ve;return i!==t.e&&s(e,t.e=i),n!==t.t&&s(l,t.t=n),t},{e:void 0,t:void 0}),e}}),null),a(e=>{var t=Be,i=Ne,n="members"===c()?Me:"",r="settings"===c()?Me:"";return t!==e.e&&s(V,e.e=t),i!==e.t&&s(J,e.t=i),n!==e.a&&s(K,e.a=n),r!==e.o&&s(X,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),V;var V,J,K,X}v(["click","input"]);const ct="_panel_mixcx_3",pt="_tabs_mixcx_7",_t="_activeTab_mixcx_29",mt="_section_mixcx_34",ht="_error_mixcx_43",bt="_success_mixcx_51",ft="_settingsForm_mixcx_59",wt="_formItem_mixcx_66",xt="_formGrid_mixcx_85",yt="_saveButton_mixcx_96";var St=g("<div>"),$t=g("<section><h3>"),Ct=g("<form><div><label></label><input type=text required></div><h4></h4><div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div></div><button type=submit>"),kt=g("<div><div><button></button><button>"),It=g("<p>");function Rt(l){const{t:o}=m(),{user:d,api:u}=h(),[g,v]=e("settings"===l.section?"settings":"members"),[p,_]=e([]),[b,f]=e([]),[y,S]=e(""),[$,C]=e(""),[k,I]=e(0),[R,z]=e(0),[q,L]=e(0),[T,E]=e(0),[P,O]=e(!1),[U,A]=e(null),[D,B]=e(null),N=c(()=>u().org(l.orgId)),M=c(()=>{const e=d()?.organizations?.find(e=>e.organization_id===l.orgId);return e?.role}),W=c(()=>{const e=M();return e===x||e===w}),F=e=>{v(e);const t="members"===e?"":`#${e}`,i=window.location.pathname;window.history.replaceState(null,"",i+t)},G=async()=>{const e=N();try{if(O(!0),A(null),"members"===g()&&W()){const[t,i]=await Promise.all([e.users.listUsers(),e.invitations.listOrgInvitations()]);_(t.users?.filter(e=>!!e)||[]),f(i.invitations?.filter(e=>!!e)||[])}if("settings"===g()){const t=await e.organizations.getOrganization();S(t.name),C(t.name),I(t.quotas.max_workspaces),z(t.quotas.max_members_per_org),L(t.quotas.max_members_per_workspace),E(t.quotas.max_total_storage_bytes)}}catch(t){A(`${o("errors.failedToLoad")}: ${t}`)}finally{O(!1)}};t(()=>{G()}),t(()=>{const e=l.section;"settings"===e?v("settings"):"members"!==e&&e||v("members")});const H=async(e,t)=>{const i=N();try{O(!0),await i.invitations.createOrgInvitation({email:e,role:t}),B(o("success.invitationSent")||"Invitation sent successfully"),G()}catch(n){A(`${o("errors.failedToInvite")}: ${n}`)}finally{O(!1)}},j=async(e,t)=>{const i=N();try{O(!0),await i.users.updateOrgMemberRole({user_id:e,role:t}),B(o("success.roleUpdated")||"Role updated"),G()}catch(n){A(`${o("errors.failedToUpdateRole")}: ${n}`)}finally{O(!1)}},Q=async e=>{e.preventDefault();const t=N();try{O(!0),A(null),B(null),y()!==$()&&y().trim()&&(await t.organizations.updateOrganization({name:y().trim()}),C(y().trim())),await t.settings.updateOrgPreferences({quotas:{max_workspaces:k(),max_members_per_org:R(),max_members_per_workspace:q(),max_total_storage_bytes:T()}}),B(o("success.orgSettingsSaved")||"Organization settings saved")}catch(i){A(`${o("errors.failedToSave")}: ${i}`)}finally{O(!1)}},V=[{value:"owner",label:o("settings.roleOwner")},{value:"admin",label:o("settings.roleAdmin")},{value:"member",label:o("settings.roleMember")}],J=[{value:"admin",label:o("settings.roleAdmin")},{value:"member",label:o("settings.roleMember")}];return K=kt(),X=K.firstChild,Y=X.firstChild,Z=Y.nextSibling,Y.$$click=()=>F("members"),i(Y,()=>o("settings.members")),Z.$$click=()=>F("settings"),i(Z,()=>o("settings.settings")),i(K,n(r,{get when(){return U()},get children(){var e=St();return i(e,U),a(()=>s(e,ht)),e}}),null),i(K,n(r,{get when(){return D()},get children(){var e=St();return i(e,D),a(()=>s(e,bt)),e}}),null),i(K,n(r,{get when(){return"members"===g()},get children(){var e=$t(),t=e.firstChild;return i(t,()=>o("settings.organizationMembers")),i(e,n(r,{get when(){return W()},get fallback(){return e=It(),i(e,()=>o("settings.adminOnlyMembers")),e;var e},get children(){return[n(Re,{get members(){return p()},get currentUserId(){return d()?.id||""},roleOptions:V,roleField:"org_role",onUpdateRole:j,get loading(){return P()}}),n(De,{roleOptions:J,defaultRole:"member",get pendingInvitations(){return b().map(e=>({email:e.email,role:e.role,created:e.created}))},onInvite:H,get loading(){return P()}})]}}),null),a(()=>s(e,mt)),e}}),null),i(K,n(r,{get when(){return"settings"===g()},get children(){var e=$t(),t=e.firstChild;return i(t,()=>o("settings.organizationPreferences")),i(e,n(r,{get when(){return W()},get fallback(){return e=It(),i(e,()=>o("settings.adminOnlySettings")),e;var e},get children(){var e=Ct(),t=e.firstChild,n=t.firstChild,r=n.nextSibling,l=t.nextSibling,d=l.nextSibling,u=d.firstChild,g=u.firstChild,v=g.nextSibling,c=u.nextSibling,p=c.firstChild,_=p.nextSibling,m=c.nextSibling,h=m.firstChild,b=h.nextSibling,f=m.nextSibling,w=f.firstChild,x=w.nextSibling,$=d.nextSibling;return e.addEventListener("submit",Q),i(n,()=>o("settings.organizationName")),r.$$input=e=>S(e.target.value),i(l,()=>o("settings.organizationQuotas")),i(g,()=>o("settings.maxWorkspaces")),v.$$input=e=>I(parseInt(e.target.value)||1),i(p,()=>o("settings.maxMembersPerOrg")),_.$$input=e=>z(parseInt(e.target.value)||1),i(h,()=>o("settings.maxMembersPerWorkspace")),b.$$input=e=>L(parseInt(e.target.value)||1),i(w,()=>o("settings.maxTotalStorageBytes")),x.$$input=e=>E(parseInt(e.target.value)||1),i($,()=>o("common.save")),a(i=>{var n=ft,r=wt,a=xt,l=wt,o=wt,g=wt,v=wt,p=yt,_=P();return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),a!==i.a&&s(d,i.a=a),l!==i.o&&s(u,i.o=l),o!==i.i&&s(c,i.i=o),g!==i.n&&s(m,i.n=g),v!==i.s&&s(f,i.s=v),p!==i.h&&s($,i.h=p),_!==i.r&&($.disabled=i.r=_),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),a(()=>r.value=y()),a(()=>v.value=k()),a(()=>_.value=R()),a(()=>b.value=q()),a(()=>x.value=T()),e}}),null),a(()=>s(e,mt)),e}}),null),a(e=>{var t=ct,i=pt,n="members"===g()?_t:"",r="settings"===g()?_t:"";return t!==e.e&&s(K,e.e=t),i!==e.t&&s(X,e.t=i),n!==e.a&&s(Y,e.a=n),r!==e.o&&s(Z,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),K;var K,X,Y,Z}v(["click","input"]);const zt="_panel_125xp_3",qt="_tabs_125xp_12",Lt="_activeTab_125xp_34",Tt="_section_125xp_39",Et="_error_125xp_43",Pt="_success_125xp_51",Ot="_statusBadge_125xp_59",Ut="_enabled_125xp_63",At="_disabled_125xp_73",Dt="_settingsForm_125xp_83",Bt="_formGrid_125xp_90",Nt="_formItem_125xp_97",Mt="_saveButton_125xp_121",Wt="_hint_125xp_140";var Ft=g("<div>"),Gt=g("<span>"),Ht=g("<section><div></div><form><div><label></label><input type=text placeholder=smtp.example.com></div><div><label></label><input type=number min=1 max=65535></div><div><label></label><input type=text placeholder=user@example.com></div><div><label></label><input type=password placeholder=••••••••><p></p></div><div><label></label><input type=email placeholder=noreply@example.com></div><button type=submit>"),jt=g("<section><form><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=0></div></div><h3></h3><p></p><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div></div><button type=submit>"),Qt=g("<div><h2></h2><div><button></button><button>");function Vt(){const{t:l}=m(),{api:o}=h(),[d,u]=e("smtp"),[g,v]=e(null),[c,p]=e(""),[_,b]=e(587),[f,w]=e(""),[x,y]=e(""),[S,$]=e(""),[C,k]=e(0),[I,R]=e(0),[z,q]=e(0),[L,T]=e(0),[E,P]=e(0),[O,U]=e(0),[A,D]=e(0),[B,N]=e(0),[M,W]=e(0),[F,G]=e(0),[H,j]=e(0),[Q,V]=e(0),[J,K]=e(0),[X,Y]=e(0),[Z,ee]=e(0),[te,ie]=e(!1),[ne,re]=e(null),[ae,se]=e(null),le=async()=>{try{ie(!0),re(null);const e=await o().server.getConfig();v(e),p(e.smtp.host||""),b(e.smtp.port||587),w(e.smtp.username||""),$(e.smtp.from||""),y(""),k(e.quotas.max_request_body_bytes),R(e.quotas.max_sessions_per_user),q(e.quotas.max_tables_per_workspace),T(e.quotas.max_columns_per_table),P(e.quotas.max_rows_per_table),U(e.quotas.max_organizations),D(e.quotas.max_workspaces),N(e.quotas.max_users),W(e.quotas.max_total_storage_bytes),G(e.quotas.max_asset_size_bytes),j(e.quotas.max_egress_bandwidth_bps),V(e.rate_limits.auth_rate_per_min),K(e.rate_limits.write_rate_per_min),Y(e.rate_limits.read_auth_rate_per_min),ee(e.rate_limits.read_unauth_rate_per_min)}catch(e){re(`${l("errors.failedToLoad")}: ${e}`)}finally{ie(!1)}};t(()=>{le()});const oe=async e=>{e.preventDefault();try{ie(!0),re(null),se(null),await o().server.updateConfig({smtp:{host:c(),port:_(),username:f(),password:x(),from:S()}}),se(l("server.configurationSaved")),await le()}catch(t){re(`${l("errors.failedToSave")}: ${t}`)}finally{ie(!1)}},de=async e=>{e.preventDefault();try{ie(!0),re(null),se(null),await o().server.updateConfig({quotas:{max_request_body_bytes:C(),max_sessions_per_user:I(),max_tables_per_workspace:z(),max_columns_per_table:L(),max_rows_per_table:E(),max_organizations:O(),max_workspaces:A(),max_users:B(),max_total_storage_bytes:M(),max_asset_size_bytes:F(),max_egress_bandwidth_bps:H()},rate_limits:{auth_rate_per_min:Q(),write_rate_per_min:J(),read_auth_rate_per_min:X(),read_unauth_rate_per_min:Z()}}),se(l("server.configurationSaved"))}catch(t){re(`${l("errors.failedToSave")}: ${t}`)}finally{ie(!1)}};return ue=Qt(),ge=ue.firstChild,ve=ge.nextSibling,ce=ve.firstChild,pe=ce.nextSibling,i(ge,()=>l("server.serverSettings")),ce.$$click=()=>u("smtp"),i(ce,()=>l("server.smtpConfiguration")),pe.$$click=()=>u("quotas"),i(pe,()=>l("server.quotas")),i(ue,n(r,{get when(){return ne()},get children(){var e=Ft();return i(e,ne),a(()=>s(e,Et)),e}}),null),i(ue,n(r,{get when(){return ae()},get children(){var e=Ft();return i(e,ae),a(()=>s(e,Pt)),e}}),null),i(ue,n(r,{get when(){return"smtp"===d()},get children(){var e=Ht(),t=e.firstChild,o=t.nextSibling,d=o.firstChild,u=d.firstChild,v=u.nextSibling,m=d.nextSibling,h=m.firstChild,C=h.nextSibling,k=m.nextSibling,I=k.firstChild,R=I.nextSibling,z=k.nextSibling,q=z.firstChild,L=q.nextSibling,T=L.nextSibling,E=z.nextSibling,P=E.firstChild,O=P.nextSibling,U=E.nextSibling;return i(t,n(r,{get when(){return g()?.smtp.host},get fallback(){return e=Gt(),i(e,()=>l("server.smtpDisabled")),a(()=>s(e,At)),e;var e},get children(){var e=Gt();return i(e,()=>l("server.smtpEnabled")),a(()=>s(e,Ut)),e}})),o.addEventListener("submit",oe),i(u,()=>l("server.smtpHost")),v.$$input=e=>p(e.target.value),i(h,()=>l("server.smtpPort")),C.$$input=e=>b(parseInt(e.target.value)||587),i(I,()=>l("server.smtpUsername")),R.$$input=e=>w(e.target.value),i(q,()=>l("server.smtpPassword")),L.$$input=e=>y(e.target.value),i(T,()=>l("server.smtpPasswordHint")),i(P,()=>l("server.smtpFrom")),O.$$input=e=>$(e.target.value),i(U,()=>l("server.saveConfiguration")),a(i=>{var n=Tt,r=Ot,a=Dt,l=Nt,u=Nt,g=Nt,v=Nt,c=Wt,p=Nt,_=Mt,h=te();return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),a!==i.a&&s(o,i.a=a),l!==i.o&&s(d,i.o=l),u!==i.i&&s(m,i.i=u),g!==i.n&&s(k,i.n=g),v!==i.s&&s(z,i.s=v),c!==i.h&&s(T,i.h=c),p!==i.r&&s(E,i.r=p),_!==i.d&&s(U,i.d=_),h!==i.l&&(U.disabled=i.l=h),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),a(()=>v.value=c()),a(()=>C.value=_()),a(()=>R.value=f()),a(()=>L.value=x()),a(()=>O.value=S()),e}}),null),i(ue,n(r,{get when(){return"quotas"===d()},get children(){var e=jt(),t=e.firstChild,n=t.firstChild,r=n.firstChild,o=r.firstChild,d=o.nextSibling,u=r.nextSibling,g=u.firstChild,v=g.nextSibling,c=u.nextSibling,p=c.firstChild,_=p.nextSibling,m=c.nextSibling,h=m.firstChild,b=h.nextSibling,f=m.nextSibling,w=f.firstChild,x=w.nextSibling,y=f.nextSibling,S=y.firstChild,$=S.nextSibling,ie=y.nextSibling,ne=ie.firstChild,re=ne.nextSibling,ae=ie.nextSibling,se=ae.firstChild,le=se.nextSibling,oe=ae.nextSibling,ue=oe.firstChild,ge=ue.nextSibling,ve=oe.nextSibling,ce=ve.firstChild,pe=ce.nextSibling,_e=ve.nextSibling,me=_e.firstChild,he=me.nextSibling,be=n.nextSibling,fe=be.nextSibling,we=fe.nextSibling,xe=we.firstChild,ye=xe.firstChild,Se=ye.nextSibling,$e=xe.nextSibling,Ce=$e.firstChild,ke=Ce.nextSibling,Ie=$e.nextSibling,Re=Ie.firstChild,ze=Re.nextSibling,qe=Ie.nextSibling,Le=qe.firstChild,Te=Le.nextSibling,Ee=we.nextSibling;return t.addEventListener("submit",de),i(o,()=>l("server.maxRequestBodyBytes")),d.$$input=e=>k(parseInt(e.target.value)||0),i(g,()=>l("server.maxSessionsPerUser")),v.$$input=e=>R(parseInt(e.target.value)||0),i(p,()=>l("server.maxTablesPerWorkspace")),_.$$input=e=>q(parseInt(e.target.value)||0),i(h,()=>l("server.maxColumnsPerTable")),b.$$input=e=>T(parseInt(e.target.value)||0),i(w,()=>l("server.maxRowsPerTable")),x.$$input=e=>P(parseInt(e.target.value)||0),i(S,()=>l("server.maxOrganizations")),$.$$input=e=>U(parseInt(e.target.value)||0),i(ne,()=>l("server.maxWorkspaces")),re.$$input=e=>D(parseInt(e.target.value)||0),i(se,()=>l("server.maxUsers")),le.$$input=e=>N(parseInt(e.target.value)||0),i(ue,()=>l("server.maxTotalStorageBytes")),ge.$$input=e=>W(parseInt(e.target.value)||0),i(ce,()=>l("server.maxAssetSizeBytes")),pe.$$input=e=>G(parseInt(e.target.value)||0),i(me,()=>l("server.maxEgressBandwidthBps")),he.$$input=e=>j(parseInt(e.target.value)||0),i(be,()=>l("server.rateLimits")),i(fe,()=>l("server.rateLimitsHint")),i(ye,()=>l("server.authRatePerMin")),Se.$$input=e=>V(parseInt(e.target.value)||0),i(Ce,()=>l("server.writeRatePerMin")),ke.$$input=e=>K(parseInt(e.target.value)||0),i(Re,()=>l("server.readAuthRatePerMin")),ze.$$input=e=>Y(parseInt(e.target.value)||0),i(Le,()=>l("server.readUnauthRatePerMin")),Te.$$input=e=>ee(parseInt(e.target.value)||0),i(Ee,()=>l("server.saveConfiguration")),a(i=>{var a=Tt,l=Dt,o=Bt,d=Nt,g=Nt,v=Nt,p=Nt,_=Nt,h=Nt,b=Nt,w=Nt,x=Nt,S=Nt,$=Nt,C=Wt,k=Bt,I=Nt,R=Nt,z=Nt,q=Nt,L=Mt,T=te();return a!==i.e&&s(e,i.e=a),l!==i.t&&s(t,i.t=l),o!==i.a&&s(n,i.a=o),d!==i.o&&s(r,i.o=d),g!==i.i&&s(u,i.i=g),v!==i.n&&s(c,i.n=v),p!==i.s&&s(m,i.s=p),_!==i.h&&s(f,i.h=_),h!==i.r&&s(y,i.r=h),b!==i.d&&s(ie,i.d=b),w!==i.l&&s(ae,i.l=w),x!==i.u&&s(oe,i.u=x),S!==i.c&&s(ve,i.c=S),$!==i.w&&s(_e,i.w=$),C!==i.m&&s(fe,i.m=C),k!==i.f&&s(we,i.f=k),I!==i.y&&s(xe,i.y=I),R!==i.g&&s($e,i.g=R),z!==i.p&&s(Ie,i.p=z),q!==i.b&&s(qe,i.b=q),L!==i.T&&s(Ee,i.T=L),T!==i.A&&(Ee.disabled=i.A=T),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),a(()=>d.value=C()),a(()=>v.value=I()),a(()=>_.value=z()),a(()=>b.value=L()),a(()=>x.value=E()),a(()=>$.value=O()),a(()=>re.value=A()),a(()=>le.value=B()),a(()=>ge.value=M()),a(()=>pe.value=F()),a(()=>he.value=H()),a(()=>Se.value=Q()),a(()=>ke.value=J()),a(()=>ze.value=X()),a(()=>Te.value=Z()),e}}),null),a(e=>{var t=zt,i=qt,n="smtp"===d()?Lt:"",r="quotas"===d()?Lt:"";return t!==e.e&&s(ue,e.e=t),i!==e.t&&s(ve,e.t=i),n!==e.a&&s(ce,e.a=n),r!==e.o&&s(pe,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),ue;var ue,ge,ve,ce,pe}v(["click","input"]);const Jt="_settingsPage_1eedq_3",Kt="_header_1eedq_10",Xt="_headerLeft_1eedq_21",Yt="_hamburger_1eedq_27",Zt="_backButton_1eedq_37",ei="_title_1eedq_53",ti="_layout_1eedq_64",ii="_content_1eedq_70",ni="_error_1eedq_81",ri="_mobileBackdrop_1eedq_88";var ai=g("<div>"),si=g('<div><header><div><button aria-label="Toggle settings menu">☰</button><button>← </button><h1></h1></div></header><div><main>');function li(l){const{t:d}=m(),{user:u}=h(),[g,v]=e(!1),c=e=>{"Escape"===e.key&&g()&&v(!1)};p(()=>{window.addEventListener("keydown",c),_(()=>window.removeEventListener("keydown",c))}),t(()=>{"redirect"===l.route.type&&l.route.id&&(window.history.replaceState(null,"",l.route.id),window.dispatchEvent(new PopStateEvent("popstate")))});const f=e=>{v(!1),window.history.pushState(null,"",e),window.dispatchEvent(new PopStateEvent("popstate"))},w=()=>{window.history.back()},x=()=>{const e=u()?.workspace_id,t=u()?.workspace_name;e&&(l.onClose(),window.history.pushState(null,"",y(e,t)),window.dispatchEvent(new PopStateEvent("popstate")))};return(()=>{var e=si(),t=e.firstChild,c=t.firstChild,p=c.firstChild,_=p.nextSibling;_.firstChild;var m=_.nextSibling,h=t.nextSibling,y=h.firstChild;return p.$$click=()=>v(!g()),_.$$click=w,i(_,()=>d("common.back"),null),m.$$click=x,i(m,()=>d("settings.title")),i(h,n(r,{get when(){return g()},get children(){var e=ai();return e.$$click=()=>v(!1),a(()=>s(e,ri)),e}}),y),i(h,n(M,{get isOpen(){return g()},get currentRoute(){return l.route},onNavigate:f}),y),i(y,n(r,{get when(){return"profile"===l.route.type},get children(){return n(xe,{})}}),null),i(y,n(r,{get when(){return o(()=>!("workspace"!==l.route.type||!l.route.id))()?l.route.id:null},children:e=>n(r,{get when(){return(e=>{const t=u()?.workspaces?.find(t=>t.workspace_id===e);return t?{id:e,name:t.workspace_name||e}:null})(e())},get fallback(){return e=ai(),i(e,()=>d("errors.failedToLoad")),a(()=>s(e,ni)),e;var e},get children(){return n(vt,{get wsId(){return e()},get section(){return l.route.section},onNavigateToOrgSettings:(e,t)=>{f(b("org",e,t))}})}})}),null),i(y,n(r,{get when(){return o(()=>!("org"!==l.route.type||!l.route.id))()?l.route.id:null},children:e=>n(r,{get when(){return(e=>{const t=u()?.organizations?.find(t=>t.organization_id===e);return t?{id:e,name:t.organization_name||e}:null})(e())},get fallback(){return e=ai(),i(e,()=>d("errors.failedToLoad")),a(()=>s(e,ni)),e;var e},get children(){return n(Rt,{get orgId(){return e()},get section(){return l.route.section}})}})}),null),i(y,n(r,{get when(){return"server"===l.route.type},get children(){return n(Vt,{})}}),null),a(i=>{var n=Jt,r=Kt,a=Xt,l=Yt,o=Zt,d=ei,u=ti,g=ii;return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),a!==i.a&&s(c,i.a=a),l!==i.o&&s(p,i.o=l),o!==i.i&&s(_,i.i=o),d!==i.n&&s(m,i.n=d),u!==i.s&&s(h,i.s=u),g!==i.h&&s(y,i.h=g),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),e})()}v(["click"]);export{De as InviteForm,Re as MembersTable,Rt as OrgSettingsPanel,xe as ProfileSettings,li as Settings,U as SettingsNavItem,M as SettingsSidebar,vt as WorkspaceSettingsPanel};
