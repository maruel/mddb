import{c as e,h as t,i,j as n,d as r,S as a,l as s,m as l,F as o,n as u,o as d,s as v,v as g,g as c,y as p,z as _,E as m}from"./vendor-Bv0g0qOV.js";import{u as b,a as h,s as f,W as y,O as x,g as w,w as S}from"./index-CxYeYSZ3.js";const $="_navItemWrapper_p232u_3",C="_navItem_p232u_3",k="_active_p232u_27",I="_section_p232u_34",z="_separator_p232u_56",q="_expandIcon_p232u_62",R="_expanded_p232u_80",T="_expandSpacer_p232u_84",L="_label_p232u_90",P="_children_p232u_97";var E=g("<span>▶"),j=g("<div>"),O=g("<div><a><span>"),U=g("<span>");function A(g){const c=()=>g.item.children&&g.item.children.length>0,p=()=>{if(!c())return!1;const e=g.currentRoute,t=i=>{for(const n of i){if(g.isActive(n.url,e))return!0;if(n.children&&t(n.children))return!0}return!1};return t(g.item.children||[])},[_,m]=e(t(()=>0===g.depth||p()));i(()=>{g.currentRoute&&p()&&m(!0)});const b=e=>{e.preventDefault(),c()&&!g.item.url?m(!_()):g.item.url&&(c()&&m(!0),g.onNavigate(g.item.url))},h=e=>{e.preventDefault(),e.stopPropagation(),m(!_())};return f=O(),y=f.firstChild,x=y.firstChild,y.$$click=b,n(y,r(a,{get when(){return c()},get fallback(){return e=U(),s(()=>l(e,T)),e;var e},get children(){var e=E();return e.$$click=h,s(()=>l(e,(()=>{let e=q;return _()&&(e+=" "+R),e})())),e}}),x),n(x,()=>g.item.label),n(f,r(a,{get when(){return u(()=>!!_())()&&c()},get children(){var e=j();return n(e,r(o,{get each(){return g.item.children},children:e=>r(A,{item:e,get depth(){return g.depth+1},get isActive(){return g.isActive},get onNavigate(){return g.onNavigate},get currentRoute(){return g.currentRoute}})})),s(()=>l(e,P)),e}}),null),s(e=>{var t=$,i=g.item.url||"#",n=(()=>{let e=C;return g.isActive(g.item.url,g.currentRoute)&&(e+=" "+k),0===g.depth&&c()&&(e+=" "+I),g.item.separator&&(e+=" "+z),e})(),r=12*g.depth+16+"px",a=L;return t!==e.e&&l(f,e.e=t),i!==e.t&&d(y,"href",e.t=i),n!==e.a&&l(y,e.a=n),r!==e.o&&v(y,"padding-left",e.o=r),a!==e.i&&l(x,e.i=a),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),f;var f,y,x}c(["click"]);const B="_sidebar_dpyfy_3",D="_nav_dpyfy_13",N="_mobileOpen_dpyfy_31";var W=g("<aside><nav>");function M(e){const{t:t}=b(),{user:i}=h(),a=(e,t)=>{if(!e)return!1;if("/settings/user"===e&&"profile"===t.type)return!0;if("/settings/server"===e&&"server"===t.type)return!0;if("workspace"===t.type&&t.id){const i=e.match(/^\/settings\/workspace\/([^+/]+)/);if(i&&i[1]===t.id){const[,i]=e.split("#");return i?t.section===i:!t.section}}if("org"===t.type&&t.id){const i=e.match(/^\/settings\/org\/([^+/]+)/);if(i&&i[1]===t.id){const[,i]=e.split("#");return i?t.section===i:!t.section}}return!1};return u=W(),d=u.firstChild,n(d,r(o,{get each(){return(()=>{const e=[],n=i();if(!n)return e;e.push({id:"user",label:t("settings.personal"),url:f("user")});const r=n.workspaces||[];if(r.length>0){const i=r.map(e=>{const i=e.workspace_id,n=e.workspace_name||i,r=e.role===y,a=[{id:`ws-${i}-members`,label:t("settings.members"),url:f("workspace",i,n)+"#members"},{id:`ws-${i}-settings`,label:t("settings.settings"),url:f("workspace",i,n)+"#settings"}];return r&&a.push({id:`ws-${i}-sync`,label:t("settings.gitSync"),url:f("workspace",i,n)+"#sync"}),{id:`ws-${i}`,label:n,url:f("workspace",i,n),children:a}});e.push({id:"workspaces",label:t("settings.workspaces"),url:"",children:i})}const a=(n.organizations||[]).filter(e=>e.role===x||e.role===w);if(a.length>0){const i=a.map(e=>{const i=e.organization_id,n=e.organization_name||i;return{id:`org-${i}`,label:n,url:f("org",i,n),children:[{id:`org-${i}-members`,label:t("settings.members"),url:f("org",i,n)+"#members"},{id:`org-${i}-settings`,label:t("settings.settings"),url:f("org",i,n)+"#settings"}]}});e.push({id:"organizations",label:t("settings.organizations"),url:"",children:i})}return n.is_global_admin&&e.push({id:"server",label:t("server.serverSettings"),url:f("server")}),e.push({id:"privacy",label:t("app.privacyPolicy"),url:"/privacy",separator:!0}),e.push({id:"terms",label:t("app.terms"),url:"/terms"}),e})()},children:t=>r(A,{item:t,depth:0,isActive:a,get onNavigate(){return e.onNavigate},get currentRoute(){return e.currentRoute}})})),s(t=>{var i=`${B} ${e.isOpen?N:""}`,n=D;return i!==t.e&&l(u,t.e=i),n!==t.t&&l(d,t.t=n),t},{e:void 0,t:void 0}),u;var u,d}const F="_profile_vysi4_3",G="_userInfoSection_vysi4_7",H="_avatarLarge_vysi4_17",Q="_avatarImageLarge_vysi4_29",V="_initialsLarge_vysi4_35",J="_userDetails_vysi4_41",K="_userName_vysi4_45",X="_userEmail_vysi4_51",Y="_userRole_vysi4_56",Z="_section_vysi4_66",ee="_error_vysi4_75",te="_success_vysi4_83",ie="_settingsForm_vysi4_91",ne="_formItem_vysi4_98",re="_checkboxLabel_vysi4_117",ae="_saveButton_vysi4_130",se="_orgList_vysi4_149",le="_orgItem_vysi4_155",oe="_orgInfo_vysi4_165",ue="_orgName_vysi4_171",de="_orgNameLink_vysi4_175",ve="_orgRole_vysi4_185",ge="_emptyState_vysi4_194";var ce=g("<div>"),pe=g("<span>"),_e=g("<section><div></div><div><h3></h3><p>"),me=g("<section><h3>"),be=g("<div><label><input type=checkbox>"),he=g("<section><h3></h3><form><div><label></label><select><option value=light></option><option value=dark></option><option value=system></option></select></div><div><label></label><select><option value=en></option><option value=fr></option><option value=de></option><option value=es></option></select></div><button type=submit>"),fe=g("<img referrerpolicy=no-referrer>"),ye=g("<p>"),xe=g("<a>"),we=g("<div><div><span>");function Se(){const{t:t}=b(),{user:u,api:v,wsApi:g}=h(),[c,p]=e("light"),[_,m]=e("en"),[y,S]=e(!0),[$,C]=e(!1),[k,I]=e(null),[z,q]=e(null),R=()=>{const e=u(),t=e?.name||e?.email||"",i=t.split(/[\s@]+/);return i.length>=2&&i[0]&&i[1]?((i[0][0]||"")+(i[1][0]||"")).toUpperCase():t.slice(0,2).toUpperCase()};i(()=>{const e=u();p(e?.settings?.theme||"light"),m(e?.settings?.language||"en")});i(()=>{(async()=>{const e=u();if(e)try{C(!0),I(null);const t=e.workspaces?.find(t=>t.workspace_id===e.workspace_id);t&&S(t.settings?.notifications??!0)}catch(i){I(`${t("errors.failedToLoad")}: ${i}`)}finally{C(!1)}})()});const T=async e=>{e.preventDefault();const i=g();try{C(!0),I(null),q(null);const e={theme:c(),language:_()},n=[v().auth.updateUserSettings({settings:e})];if(i){const e={notifications:y()};n.push(i.settings.updateWSMembershipSettings({settings:e}))}await Promise.all(n),q(t("success.personalSettingsSaved")||"Personal settings saved successfully")}catch(n){I(`${t("errors.failedToSave")}: ${n}`)}finally{C(!1)}};return L=ce(),n(L,r(a,{get when(){return k()},get children(){var e=ce();return n(e,k),s(()=>l(e,ee)),e}}),null),n(L,r(a,{get when(){return z()},get children(){var e=ce();return n(e,z),s(()=>l(e,te)),e}}),null),n(L,r(a,{get when(){return u()},children:e=>{return[(N=_e(),W=N.firstChild,M=W.nextSibling,F=M.firstChild,ee=F.nextSibling,n(W,r(a,{get when(){return(()=>{const e=u()?.oauth_identities;if(!e)return null;for(const t of e)if(t.avatar_url)return t.avatar_url;return null})()},get fallback(){return e=pe(),n(e,R),s(()=>l(e,V)),e;var e},children:t=>{return i=fe(),s(n=>{var r=t(),a=e().name||"User",s=Q;return r!==n.e&&d(i,"src",n.e=r),a!==n.t&&d(i,"alt",n.t=a),s!==n.a&&l(i,n.a=s),n},{e:void 0,t:void 0,a:void 0}),i;var i}})),n(F,()=>e().name),n(ee,()=>e().email),n(M,r(a,{get when(){return e().workspace_role},get children(){var t=pe();return n(t,()=>e().workspace_role),s(()=>l(t,Y)),t}}),null),s(e=>{var t=G,i=H,n=J,r=K,a=X;return t!==e.e&&l(N,e.e=t),i!==e.t&&l(W,e.t=i),n!==e.a&&l(M,e.a=n),r!==e.o&&l(F,e.o=r),a!==e.i&&l(ee,e.i=a),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),N),(B=me(),D=B.firstChild,n(D,()=>t("profile.myOrganizations")),n(B,r(a,{get when(){return e().organizations?.length},get fallback(){return e=ye(),n(e,()=>t("profile.noOrganizations")),s(()=>l(e,ge)),e;var e},get children(){var t=ce();return n(t,r(o,{get each(){return e().organizations},children:e=>{const t=e.organization_name||e.organization_id;return i=we(),o=i.firstChild,u=o.firstChild,n(o,r(a,{get when(){return e.role===x||e.role===w},get fallback(){return e=pe(),n(e,t),s(()=>l(e,ue)),e;var e},get children(){var i=xe();return i.$$click=t=>{t.preventDefault(),(e=>{window.history.pushState(null,"",f("org",e.organization_id,e.organization_name)),window.dispatchEvent(new PopStateEvent("popstate"))})(e)},n(i,t),s(t=>{var n=f("org",e.organization_id,e.organization_name),r=de;return n!==t.e&&d(i,"href",t.e=n),r!==t.t&&l(i,t.t=r),t},{e:void 0,t:void 0}),i}}),u),n(u,()=>e.role),s(e=>{var t=le,n=oe,r=ve;return t!==e.e&&l(i,e.e=t),n!==e.t&&l(o,e.t=n),r!==e.a&&l(u,e.a=r),e},{e:void 0,t:void 0,a:void 0}),i;var i,o,u}})),s(()=>l(t,se)),t}}),null),s(()=>l(B,Z)),B),(i=he(),v=i.firstChild,g=v.nextSibling,b=g.firstChild,h=b.firstChild,C=h.nextSibling,k=C.firstChild,I=k.nextSibling,z=I.nextSibling,q=b.nextSibling,L=q.firstChild,P=L.nextSibling,E=P.firstChild,j=E.nextSibling,O=j.nextSibling,U=O.nextSibling,A=q.nextSibling,n(v,()=>t("settings.personalSettings")),g.addEventListener("submit",T),n(h,()=>t("settings.theme")),C.addEventListener("change",e=>p(e.target.value)),n(k,()=>t("settings.themeLight")),n(I,()=>t("settings.themeDark")),n(z,()=>t("settings.themeSystem")),n(L,()=>t("settings.language")),P.addEventListener("change",e=>m(e.target.value)),n(E,()=>t("settings.languageEn")),n(j,()=>t("settings.languageFr")),n(O,()=>t("settings.languageDe")),n(U,()=>t("settings.languageEs")),n(g,r(a,{get when(){return e().workspace_id},get children(){var e=be(),i=e.firstChild,r=i.firstChild;return r.addEventListener("change",e=>S(e.currentTarget.checked)),n(i,()=>t("settings.enableNotifications"),null),s(t=>{var n=ne,r=re;return n!==t.e&&l(e,t.e=n),r!==t.t&&l(i,t.t=r),t},{e:void 0,t:void 0}),s(()=>r.checked=y()),e}}),A),n(A,()=>t("settings.saveChanges")),s(e=>{var t=Z,n=ie,r=ne,a=ne,s=ae,o=$();return t!==e.e&&l(i,e.e=t),n!==e.t&&l(g,e.t=n),r!==e.a&&l(b,e.a=r),a!==e.o&&l(q,e.o=a),s!==e.i&&l(A,e.i=s),o!==e.n&&(A.disabled=e.n=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),s(()=>C.value=c()),s(()=>P.value=_()),i)];var i,v,g,b,h,C,k,I,z,q,L,P,E,j,O,U,A,B,D,N,W,M,F,ee}}),null),s(()=>l(L,F)),L;var L}c(["click"]);const $e="_table_rjyw4_3",Ce="_roleSelect_rjyw4_21";var ke=g("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),Ie=g("<select>"),ze=g("<tr><td></td><td></td><td>"),qe=g("<option>");function Re(e){const{t:t}=b(),i=t=>("workspace_role"===e.roleField?t.workspace_role:t.org_role)||"";return u=ke(),d=u.firstChild,v=d.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,p=d.nextSibling,n(v,()=>t("settings.nameColumn")),n(g,()=>t("settings.emailColumn")),n(c,()=>t("settings.roleColumn")),n(p,r(o,{get each(){return e.members},children:t=>{return u=ze(),d=u.firstChild,v=d.nextSibling,g=v.nextSibling,n(d,()=>t.name),n(v,()=>t.email),n(g,r(a,{get when(){return t.id!==e.currentUserId},get fallback(){return i(t)},get children(){var a=Ie();return a.addEventListener("change",i=>e.onUpdateRole(t.id,i.target.value)),n(a,r(o,{get each(){return e.roleOptions},children:e=>{return t=qe(),n(t,()=>e.label),s(()=>t.value=e.value),t;var t}})),s(t=>{var i=Ce,n=e.loading;return i!==t.e&&l(a,t.e=i),n!==t.t&&(a.disabled=t.t=n),t},{e:void 0,t:void 0}),s(()=>a.value=i(t)),a}})),u;var u,d,v,g}})),s(()=>l(u,$e)),u;var u,d,v,g,c,p}const Te="_inviteSection_toc48_3",Le="_inviteForm_toc48_7",Pe="_formGroup_toc48_17",Ee="_pendingSection_toc48_57",je="_table_toc48_65";var Oe=g("<div><h4></h4><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),Ue=g("<div><form><h4></h4><div><input type=email required><select></select><button type=submit>"),Ae=g("<option>"),Be=g("<tr><td></td><td></td><td>");function De(t){const{t:i}=b(),[u,v]=e(""),[g,c]=e(t.defaultRole),p=async e=>{e.preventDefault(),u()&&(await t.onInvite(u(),g()),v(""))};return _=Ue(),m=_.firstChild,h=m.firstChild,f=h.nextSibling,y=f.firstChild,x=y.nextSibling,w=x.nextSibling,m.addEventListener("submit",p),n(h,()=>i("settings.inviteNewMember")),y.$$input=e=>v(e.target.value),x.addEventListener("change",e=>c(e.target.value)),n(x,r(o,{get each(){return t.roleOptions},children:e=>{return t=Ae(),n(t,()=>e.label),s(()=>t.value=e.value),t;var t}})),n(w,()=>i("common.invite")),n(_,r(a,{get when(){return t.pendingInvitations.length>0},get children(){var e=Oe(),a=e.firstChild,u=a.nextSibling,d=u.firstChild,v=d.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,p=d.nextSibling;return n(a,()=>i("settings.pendingInvitations")),n(v,()=>i("settings.emailColumn")),n(g,()=>i("settings.roleColumn")),n(c,()=>i("settings.sentColumn")),n(p,r(o,{get each(){return t.pendingInvitations},children:e=>{return t=Be(),i=t.firstChild,r=i.nextSibling,a=r.nextSibling,n(i,()=>e.email),n(r,()=>e.role),n(a,()=>new Date(e.created).toLocaleDateString()),t;var t,i,r,a}})),s(t=>{var i=Ee,n=je;return i!==t.e&&l(e,t.e=i),n!==t.t&&l(u,t.t=n),t},{e:void 0,t:void 0}),e}}),null),s(e=>{var n=Te,r=Le,a=Pe,s=i("settings.emailPlaceholder")||"Email address",o=t.loading,u=t.loading,v=t.loading;return n!==e.e&&l(_,e.e=n),r!==e.t&&l(m,e.t=r),a!==e.a&&l(f,e.a=a),s!==e.o&&d(y,"placeholder",e.o=s),o!==e.i&&(y.disabled=e.i=o),u!==e.n&&(x.disabled=e.n=u),v!==e.s&&(w.disabled=e.s=v),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),s(()=>y.value=u()),s(()=>x.value=g()),_;var _,m,h,f,y,x,w}c(["input"]);const Ne="_panel_196er_3",We="_tabs_196er_7",Me="_activeTab_196er_29",Fe="_section_196er_34",Ge="_error_196er_43",He="_success_196er_51",Qe="_settingsForm_196er_59",Ve="_formItem_196er_66",Je="_formGrid_196er_87",Ke="_saveButton_196er_108",Xe="_hint_196er_127",Ye="_table_196er_133",Ze="_actions_196er_151",et="_smallButton_196er_156",tt="_deleteButtonSmall_196er_170",it="_addRemoteSection_196er_184",nt="_orgLink_196er_196",rt="_linkButton_196er_210";var at=g("<button>"),st=g("<div>"),lt=g("<section><h3>"),ot=g("<form><div><label></label><input type=text required></div><h4></h4><div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div></div><button type=submit>"),ut=g("<section><h3></h3><div><p></p><button> →"),dt=g("<div><h4></h4><form><div><label></label><input type=url required></div><div><label></label><input type=password><p></p></div><button type=submit>"),vt=g("<section><h3></h3><p>"),gt=g("<div><div><button></button><button>"),ct=g("<p>"),pt=g("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td><button></button><button>");function _t(t){const{t:o}=b(),{user:u,orgApi:v,wsApi:g}=h(),[c,p]=e("settings"===t.section?"settings":"sync"===t.section?"sync":"members"),[_,m]=e([]),[f,x]=e([]),[w,S]=e(null),[$,C]=e(""),[k,I]=e(""),[z,q]=e(""),[R,T]=e(""),[L,P]=e(0),[E,j]=e(0),[O,U]=e(0),[A,B]=e(0),[D,N]=e(!1),[W,M]=e(null),[F,G]=e(null),H=()=>u()?.workspace_role===y,Q=e=>{p(e);const t="members"===e?"":`#${e}`,i=window.location.pathname;window.history.replaceState(null,"",i+t)},V=async()=>{const e=v();if(e)try{N(!0),M(null);const t=g();if("members"===c()&&H()){const[i,n]=await Promise.all([e.users.listUsers(),t?t.invitations.listWSInvitations():Promise.resolve({invitations:[]})]);m(i.users?.filter(e=>!!e)||[]),x(n.invitations?.filter(e=>!!e)||[])}if("settings"===c()&&t){const e=await t.workspaces.getWorkspace();q(e.name),T(e.name),P(e.quotas.max_pages),j(e.quotas.max_storage_bytes),U(e.quotas.max_records_per_table),B(e.quotas.max_asset_size_bytes)}if("sync"===c()&&H()&&t)try{const e=await t.settings.git.getGitRemote();S(e)}catch{S(null)}}catch(t){M(`${o("errors.failedToLoad")}: ${t}`)}finally{N(!1)}};i(()=>{V()}),i(()=>{const e=t.section;"settings"===e?p("settings"):"sync"===e?p("sync"):"members"!==e&&e||p("members")});const J=async(e,t)=>{const i=g();if(i)try{N(!0),await i.invitations.createWSInvitation({email:e,role:t}),G(o("success.invitationSent")||"Invitation sent successfully"),V()}catch(n){M(`${o("errors.failedToInvite")}: ${n}`)}finally{N(!1)}},K=async(e,t)=>{const i=g();if(i)try{N(!0),await i.users.updateWSMemberRole({user_id:e,role:t}),G(o("success.roleUpdated")||"Role updated"),V()}catch(n){M(`${o("errors.failedToUpdateRole")}: ${n}`)}finally{N(!1)}},X=async e=>{e.preventDefault();const t=g();if(t)try{N(!0),M(null),G(null),z()!==R()&&z().trim()&&(await t.workspaces.updateWorkspace({name:z().trim()}),T(z().trim())),await t.workspaces.updateWorkspace({quotas:{max_pages:L(),max_storage_bytes:E(),max_records_per_table:O(),max_asset_size_bytes:A()}}),G(o("success.workspaceSettingsSaved")||"Workspace settings saved successfully")}catch(i){M(`${o("errors.failedToSave")}: ${i}`)}finally{N(!1)}},Y=async e=>{e.preventDefault();const t=g();if(t)try{N(!0),M(null);const e=await t.settings.git.updateGitRemote({url:$(),token:k(),type:"custom",auth_type:k()?"token":"none"});S(e),G(o("success.remoteAdded")||"Git remote configured"),C(""),I("")}catch(i){M(`${o("errors.failedToAddRemote")}: ${i}`)}finally{N(!1)}},Z=async()=>{const e=g();if(e)try{N(!0),M(null),G(null),await e.settings.git.pushGit(),G(o("success.pushSuccessful")||"Push successful"),V()}catch(t){M(`${o("errors.pushFailed")}: ${t}`)}finally{N(!1)}},ee=async()=>{if(!confirm(o("settings.confirmRemoveRemote")||"Are you sure you want to remove this remote?"))return;const e=g();if(e)try{N(!0),M(null),await e.settings.git.deleteGitRemote(),S(null),G(o("success.remoteRemoved")||"Remote removed")}catch(t){M(`${o("errors.failedToRemoveRemote")}: ${t}`)}finally{N(!1)}},te=[{value:"admin",label:o("settings.roleAdmin")},{value:"editor",label:o("settings.roleEditor")},{value:"viewer",label:o("settings.roleViewer")}];return ie=gt(),ne=ie.firstChild,re=ne.firstChild,ae=re.nextSibling,re.$$click=()=>Q("members"),n(re,()=>o("settings.members")),ae.$$click=()=>Q("settings"),n(ae,()=>o("settings.workspace")),n(ne,r(a,{get when(){return H()},get children(){var e=at();return e.$$click=()=>Q("sync"),n(e,()=>o("settings.gitSync")),s(()=>l(e,"sync"===c()?Me:"")),e}}),null),n(ie,r(a,{get when(){return W()},get children(){var e=st();return n(e,W),s(()=>l(e,Ge)),e}}),null),n(ie,r(a,{get when(){return F()},get children(){var e=st();return n(e,F),s(()=>l(e,He)),e}}),null),n(ie,r(a,{get when(){return"members"===c()},get children(){var e=lt(),t=e.firstChild;return n(t,()=>o("settings.members")),n(e,r(a,{get when(){return H()},get fallback(){return e=ct(),n(e,()=>o("settings.adminOnlyMembers")),e;var e},get children(){return[r(Re,{get members(){return _()},get currentUserId(){return u()?.id||""},roleOptions:te,roleField:"workspace_role",onUpdateRole:K,get loading(){return D()}}),r(De,{roleOptions:te,defaultRole:"viewer",get pendingInvitations(){return f().map(e=>({email:e.email,role:e.role,created:e.created}))},onInvite:J,get loading(){return D()}})]}}),null),s(()=>l(e,Fe)),e}}),null),n(ie,r(a,{get when(){return"settings"===c()},get children(){var e=ut(),i=e.firstChild,d=i.nextSibling,v=d.firstChild,g=v.nextSibling,c=g.firstChild;return n(i,()=>o("settings.workspaceSettings")),n(e,r(a,{get when(){return H()},get fallback(){return e=ct(),n(e,()=>o("settings.adminOnlyWorkspace")),e;var e},get children(){var e=ot(),t=e.firstChild,i=t.firstChild,r=i.nextSibling,a=t.nextSibling,u=a.nextSibling,d=u.firstChild,v=d.firstChild,g=v.nextSibling,c=d.nextSibling,p=c.firstChild,_=p.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,y=f.firstChild,x=y.nextSibling,w=u.nextSibling;return e.addEventListener("submit",X),n(i,()=>o("settings.workspaceName")),r.$$input=e=>q(e.target.value),n(a,()=>o("settings.workspaceQuotas")),n(v,()=>o("settings.maxPages")),g.$$input=e=>P(parseInt(e.target.value)||1),n(p,()=>o("settings.maxStorageBytes")),_.$$input=e=>j(parseInt(e.target.value)||1),n(b,()=>o("settings.maxRecordsPerTable")),h.$$input=e=>U(parseInt(e.target.value)||1),n(y,()=>o("settings.maxAssetSizeBytes")),x.$$input=e=>B(parseInt(e.target.value)||1),n(w,()=>o("settings.saveWorkspaceSettings")),s(i=>{var n=Qe,r=Ve,a=Je,s=Ve,o=Ve,v=Ve,g=Ve,p=Ke,_=D();return n!==i.e&&l(e,i.e=n),r!==i.t&&l(t,i.t=r),a!==i.a&&l(u,i.a=a),s!==i.o&&l(d,i.o=s),o!==i.i&&l(c,i.i=o),v!==i.n&&l(m,i.n=v),g!==i.s&&l(f,i.s=g),p!==i.h&&l(w,i.h=p),_!==i.r&&(w.disabled=i.r=_),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),s(()=>r.value=z()),s(()=>g.value=L()),s(()=>_.value=E()),s(()=>h.value=O()),s(()=>x.value=A()),e}}),d),n(v,()=>o("settings.orgSettingsHint")),g.$$click=()=>{const e=u(),i=e?.organization_id,n=e?.organizations?.find(e=>e.organization_id===i),r=n?.organization_name||"";i&&t.onNavigateToOrgSettings(i,r)},n(g,()=>o("settings.openOrgSettings"),c),s(t=>{var i=Fe,n=nt,r=rt;return i!==t.e&&l(e,t.e=i),n!==t.t&&l(d,t.t=n),r!==t.a&&l(g,t.a=r),t},{e:void 0,t:void 0,a:void 0}),e}}),null),n(ie,r(a,{get when(){return"sync"===c()},get children(){var e=vt(),t=e.firstChild,i=t.nextSibling;return n(t,()=>o("settings.gitSynchronization")),n(i,()=>o("settings.gitSyncHint")),n(e,r(a,{get when(){return w()},children:e=>{const t=e().last_sync;return i=pt(),r=i.firstChild,a=r.firstChild.firstChild,u=a.nextSibling,d=u.nextSibling,v=r.nextSibling.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,p=c.firstChild,_=p.nextSibling,n(a,()=>o("settings.urlColumn")),n(u,()=>o("settings.lastSyncColumn")),n(d,()=>o("common.actions")),n(v,()=>e().url),n(g,()=>t?new Date(t).toLocaleString():o("settings.never")),p.$$click=Z,n(p,()=>o("common.push")),_.$$click=ee,n(_,()=>o("common.remove")),s(e=>{var t=Ye,n=Ze,r=D(),a=et,s=D(),o=tt;return t!==e.e&&l(i,e.e=t),n!==e.t&&l(c,e.t=n),r!==e.a&&(p.disabled=e.a=r),a!==e.o&&l(p,e.o=a),s!==e.i&&(_.disabled=e.i=s),o!==e.n&&l(_,e.n=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),i;var i,r,a,u,d,v,g,c,p,_}}),null),n(e,r(a,{get when(){return!w()},get children(){var e=dt(),t=e.firstChild,i=t.nextSibling,r=i.firstChild,a=r.firstChild,u=a.nextSibling,v=r.nextSibling,g=v.firstChild,c=g.nextSibling,p=c.nextSibling,_=v.nextSibling;return n(t,()=>o("settings.addNewRemote")),i.addEventListener("submit",Y),n(a,()=>o("settings.repositoryUrl")),u.$$input=e=>C(e.target.value),n(g,()=>o("settings.personalAccessToken")),c.$$input=e=>I(e.target.value),n(p,()=>o("settings.tokenHint")),n(_,()=>o("settings.addRemote")),s(t=>{var n=it,a=Qe,s=Ve,g=o("settings.repositoryUrlPlaceholder")||"https://github.com/user/repo.git",m=Ve,b=o("settings.tokenPlaceholder")||"ghp_...",h=Xe,f=Ke,y=D();return n!==t.e&&l(e,t.e=n),a!==t.t&&l(i,t.t=a),s!==t.a&&l(r,t.a=s),g!==t.o&&d(u,"placeholder",t.o=g),m!==t.i&&l(v,t.i=m),b!==t.n&&d(c,"placeholder",t.n=b),h!==t.s&&l(p,t.s=h),f!==t.h&&l(_,t.h=f),y!==t.r&&(_.disabled=t.r=y),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),s(()=>u.value=$()),s(()=>c.value=k()),e}}),null),s(t=>{var n=Fe,r=Xe;return n!==t.e&&l(e,t.e=n),r!==t.t&&l(i,t.t=r),t},{e:void 0,t:void 0}),e}}),null),s(e=>{var t=Ne,i=We,n="members"===c()?Me:"",r="settings"===c()?Me:"";return t!==e.e&&l(ie,e.e=t),i!==e.t&&l(ne,e.t=i),n!==e.a&&l(re,e.a=n),r!==e.o&&l(ae,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),ie;var ie,ne,re,ae}c(["click","input"]);const mt="_panel_1lewj_3",bt="_tabs_1lewj_7",ht="_activeTab_1lewj_29",ft="_section_1lewj_34",yt="_error_1lewj_43",xt="_success_1lewj_51",wt="_settingsForm_1lewj_59",St="_formItem_1lewj_66",$t="_formGrid_1lewj_85",Ct="_saveButton_1lewj_106";var kt=g("<div>"),It=g("<section><h3>"),zt=g("<form><div><label></label><input type=text required></div><h4></h4><div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div></div><button type=submit>"),qt=g("<div><div><button></button><button>"),Rt=g("<p>");function Tt(t){const{t:o}=b(),{user:u,api:d}=h(),[v,g]=e("settings"===t.section?"settings":"members"),[c,_]=e([]),[m,f]=e([]),[y,S]=e(""),[$,C]=e(""),[k,I]=e(0),[z,q]=e(0),[R,T]=e(0),[L,P]=e(0),[E,j]=e(!1),[O,U]=e(null),[A,B]=e(null),D=p(()=>d().org(t.orgId)),N=p(()=>{const e=u()?.organizations?.find(e=>e.organization_id===t.orgId);return e?.role}),W=p(()=>{const e=N();return e===w||e===x}),M=e=>{g(e);const t="members"===e?"":`#${e}`,i=window.location.pathname;window.history.replaceState(null,"",i+t)},F=async()=>{const e=D();try{if(j(!0),U(null),"members"===v()&&W()){const[t,i]=await Promise.all([e.users.listUsers(),e.invitations.listOrgInvitations()]);_(t.users?.filter(e=>!!e)||[]),f(i.invitations?.filter(e=>!!e)||[])}if("settings"===v()){const t=await e.organizations.getOrganization();S(t.name),C(t.name),I(t.quotas.max_workspaces),q(t.quotas.max_members_per_org),T(t.quotas.max_members_per_workspace),P(t.quotas.max_total_storage_bytes)}}catch(t){U(`${o("errors.failedToLoad")}: ${t}`)}finally{j(!1)}};i(()=>{F()}),i(()=>{const e=t.section;"settings"===e?g("settings"):"members"!==e&&e||g("members")});const G=async(e,t)=>{const i=D();try{j(!0),await i.invitations.createOrgInvitation({email:e,role:t}),B(o("success.invitationSent")||"Invitation sent successfully"),F()}catch(n){U(`${o("errors.failedToInvite")}: ${n}`)}finally{j(!1)}},H=async(e,t)=>{const i=D();try{j(!0),await i.users.updateOrgMemberRole({user_id:e,role:t}),B(o("success.roleUpdated")||"Role updated"),F()}catch(n){U(`${o("errors.failedToUpdateRole")}: ${n}`)}finally{j(!1)}},Q=async e=>{e.preventDefault();const t=D();try{j(!0),U(null),B(null),y()!==$()&&y().trim()&&(await t.organizations.updateOrganization({name:y().trim()}),C(y().trim())),await t.settings.updateOrgPreferences({quotas:{max_workspaces:k(),max_members_per_org:z(),max_members_per_workspace:R(),max_total_storage_bytes:L()}}),B(o("success.orgSettingsSaved")||"Organization settings saved")}catch(i){U(`${o("errors.failedToSave")}: ${i}`)}finally{j(!1)}},V=[{value:"owner",label:o("settings.roleOwner")},{value:"admin",label:o("settings.roleAdmin")},{value:"member",label:o("settings.roleMember")}],J=[{value:"admin",label:o("settings.roleAdmin")},{value:"member",label:o("settings.roleMember")}];return K=qt(),X=K.firstChild,Y=X.firstChild,Z=Y.nextSibling,Y.$$click=()=>M("members"),n(Y,()=>o("settings.members")),Z.$$click=()=>M("settings"),n(Z,()=>o("settings.settings")),n(K,r(a,{get when(){return O()},get children(){var e=kt();return n(e,O),s(()=>l(e,yt)),e}}),null),n(K,r(a,{get when(){return A()},get children(){var e=kt();return n(e,A),s(()=>l(e,xt)),e}}),null),n(K,r(a,{get when(){return"members"===v()},get children(){var e=It(),t=e.firstChild;return n(t,()=>o("settings.organizationMembers")),n(e,r(a,{get when(){return W()},get fallback(){return e=Rt(),n(e,()=>o("settings.adminOnlyMembers")),e;var e},get children(){return[r(Re,{get members(){return c()},get currentUserId(){return u()?.id||""},roleOptions:V,roleField:"org_role",onUpdateRole:H,get loading(){return E()}}),r(De,{roleOptions:J,defaultRole:"member",get pendingInvitations(){return m().map(e=>({email:e.email,role:e.role,created:e.created}))},onInvite:G,get loading(){return E()}})]}}),null),s(()=>l(e,ft)),e}}),null),n(K,r(a,{get when(){return"settings"===v()},get children(){var e=It(),t=e.firstChild;return n(t,()=>o("settings.organizationPreferences")),n(e,r(a,{get when(){return W()},get fallback(){return e=Rt(),n(e,()=>o("settings.adminOnlySettings")),e;var e},get children(){var e=zt(),t=e.firstChild,i=t.firstChild,r=i.nextSibling,a=t.nextSibling,u=a.nextSibling,d=u.firstChild,v=d.firstChild,g=v.nextSibling,c=d.nextSibling,p=c.firstChild,_=p.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,x=f.firstChild,w=x.nextSibling,$=u.nextSibling;return e.addEventListener("submit",Q),n(i,()=>o("settings.organizationName")),r.$$input=e=>S(e.target.value),n(a,()=>o("settings.organizationQuotas")),n(v,()=>o("settings.maxWorkspaces")),g.$$input=e=>I(parseInt(e.target.value)||1),n(p,()=>o("settings.maxMembersPerOrg")),_.$$input=e=>q(parseInt(e.target.value)||1),n(b,()=>o("settings.maxMembersPerWorkspace")),h.$$input=e=>T(parseInt(e.target.value)||1),n(x,()=>o("settings.maxTotalStorageBytes")),w.$$input=e=>P(parseInt(e.target.value)||1),n($,()=>o("common.save")),s(i=>{var n=wt,r=St,a=$t,s=St,o=St,v=St,g=St,p=Ct,_=E();return n!==i.e&&l(e,i.e=n),r!==i.t&&l(t,i.t=r),a!==i.a&&l(u,i.a=a),s!==i.o&&l(d,i.o=s),o!==i.i&&l(c,i.i=o),v!==i.n&&l(m,i.n=v),g!==i.s&&l(f,i.s=g),p!==i.h&&l($,i.h=p),_!==i.r&&($.disabled=i.r=_),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),s(()=>r.value=y()),s(()=>g.value=k()),s(()=>_.value=z()),s(()=>h.value=R()),s(()=>w.value=L()),e}}),null),s(()=>l(e,ft)),e}}),null),s(e=>{var t=mt,i=bt,n="members"===v()?ht:"",r="settings"===v()?ht:"";return t!==e.e&&l(K,e.e=t),i!==e.t&&l(X,e.t=i),n!==e.a&&l(Y,e.a=n),r!==e.o&&l(Z,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),K;var K,X,Y,Z}c(["click","input"]);const Lt="_panel_1jx6v_3",Pt="_tabs_1jx6v_12",Et="_activeTab_1jx6v_34",jt="_section_1jx6v_39",Ot="_error_1jx6v_43",Ut="_success_1jx6v_51",At="_statusBadge_1jx6v_59",Bt="_enabled_1jx6v_63",Dt="_disabled_1jx6v_73",Nt="_settingsForm_1jx6v_83",Wt="_formGrid_1jx6v_90",Mt="_formItem_1jx6v_97",Ft="_saveButton_1jx6v_127",Gt="_hint_1jx6v_146";var Ht=g("<div>"),Qt=g("<span>"),Vt=g("<section><div></div><form><div><label></label><input type=text placeholder=smtp.example.com></div><div><label></label><input type=number min=1 max=65535></div><div><label></label><input type=text placeholder=user@example.com></div><div><label></label><input type=password placeholder=••••••••><p></p></div><div><label></label><input type=email placeholder=noreply@example.com></div><button type=submit>"),Jt=g("<section><form><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=0></div></div><h3></h3><p></p><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div></div><button type=submit>"),Kt=g("<div><h2></h2><div><button></button><button>");function Xt(){const{t:t}=b(),{api:o}=h(),[u,d]=e("smtp"),[v,g]=e(null),[c,p]=e(""),[_,m]=e(587),[f,y]=e(""),[x,w]=e(""),[S,$]=e(""),[C,k]=e(0),[I,z]=e(0),[q,R]=e(0),[T,L]=e(0),[P,E]=e(0),[j,O]=e(0),[U,A]=e(0),[B,D]=e(0),[N,W]=e(0),[M,F]=e(0),[G,H]=e(0),[Q,V]=e(0),[J,K]=e(0),[X,Y]=e(0),[Z,ee]=e(0),[te,ie]=e(!1),[ne,re]=e(null),[ae,se]=e(null),le=async()=>{try{ie(!0),re(null);const e=await o().server.getConfig();g(e),p(e.smtp.host||""),m(e.smtp.port||587),y(e.smtp.username||""),$(e.smtp.from||""),w(""),k(e.quotas.max_request_body_bytes),z(e.quotas.max_sessions_per_user),R(e.quotas.max_tables_per_workspace),L(e.quotas.max_columns_per_table),E(e.quotas.max_rows_per_table),O(e.quotas.max_organizations),A(e.quotas.max_workspaces),D(e.quotas.max_users),W(e.quotas.max_total_storage_bytes),F(e.quotas.max_asset_size_bytes),H(e.quotas.max_egress_bandwidth_bps),V(e.rate_limits.auth_rate_per_min),K(e.rate_limits.write_rate_per_min),Y(e.rate_limits.read_auth_rate_per_min),ee(e.rate_limits.read_unauth_rate_per_min)}catch(e){re(`${t("errors.failedToLoad")}: ${e}`)}finally{ie(!1)}};i(()=>{le()});const oe=async e=>{e.preventDefault();try{ie(!0),re(null),se(null),await o().server.updateConfig({smtp:{host:c(),port:_(),username:f(),password:x(),from:S()}}),se(t("server.configurationSaved")),await le()}catch(i){re(`${t("errors.failedToSave")}: ${i}`)}finally{ie(!1)}},ue=async e=>{e.preventDefault();try{ie(!0),re(null),se(null),await o().server.updateConfig({quotas:{max_request_body_bytes:C(),max_sessions_per_user:I(),max_tables_per_workspace:q(),max_columns_per_table:T(),max_rows_per_table:P(),max_organizations:j(),max_workspaces:U(),max_users:B(),max_total_storage_bytes:N(),max_asset_size_bytes:M(),max_egress_bandwidth_bps:G()},rate_limits:{auth_rate_per_min:Q(),write_rate_per_min:J(),read_auth_rate_per_min:X(),read_unauth_rate_per_min:Z()}}),se(t("server.configurationSaved"))}catch(i){re(`${t("errors.failedToSave")}: ${i}`)}finally{ie(!1)}};return de=Kt(),ve=de.firstChild,ge=ve.nextSibling,ce=ge.firstChild,pe=ce.nextSibling,n(ve,()=>t("server.serverSettings")),ce.$$click=()=>d("smtp"),n(ce,()=>t("server.smtpConfiguration")),pe.$$click=()=>d("quotas"),n(pe,()=>t("server.quotas")),n(de,r(a,{get when(){return ne()},get children(){var e=Ht();return n(e,ne),s(()=>l(e,Ot)),e}}),null),n(de,r(a,{get when(){return ae()},get children(){var e=Ht();return n(e,ae),s(()=>l(e,Ut)),e}}),null),n(de,r(a,{get when(){return"smtp"===u()},get children(){var e=Vt(),i=e.firstChild,o=i.nextSibling,u=o.firstChild,d=u.firstChild,g=d.nextSibling,b=u.nextSibling,h=b.firstChild,C=h.nextSibling,k=b.nextSibling,I=k.firstChild,z=I.nextSibling,q=k.nextSibling,R=q.firstChild,T=R.nextSibling,L=T.nextSibling,P=q.nextSibling,E=P.firstChild,j=E.nextSibling,O=P.nextSibling;return n(i,r(a,{get when(){return v()?.smtp.host},get fallback(){return e=Qt(),n(e,()=>t("server.smtpDisabled")),s(()=>l(e,Dt)),e;var e},get children(){var e=Qt();return n(e,()=>t("server.smtpEnabled")),s(()=>l(e,Bt)),e}})),o.addEventListener("submit",oe),n(d,()=>t("server.smtpHost")),g.$$input=e=>p(e.target.value),n(h,()=>t("server.smtpPort")),C.$$input=e=>m(parseInt(e.target.value)||587),n(I,()=>t("server.smtpUsername")),z.$$input=e=>y(e.target.value),n(R,()=>t("server.smtpPassword")),T.$$input=e=>w(e.target.value),n(L,()=>t("server.smtpPasswordHint")),n(E,()=>t("server.smtpFrom")),j.$$input=e=>$(e.target.value),n(O,()=>t("server.saveConfiguration")),s(t=>{var n=jt,r=At,a=Nt,s=Mt,d=Mt,v=Mt,g=Mt,c=Gt,p=Mt,_=Ft,m=te();return n!==t.e&&l(e,t.e=n),r!==t.t&&l(i,t.t=r),a!==t.a&&l(o,t.a=a),s!==t.o&&l(u,t.o=s),d!==t.i&&l(b,t.i=d),v!==t.n&&l(k,t.n=v),g!==t.s&&l(q,t.s=g),c!==t.h&&l(L,t.h=c),p!==t.r&&l(P,t.r=p),_!==t.d&&l(O,t.d=_),m!==t.l&&(O.disabled=t.l=m),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),s(()=>g.value=c()),s(()=>C.value=_()),s(()=>z.value=f()),s(()=>T.value=x()),s(()=>j.value=S()),e}}),null),n(de,r(a,{get when(){return"quotas"===u()},get children(){var e=Jt(),i=e.firstChild,r=i.firstChild,a=r.firstChild,o=a.firstChild,u=o.nextSibling,d=a.nextSibling,v=d.firstChild,g=v.nextSibling,c=d.nextSibling,p=c.firstChild,_=p.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,y=f.firstChild,x=y.nextSibling,w=f.nextSibling,S=w.firstChild,$=S.nextSibling,ie=w.nextSibling,ne=ie.firstChild,re=ne.nextSibling,ae=ie.nextSibling,se=ae.firstChild,le=se.nextSibling,oe=ae.nextSibling,de=oe.firstChild,ve=de.nextSibling,ge=oe.nextSibling,ce=ge.firstChild,pe=ce.nextSibling,_e=ge.nextSibling,me=_e.firstChild,be=me.nextSibling,he=r.nextSibling,fe=he.nextSibling,ye=fe.nextSibling,xe=ye.firstChild,we=xe.firstChild,Se=we.nextSibling,$e=xe.nextSibling,Ce=$e.firstChild,ke=Ce.nextSibling,Ie=$e.nextSibling,ze=Ie.firstChild,qe=ze.nextSibling,Re=Ie.nextSibling,Te=Re.firstChild,Le=Te.nextSibling,Pe=ye.nextSibling;return i.addEventListener("submit",ue),n(o,()=>t("server.maxRequestBodyBytes")),u.$$input=e=>k(parseInt(e.target.value)||0),n(v,()=>t("server.maxSessionsPerUser")),g.$$input=e=>z(parseInt(e.target.value)||0),n(p,()=>t("server.maxTablesPerWorkspace")),_.$$input=e=>R(parseInt(e.target.value)||0),n(b,()=>t("server.maxColumnsPerTable")),h.$$input=e=>L(parseInt(e.target.value)||0),n(y,()=>t("server.maxRowsPerTable")),x.$$input=e=>E(parseInt(e.target.value)||0),n(S,()=>t("server.maxOrganizations")),$.$$input=e=>O(parseInt(e.target.value)||0),n(ne,()=>t("server.maxWorkspaces")),re.$$input=e=>A(parseInt(e.target.value)||0),n(se,()=>t("server.maxUsers")),le.$$input=e=>D(parseInt(e.target.value)||0),n(de,()=>t("server.maxTotalStorageBytes")),ve.$$input=e=>W(parseInt(e.target.value)||0),n(ce,()=>t("server.maxAssetSizeBytes")),pe.$$input=e=>F(parseInt(e.target.value)||0),n(me,()=>t("server.maxEgressBandwidthBps")),be.$$input=e=>H(parseInt(e.target.value)||0),n(he,()=>t("server.rateLimits")),n(fe,()=>t("server.rateLimitsHint")),n(we,()=>t("server.authRatePerMin")),Se.$$input=e=>V(parseInt(e.target.value)||0),n(Ce,()=>t("server.writeRatePerMin")),ke.$$input=e=>K(parseInt(e.target.value)||0),n(ze,()=>t("server.readAuthRatePerMin")),qe.$$input=e=>Y(parseInt(e.target.value)||0),n(Te,()=>t("server.readUnauthRatePerMin")),Le.$$input=e=>ee(parseInt(e.target.value)||0),n(Pe,()=>t("server.saveConfiguration")),s(t=>{var n=jt,s=Nt,o=Wt,u=Mt,v=Mt,g=Mt,p=Mt,_=Mt,b=Mt,h=Mt,y=Mt,x=Mt,S=Mt,$=Mt,C=Gt,k=Wt,I=Mt,z=Mt,q=Mt,R=Mt,T=Ft,L=te();return n!==t.e&&l(e,t.e=n),s!==t.t&&l(i,t.t=s),o!==t.a&&l(r,t.a=o),u!==t.o&&l(a,t.o=u),v!==t.i&&l(d,t.i=v),g!==t.n&&l(c,t.n=g),p!==t.s&&l(m,t.s=p),_!==t.h&&l(f,t.h=_),b!==t.r&&l(w,t.r=b),h!==t.d&&l(ie,t.d=h),y!==t.l&&l(ae,t.l=y),x!==t.u&&l(oe,t.u=x),S!==t.c&&l(ge,t.c=S),$!==t.w&&l(_e,t.w=$),C!==t.m&&l(fe,t.m=C),k!==t.f&&l(ye,t.f=k),I!==t.y&&l(xe,t.y=I),z!==t.g&&l($e,t.g=z),q!==t.p&&l(Ie,t.p=q),R!==t.b&&l(Re,t.b=R),T!==t.T&&l(Pe,t.T=T),L!==t.A&&(Pe.disabled=t.A=L),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),s(()=>u.value=C()),s(()=>g.value=I()),s(()=>_.value=q()),s(()=>h.value=T()),s(()=>x.value=P()),s(()=>$.value=j()),s(()=>re.value=U()),s(()=>le.value=B()),s(()=>ve.value=N()),s(()=>pe.value=M()),s(()=>be.value=G()),s(()=>Se.value=Q()),s(()=>ke.value=J()),s(()=>qe.value=X()),s(()=>Le.value=Z()),e}}),null),s(e=>{var t=Lt,i=Pt,n="smtp"===u()?Et:"",r="quotas"===u()?Et:"";return t!==e.e&&l(de,e.e=t),i!==e.t&&l(ge,e.t=i),n!==e.a&&l(ce,e.a=n),r!==e.o&&l(pe,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),de;var de,ve,ge,ce,pe}c(["click","input"]);const Yt="_settingsPage_1eedq_3",Zt="_header_1eedq_10",ei="_headerLeft_1eedq_21",ti="_hamburger_1eedq_27",ii="_backButton_1eedq_37",ni="_title_1eedq_53",ri="_layout_1eedq_64",ai="_content_1eedq_70",si="_error_1eedq_81",li="_mobileBackdrop_1eedq_88";var oi=g("<div>"),ui=g('<div><header><div><button aria-label="Toggle settings menu">☰</button><button>← </button><h1></h1></div></header><div><main>');function di(t){const{t:o}=b(),{user:d}=h(),[v,g]=e(!1),c=e=>{"Escape"===e.key&&v()&&g(!1)};_(()=>{window.addEventListener("keydown",c),m(()=>window.removeEventListener("keydown",c))}),i(()=>{"redirect"===t.route.type&&t.route.id&&(window.history.replaceState(null,"",t.route.id),window.dispatchEvent(new PopStateEvent("popstate")))});const p=e=>{g(!1),window.history.pushState(null,"",e),window.dispatchEvent(new PopStateEvent("popstate"))},y=()=>{window.history.back()},x=()=>{const e=d()?.workspace_id,i=d()?.workspace_name;e&&(t.onClose(),window.history.pushState(null,"",S(e,i)),window.dispatchEvent(new PopStateEvent("popstate")))};return(()=>{var e=ui(),i=e.firstChild,c=i.firstChild,_=c.firstChild,m=_.nextSibling;m.firstChild;var b=m.nextSibling,h=i.nextSibling,w=h.firstChild;return _.$$click=()=>g(!v()),m.$$click=y,n(m,()=>o("common.back"),null),b.$$click=x,n(b,()=>o("settings.title")),n(h,r(a,{get when(){return v()},get children(){var e=oi();return e.$$click=()=>g(!1),s(()=>l(e,li)),e}}),w),n(h,r(M,{get isOpen(){return v()},get currentRoute(){return t.route},onNavigate:p}),w),n(w,r(a,{get when(){return"profile"===t.route.type},get children(){return r(Se,{})}}),null),n(w,r(a,{get when(){return u(()=>!("workspace"!==t.route.type||!t.route.id))()?t.route.id:null},children:e=>r(a,{get when(){return(e=>{const t=d()?.workspaces?.find(t=>t.workspace_id===e);return t?{id:e,name:t.workspace_name||e}:null})(e())},get fallback(){return e=oi(),n(e,()=>o("errors.failedToLoad")),s(()=>l(e,si)),e;var e},get children(){return r(_t,{get wsId(){return e()},get section(){return t.route.section},onNavigateToOrgSettings:(e,t)=>{p(f("org",e,t))}})}})}),null),n(w,r(a,{get when(){return u(()=>!("org"!==t.route.type||!t.route.id))()?t.route.id:null},children:e=>r(a,{get when(){return(e=>{const t=d()?.organizations?.find(t=>t.organization_id===e);return t?{id:e,name:t.organization_name||e}:null})(e())},get fallback(){return e=oi(),n(e,()=>o("errors.failedToLoad")),s(()=>l(e,si)),e;var e},get children(){return r(Tt,{get orgId(){return e()},get section(){return t.route.section}})}})}),null),n(w,r(a,{get when(){return"server"===t.route.type},get children(){return r(Xt,{})}}),null),s(t=>{var n=Yt,r=Zt,a=ei,s=ti,o=ii,u=ni,d=ri,v=ai;return n!==t.e&&l(e,t.e=n),r!==t.t&&l(i,t.t=r),a!==t.a&&l(c,t.a=a),s!==t.o&&l(_,t.o=s),o!==t.i&&l(m,t.i=o),u!==t.n&&l(b,t.n=u),d!==t.s&&l(h,t.s=d),v!==t.h&&l(w,t.h=v),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),e})()}c(["click"]);export{De as InviteForm,Re as MembersTable,Tt as OrgSettingsPanel,Se as ProfileSettings,di as Settings,A as SettingsNavItem,M as SettingsSidebar,_t as WorkspaceSettingsPanel};
