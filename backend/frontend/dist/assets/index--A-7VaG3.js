import{c as e,j as t,l as i,e as n,S as r,m as a,n as s,F as l,p as o,q as d,s as u,x as v,h as g,d as c,o as _,D as p}from"./vendor-g8mwYROu.js";import{u as m,a as b,s as h,W as f,O as y,g as x,w}from"./index-BtHkmXw2.js";const S="_navItemWrapper_1177w_3",$="_navItem_1177w_3",C="_active_1177w_27",k="_section_1177w_34",I="_expandIcon_1177w_56",q="_expanded_1177w_74",z="_expandSpacer_1177w_78",R="_label_1177w_84",T="_children_1177w_91";var L=v("<span>▶"),P=v("<div>"),E=v("<div><a><span>"),j=v("<span>");function O(v){const g=()=>v.item.children&&v.item.children.length>0,c=()=>{if(!g())return!1;const e=v.currentRoute,t=i=>{for(const n of i){if(v.isActive(n.url,e))return!0;if(n.children&&t(n.children))return!0}return!1};return t(v.item.children||[])},[_,p]=e(0===v.depth||c());t(()=>{v.currentRoute&&c()&&p(!0)});const m=e=>{e.preventDefault(),g()&&!v.item.url?p(!_()):v.item.url&&(g()&&p(!0),v.onNavigate(v.item.url))},b=e=>{e.preventDefault(),e.stopPropagation(),p(!_())};return h=E(),f=h.firstChild,y=f.firstChild,f.$$click=m,i(f,n(r,{get when(){return g()},get fallback(){return e=j(),a(()=>s(e,z)),e;var e},get children(){var e=L();return e.$$click=b,a(()=>s(e,(()=>{let e=I;return _()&&(e+=" "+q),e})())),e}}),y),i(y,()=>v.item.label),i(h,n(r,{get when(){return o(()=>!!_())()&&g()},get children(){var e=P();return i(e,n(l,{get each(){return v.item.children},children:e=>n(O,{item:e,get depth(){return v.depth+1},get isActive(){return v.isActive},get onNavigate(){return v.onNavigate},get currentRoute(){return v.currentRoute}})})),a(()=>s(e,T)),e}}),null),a(e=>{var t=S,i=v.item.url||"#",n=(()=>{let e=$;return v.isActive(v.item.url,v.currentRoute)&&(e+=" "+C),0===v.depth&&g()&&(e+=" "+k),e})(),r=12*v.depth+16+"px",a=R;return t!==e.e&&s(h,e.e=t),i!==e.t&&d(f,"href",e.t=i),n!==e.a&&s(f,e.a=n),r!==e.o&&u(f,"padding-left",e.o=r),a!==e.i&&s(y,e.i=a),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),h;var h,f,y}g(["click"]);const U="_sidebar_dpyfy_3",A="_nav_dpyfy_13",B="_mobileOpen_dpyfy_31";var D=v("<aside><nav>");function N(e){const{t:t}=m(),{user:r}=b(),o=(e,t)=>{if(!e)return!1;if("/settings/user"===e&&"profile"===t.type)return!0;if("/settings/server"===e&&"server"===t.type)return!0;if("workspace"===t.type&&t.id){const i=e.match(/^\/settings\/workspace\/([^+/]+)/);if(i&&i[1]===t.id){const[,i]=e.split("#");return i?t.section===i:!t.section}}if("org"===t.type&&t.id){const i=e.match(/^\/settings\/org\/([^+/]+)/);if(i&&i[1]===t.id){const[,i]=e.split("#");return i?t.section===i:!t.section}}return!1};return d=D(),u=d.firstChild,i(u,n(l,{get each(){return(()=>{const e=[],i=r();if(!i)return e;e.push({id:"user",label:t("settings.personal"),url:h("user")});const n=i.workspaces||[];if(n.length>0){const i=n.map(e=>{const i=e.workspace_id,n=e.workspace_name||i,r=e.role===f,a=[{id:`ws-${i}-members`,label:t("settings.members"),url:h("workspace",i,n)+"#members"},{id:`ws-${i}-settings`,label:t("settings.settings"),url:h("workspace",i,n)+"#settings"}];return r&&a.push({id:`ws-${i}-sync`,label:t("settings.gitSync"),url:h("workspace",i,n)+"#sync"}),{id:`ws-${i}`,label:n,url:h("workspace",i,n),children:a}});e.push({id:"workspaces",label:t("settings.workspaces"),url:"",children:i})}const a=(i.organizations||[]).filter(e=>e.role===y||e.role===x);if(a.length>0){const i=a.map(e=>{const i=e.organization_id,n=e.organization_name||i;return{id:`org-${i}`,label:n,url:h("org",i,n),children:[{id:`org-${i}-members`,label:t("settings.members"),url:h("org",i,n)+"#members"},{id:`org-${i}-settings`,label:t("settings.settings"),url:h("org",i,n)+"#settings"}]}});e.push({id:"organizations",label:t("settings.organizations"),url:"",children:i})}return i.is_global_admin&&e.push({id:"server",label:t("server.serverSettings"),url:h("server")}),e})()},children:t=>n(O,{item:t,depth:0,isActive:o,get onNavigate(){return e.onNavigate},get currentRoute(){return e.currentRoute}})})),a(t=>{var i=`${U} ${e.isOpen?B:""}`,n=A;return i!==t.e&&s(d,t.e=i),n!==t.t&&s(u,t.t=n),t},{e:void 0,t:void 0}),d;var d,u}const W="_profile_vysi4_3",M="_userInfoSection_vysi4_7",F="_avatarLarge_vysi4_17",G="_avatarImageLarge_vysi4_29",H="_initialsLarge_vysi4_35",Q="_userDetails_vysi4_41",V="_userName_vysi4_45",J="_userEmail_vysi4_51",K="_userRole_vysi4_56",X="_section_vysi4_66",Y="_error_vysi4_75",Z="_success_vysi4_83",ee="_settingsForm_vysi4_91",te="_formItem_vysi4_98",ie="_checkboxLabel_vysi4_117",ne="_saveButton_vysi4_130",re="_orgList_vysi4_149",ae="_orgItem_vysi4_155",se="_orgInfo_vysi4_165",le="_orgName_vysi4_171",oe="_orgNameLink_vysi4_175",de="_orgRole_vysi4_185",ue="_emptyState_vysi4_194";var ve=v("<div>"),ge=v("<span>"),ce=v("<section><div></div><div><h3></h3><p>"),_e=v("<section><h3>"),pe=v("<div><label><input type=checkbox>"),me=v("<section><h3></h3><form><div><label></label><select><option value=light></option><option value=dark></option><option value=system></option></select></div><div><label></label><select><option value=en></option><option value=fr></option><option value=de></option><option value=es></option></select></div><button type=submit>"),be=v("<img referrerpolicy=no-referrer>"),he=v("<p>"),fe=v("<a>"),ye=v("<div><div><span>");function xe(){const{t:o}=m(),{user:u,api:v,wsApi:g}=b(),[c,_]=e("light"),[p,f]=e("en"),[w,S]=e(!0),[$,C]=e(!1),[k,I]=e(null),[q,z]=e(null),R=()=>{const e=u(),t=e?.name||e?.email||"",i=t.split(/[\s@]+/);return i.length>=2&&i[0]&&i[1]?((i[0][0]||"")+(i[1][0]||"")).toUpperCase():t.slice(0,2).toUpperCase()};t(()=>{const e=u();_(e?.settings?.theme||"light"),f(e?.settings?.language||"en")});t(()=>{(async()=>{const e=u();if(e)try{C(!0),I(null);const t=e.workspaces?.find(t=>t.workspace_id===e.workspace_id);t&&S(t.settings?.notifications??!0)}catch(t){I(`${o("errors.failedToLoad")}: ${t}`)}finally{C(!1)}})()});const T=async e=>{e.preventDefault();const t=g();try{C(!0),I(null),z(null);const e={theme:c(),language:p()},i=[v().auth.updateUserSettings({settings:e})];if(t){const e={notifications:w()};i.push(t.settings.updateWSMembershipSettings({settings:e}))}await Promise.all(i),z(o("success.personalSettingsSaved")||"Personal settings saved successfully")}catch(i){I(`${o("errors.failedToSave")}: ${i}`)}finally{C(!1)}};return L=ve(),i(L,n(r,{get when(){return k()},get children(){var e=ve();return i(e,k),a(()=>s(e,Y)),e}}),null),i(L,n(r,{get when(){return q()},get children(){var e=ve();return i(e,q),a(()=>s(e,Z)),e}}),null),i(L,n(r,{get when(){return u()},children:e=>{return[(N=ce(),W=N.firstChild,Y=W.nextSibling,Z=Y.firstChild,xe=Z.nextSibling,i(W,n(r,{get when(){return(()=>{const e=u()?.oauth_identities;if(!e)return null;for(const t of e)if(t.avatar_url)return t.avatar_url;return null})()},get fallback(){return e=ge(),i(e,R),a(()=>s(e,H)),e;var e},children:t=>{return i=be(),a(n=>{var r=t(),a=e().name||"User",l=G;return r!==n.e&&d(i,"src",n.e=r),a!==n.t&&d(i,"alt",n.t=a),l!==n.a&&s(i,n.a=l),n},{e:void 0,t:void 0,a:void 0}),i;var i}})),i(Z,()=>e().name),i(xe,()=>e().email),i(Y,n(r,{get when(){return e().workspace_role},get children(){var t=ge();return i(t,()=>e().workspace_role),a(()=>s(t,K)),t}}),null),a(e=>{var t=M,i=F,n=Q,r=V,a=J;return t!==e.e&&s(N,e.e=t),i!==e.t&&s(W,e.t=i),n!==e.a&&s(Y,e.a=n),r!==e.o&&s(Z,e.o=r),a!==e.i&&s(xe,e.i=a),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),N),(B=_e(),D=B.firstChild,i(D,()=>o("profile.myOrganizations")),i(B,n(r,{get when(){return e().organizations?.length},get fallback(){return e=he(),i(e,()=>o("profile.noOrganizations")),a(()=>s(e,ue)),e;var e},get children(){var t=ve();return i(t,n(l,{get each(){return e().organizations},children:e=>{const t=e.organization_name||e.organization_id;return l=ye(),o=l.firstChild,u=o.firstChild,i(o,n(r,{get when(){return e.role===y||e.role===x},get fallback(){return e=ge(),i(e,t),a(()=>s(e,le)),e;var e},get children(){var n=fe();return n.$$click=t=>{t.preventDefault(),(e=>{window.history.pushState(null,"",h("org",e.organization_id,e.organization_name)),window.dispatchEvent(new PopStateEvent("popstate"))})(e)},i(n,t),a(t=>{var i=h("org",e.organization_id,e.organization_name),r=oe;return i!==t.e&&d(n,"href",t.e=i),r!==t.t&&s(n,t.t=r),t},{e:void 0,t:void 0}),n}}),u),i(u,()=>e.role),a(e=>{var t=ae,i=se,n=de;return t!==e.e&&s(l,e.e=t),i!==e.t&&s(o,e.t=i),n!==e.a&&s(u,e.a=n),e},{e:void 0,t:void 0,a:void 0}),l;var l,o,u}})),a(()=>s(t,re)),t}}),null),a(()=>s(B,X)),B),(t=me(),v=t.firstChild,g=v.nextSibling,m=g.firstChild,b=m.firstChild,C=b.nextSibling,k=C.firstChild,I=k.nextSibling,q=I.nextSibling,z=m.nextSibling,L=z.firstChild,P=L.nextSibling,E=P.firstChild,j=E.nextSibling,O=j.nextSibling,U=O.nextSibling,A=z.nextSibling,i(v,()=>o("settings.personalSettings")),g.addEventListener("submit",T),i(b,()=>o("settings.theme")),C.addEventListener("change",e=>_(e.target.value)),i(k,()=>o("settings.themeLight")),i(I,()=>o("settings.themeDark")),i(q,()=>o("settings.themeSystem")),i(L,()=>o("settings.language")),P.addEventListener("change",e=>f(e.target.value)),i(E,()=>o("settings.languageEn")),i(j,()=>o("settings.languageFr")),i(O,()=>o("settings.languageDe")),i(U,()=>o("settings.languageEs")),i(g,n(r,{get when(){return e().workspace_id},get children(){var e=pe(),t=e.firstChild,n=t.firstChild;return n.addEventListener("change",e=>S(e.currentTarget.checked)),i(t,()=>o("settings.enableNotifications"),null),a(i=>{var n=te,r=ie;return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),i},{e:void 0,t:void 0}),a(()=>n.checked=w()),e}}),A),i(A,()=>o("settings.saveChanges")),a(e=>{var i=X,n=ee,r=te,a=te,l=ne,o=$();return i!==e.e&&s(t,e.e=i),n!==e.t&&s(g,e.t=n),r!==e.a&&s(m,e.a=r),a!==e.o&&s(z,e.o=a),l!==e.i&&s(A,e.i=l),o!==e.n&&(A.disabled=e.n=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),a(()=>C.value=c()),a(()=>P.value=p()),t)];var t,v,g,m,b,C,k,I,q,z,L,P,E,j,O,U,A,B,D,N,W,Y,Z,xe}}),null),a(()=>s(L,W)),L;var L}g(["click"]);const we="_table_rjyw4_3",Se="_roleSelect_rjyw4_21";var $e=v("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),Ce=v("<select>"),ke=v("<tr><td></td><td></td><td>"),Ie=v("<option>");function qe(e){const{t:t}=m(),o=t=>("workspace_role"===e.roleField?t.workspace_role:t.org_role)||"";return d=$e(),u=d.firstChild,v=u.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,_=u.nextSibling,i(v,()=>t("settings.nameColumn")),i(g,()=>t("settings.emailColumn")),i(c,()=>t("settings.roleColumn")),i(_,n(l,{get each(){return e.members},children:t=>{return d=ke(),u=d.firstChild,v=u.nextSibling,g=v.nextSibling,i(u,()=>t.name),i(v,()=>t.email),i(g,n(r,{get when(){return t.id!==e.currentUserId},get fallback(){return o(t)},get children(){var r=Ce();return r.addEventListener("change",i=>e.onUpdateRole(t.id,i.target.value)),i(r,n(l,{get each(){return e.roleOptions},children:e=>{return t=Ie(),i(t,()=>e.label),a(()=>t.value=e.value),t;var t}})),a(t=>{var i=Se,n=e.loading;return i!==t.e&&s(r,t.e=i),n!==t.t&&(r.disabled=t.t=n),t},{e:void 0,t:void 0}),a(()=>r.value=o(t)),r}})),d;var d,u,v,g}})),a(()=>s(d,we)),d;var d,u,v,g,c,_}const ze="_inviteSection_toc48_3",Re="_inviteForm_toc48_7",Te="_formGroup_toc48_17",Le="_pendingSection_toc48_57",Pe="_table_toc48_65";var Ee=v("<div><h4></h4><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),je=v("<div><form><h4></h4><div><input type=email required><select></select><button type=submit>"),Oe=v("<option>"),Ue=v("<tr><td></td><td></td><td>");function Ae(t){const{t:o}=m(),[u,v]=e(""),[g,c]=e(t.defaultRole),_=async e=>{e.preventDefault(),u()&&(await t.onInvite(u(),g()),v(""))};return p=je(),b=p.firstChild,h=b.firstChild,f=h.nextSibling,y=f.firstChild,x=y.nextSibling,w=x.nextSibling,b.addEventListener("submit",_),i(h,()=>o("settings.inviteNewMember")),y.$$input=e=>v(e.target.value),x.addEventListener("change",e=>c(e.target.value)),i(x,n(l,{get each(){return t.roleOptions},children:e=>{return t=Oe(),i(t,()=>e.label),a(()=>t.value=e.value),t;var t}})),i(w,()=>o("common.invite")),i(p,n(r,{get when(){return t.pendingInvitations.length>0},get children(){var e=Ee(),r=e.firstChild,d=r.nextSibling,u=d.firstChild,v=u.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,_=u.nextSibling;return i(r,()=>o("settings.pendingInvitations")),i(v,()=>o("settings.emailColumn")),i(g,()=>o("settings.roleColumn")),i(c,()=>o("settings.sentColumn")),i(_,n(l,{get each(){return t.pendingInvitations},children:e=>{return t=Ue(),n=t.firstChild,r=n.nextSibling,a=r.nextSibling,i(n,()=>e.email),i(r,()=>e.role),i(a,()=>new Date(e.created).toLocaleDateString()),t;var t,n,r,a}})),a(t=>{var i=Le,n=Pe;return i!==t.e&&s(e,t.e=i),n!==t.t&&s(d,t.t=n),t},{e:void 0,t:void 0}),e}}),null),a(e=>{var i=ze,n=Re,r=Te,a=o("settings.emailPlaceholder")||"Email address",l=t.loading,u=t.loading,v=t.loading;return i!==e.e&&s(p,e.e=i),n!==e.t&&s(b,e.t=n),r!==e.a&&s(f,e.a=r),a!==e.o&&d(y,"placeholder",e.o=a),l!==e.i&&(y.disabled=e.i=l),u!==e.n&&(x.disabled=e.n=u),v!==e.s&&(w.disabled=e.s=v),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),a(()=>y.value=u()),a(()=>x.value=g()),p;var p,b,h,f,y,x,w}g(["input"]);const Be="_panel_196er_3",De="_tabs_196er_7",Ne="_activeTab_196er_29",We="_section_196er_34",Me="_error_196er_43",Fe="_success_196er_51",Ge="_settingsForm_196er_59",He="_formItem_196er_66",Qe="_formGrid_196er_87",Ve="_saveButton_196er_108",Je="_hint_196er_127",Ke="_table_196er_133",Xe="_actions_196er_151",Ye="_smallButton_196er_156",Ze="_deleteButtonSmall_196er_170",et="_addRemoteSection_196er_184",tt="_orgLink_196er_196",it="_linkButton_196er_210";var nt=v("<button>"),rt=v("<div>"),at=v("<section><h3>"),st=v("<form><div><label></label><input type=text required></div><h4></h4><div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div></div><button type=submit>"),lt=v("<section><h3></h3><div><p></p><button> →"),ot=v("<div><h4></h4><form><div><label></label><input type=url required></div><div><label></label><input type=password><p></p></div><button type=submit>"),dt=v("<section><h3></h3><p>"),ut=v("<div><div><button></button><button>"),vt=v("<p>"),gt=v("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td></td><td></td><td><button></button><button>");function ct(l){const{t:o}=m(),{user:u,orgApi:v,wsApi:g}=b(),[c,_]=e("settings"===l.section?"settings":"sync"===l.section?"sync":"members"),[p,h]=e([]),[y,x]=e([]),[w,S]=e(null),[$,C]=e(""),[k,I]=e(""),[q,z]=e(""),[R,T]=e(""),[L,P]=e(0),[E,j]=e(0),[O,U]=e(0),[A,B]=e(0),[D,N]=e(!1),[W,M]=e(null),[F,G]=e(null),H=()=>u()?.workspace_role===f,Q=e=>{_(e);const t="members"===e?"":`#${e}`,i=window.location.pathname;window.history.replaceState(null,"",i+t)},V=async()=>{const e=v();if(e)try{N(!0),M(null);const t=g();if("members"===c()&&H()){const[i,n]=await Promise.all([e.users.listUsers(),t?t.invitations.listWSInvitations():Promise.resolve({invitations:[]})]);h(i.users?.filter(e=>!!e)||[]),x(n.invitations?.filter(e=>!!e)||[])}if("settings"===c()&&t){const e=await t.workspaces.getWorkspace();z(e.name),T(e.name),P(e.quotas.max_pages),j(e.quotas.max_storage_bytes),U(e.quotas.max_records_per_table),B(e.quotas.max_asset_size_bytes)}if("sync"===c()&&H()&&t)try{const e=await t.settings.git.getGitRemote();S(e)}catch{S(null)}}catch(t){M(`${o("errors.failedToLoad")}: ${t}`)}finally{N(!1)}};t(()=>{V()}),t(()=>{const e=l.section;"settings"===e?_("settings"):"sync"===e?_("sync"):"members"!==e&&e||_("members")});const J=async(e,t)=>{const i=g();if(i)try{N(!0),await i.invitations.createWSInvitation({email:e,role:t}),G(o("success.invitationSent")||"Invitation sent successfully"),V()}catch(n){M(`${o("errors.failedToInvite")}: ${n}`)}finally{N(!1)}},K=async(e,t)=>{const i=g();if(i)try{N(!0),await i.users.updateWSMemberRole({user_id:e,role:t}),G(o("success.roleUpdated")||"Role updated"),V()}catch(n){M(`${o("errors.failedToUpdateRole")}: ${n}`)}finally{N(!1)}},X=async e=>{e.preventDefault();const t=g();if(t)try{N(!0),M(null),G(null),q()!==R()&&q().trim()&&(await t.workspaces.updateWorkspace({name:q().trim()}),T(q().trim())),await t.workspaces.updateWorkspace({quotas:{max_pages:L(),max_storage_bytes:E(),max_records_per_table:O(),max_asset_size_bytes:A()}}),G(o("success.workspaceSettingsSaved")||"Workspace settings saved successfully")}catch(i){M(`${o("errors.failedToSave")}: ${i}`)}finally{N(!1)}},Y=async e=>{e.preventDefault();const t=g();if(t)try{N(!0),M(null);const e=await t.settings.git.updateGitRemote({url:$(),token:k(),type:"custom",auth_type:k()?"token":"none"});S(e),G(o("success.remoteAdded")||"Git remote configured"),C(""),I("")}catch(i){M(`${o("errors.failedToAddRemote")}: ${i}`)}finally{N(!1)}},Z=async()=>{const e=g();if(e)try{N(!0),M(null),G(null),await e.settings.git.pushGit(),G(o("success.pushSuccessful")||"Push successful"),V()}catch(t){M(`${o("errors.pushFailed")}: ${t}`)}finally{N(!1)}},ee=async()=>{if(!confirm(o("settings.confirmRemoveRemote")||"Are you sure you want to remove this remote?"))return;const e=g();if(e)try{N(!0),M(null),await e.settings.git.deleteGitRemote(),S(null),G(o("success.remoteRemoved")||"Remote removed")}catch(t){M(`${o("errors.failedToRemoveRemote")}: ${t}`)}finally{N(!1)}},te=[{value:"admin",label:o("settings.roleAdmin")},{value:"editor",label:o("settings.roleEditor")},{value:"viewer",label:o("settings.roleViewer")}];return ie=ut(),ne=ie.firstChild,re=ne.firstChild,ae=re.nextSibling,re.$$click=()=>Q("members"),i(re,()=>o("settings.members")),ae.$$click=()=>Q("settings"),i(ae,()=>o("settings.workspace")),i(ne,n(r,{get when(){return H()},get children(){var e=nt();return e.$$click=()=>Q("sync"),i(e,()=>o("settings.gitSync")),a(()=>s(e,"sync"===c()?Ne:"")),e}}),null),i(ie,n(r,{get when(){return W()},get children(){var e=rt();return i(e,W),a(()=>s(e,Me)),e}}),null),i(ie,n(r,{get when(){return F()},get children(){var e=rt();return i(e,F),a(()=>s(e,Fe)),e}}),null),i(ie,n(r,{get when(){return"members"===c()},get children(){var e=at(),t=e.firstChild;return i(t,()=>o("settings.members")),i(e,n(r,{get when(){return H()},get fallback(){return e=vt(),i(e,()=>o("settings.adminOnlyMembers")),e;var e},get children(){return[n(qe,{get members(){return p()},get currentUserId(){return u()?.id||""},roleOptions:te,roleField:"workspace_role",onUpdateRole:K,get loading(){return D()}}),n(Ae,{roleOptions:te,defaultRole:"viewer",get pendingInvitations(){return y().map(e=>({email:e.email,role:e.role,created:e.created}))},onInvite:J,get loading(){return D()}})]}}),null),a(()=>s(e,We)),e}}),null),i(ie,n(r,{get when(){return"settings"===c()},get children(){var e=lt(),t=e.firstChild,d=t.nextSibling,v=d.firstChild,g=v.nextSibling,c=g.firstChild;return i(t,()=>o("settings.workspaceSettings")),i(e,n(r,{get when(){return H()},get fallback(){return e=vt(),i(e,()=>o("settings.adminOnlyWorkspace")),e;var e},get children(){var e=st(),t=e.firstChild,n=t.firstChild,r=n.nextSibling,l=t.nextSibling,d=l.nextSibling,u=d.firstChild,v=u.firstChild,g=v.nextSibling,c=u.nextSibling,_=c.firstChild,p=_.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,y=f.firstChild,x=y.nextSibling,w=d.nextSibling;return e.addEventListener("submit",X),i(n,()=>o("settings.workspaceName")),r.$$input=e=>z(e.target.value),i(l,()=>o("settings.workspaceQuotas")),i(v,()=>o("settings.maxPages")),g.$$input=e=>P(parseInt(e.target.value)||1),i(_,()=>o("settings.maxStorageBytes")),p.$$input=e=>j(parseInt(e.target.value)||1),i(b,()=>o("settings.maxRecordsPerTable")),h.$$input=e=>U(parseInt(e.target.value)||1),i(y,()=>o("settings.maxAssetSizeBytes")),x.$$input=e=>B(parseInt(e.target.value)||1),i(w,()=>o("settings.saveWorkspaceSettings")),a(i=>{var n=Ge,r=He,a=Qe,l=He,o=He,v=He,g=He,_=Ve,p=D();return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),a!==i.a&&s(d,i.a=a),l!==i.o&&s(u,i.o=l),o!==i.i&&s(c,i.i=o),v!==i.n&&s(m,i.n=v),g!==i.s&&s(f,i.s=g),_!==i.h&&s(w,i.h=_),p!==i.r&&(w.disabled=i.r=p),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),a(()=>r.value=q()),a(()=>g.value=L()),a(()=>p.value=E()),a(()=>h.value=O()),a(()=>x.value=A()),e}}),d),i(v,()=>o("settings.orgSettingsHint")),g.$$click=()=>{const e=u(),t=e?.organization_id,i=e?.organizations?.find(e=>e.organization_id===t),n=i?.organization_name||"";t&&l.onNavigateToOrgSettings(t,n)},i(g,()=>o("settings.openOrgSettings"),c),a(t=>{var i=We,n=tt,r=it;return i!==t.e&&s(e,t.e=i),n!==t.t&&s(d,t.t=n),r!==t.a&&s(g,t.a=r),t},{e:void 0,t:void 0,a:void 0}),e}}),null),i(ie,n(r,{get when(){return"sync"===c()},get children(){var e=dt(),t=e.firstChild,l=t.nextSibling;return i(t,()=>o("settings.gitSynchronization")),i(l,()=>o("settings.gitSyncHint")),i(e,n(r,{get when(){return w()},children:e=>{const t=e().last_sync;return n=gt(),r=n.firstChild,l=r.firstChild.firstChild,d=l.nextSibling,u=d.nextSibling,v=r.nextSibling.firstChild.firstChild,g=v.nextSibling,c=g.nextSibling,_=c.firstChild,p=_.nextSibling,i(l,()=>o("settings.urlColumn")),i(d,()=>o("settings.lastSyncColumn")),i(u,()=>o("common.actions")),i(v,()=>e().url),i(g,()=>t?new Date(t).toLocaleString():o("settings.never")),_.$$click=Z,i(_,()=>o("common.push")),p.$$click=ee,i(p,()=>o("common.remove")),a(e=>{var t=Ke,i=Xe,r=D(),a=Ye,l=D(),o=Ze;return t!==e.e&&s(n,e.e=t),i!==e.t&&s(c,e.t=i),r!==e.a&&(_.disabled=e.a=r),a!==e.o&&s(_,e.o=a),l!==e.i&&(p.disabled=e.i=l),o!==e.n&&s(p,e.n=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),n;var n,r,l,d,u,v,g,c,_,p}}),null),i(e,n(r,{get when(){return!w()},get children(){var e=ot(),t=e.firstChild,n=t.nextSibling,r=n.firstChild,l=r.firstChild,u=l.nextSibling,v=r.nextSibling,g=v.firstChild,c=g.nextSibling,_=c.nextSibling,p=v.nextSibling;return i(t,()=>o("settings.addNewRemote")),n.addEventListener("submit",Y),i(l,()=>o("settings.repositoryUrl")),u.$$input=e=>C(e.target.value),i(g,()=>o("settings.personalAccessToken")),c.$$input=e=>I(e.target.value),i(_,()=>o("settings.tokenHint")),i(p,()=>o("settings.addRemote")),a(t=>{var i=et,a=Ge,l=He,g=o("settings.repositoryUrlPlaceholder")||"https://github.com/user/repo.git",m=He,b=o("settings.tokenPlaceholder")||"ghp_...",h=Je,f=Ve,y=D();return i!==t.e&&s(e,t.e=i),a!==t.t&&s(n,t.t=a),l!==t.a&&s(r,t.a=l),g!==t.o&&d(u,"placeholder",t.o=g),m!==t.i&&s(v,t.i=m),b!==t.n&&d(c,"placeholder",t.n=b),h!==t.s&&s(_,t.s=h),f!==t.h&&s(p,t.h=f),y!==t.r&&(p.disabled=t.r=y),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),a(()=>u.value=$()),a(()=>c.value=k()),e}}),null),a(t=>{var i=We,n=Je;return i!==t.e&&s(e,t.e=i),n!==t.t&&s(l,t.t=n),t},{e:void 0,t:void 0}),e}}),null),a(e=>{var t=Be,i=De,n="members"===c()?Ne:"",r="settings"===c()?Ne:"";return t!==e.e&&s(ie,e.e=t),i!==e.t&&s(ne,e.t=i),n!==e.a&&s(re,e.a=n),r!==e.o&&s(ae,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),ie;var ie,ne,re,ae}g(["click","input"]);const _t="_panel_1lewj_3",pt="_tabs_1lewj_7",mt="_activeTab_1lewj_29",bt="_section_1lewj_34",ht="_error_1lewj_43",ft="_success_1lewj_51",yt="_settingsForm_1lewj_59",xt="_formItem_1lewj_66",wt="_formGrid_1lewj_85",St="_saveButton_1lewj_106";var $t=v("<div>"),Ct=v("<section><h3>"),kt=v("<form><div><label></label><input type=text required></div><h4></h4><div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=1></div></div><button type=submit>"),It=v("<div><div><button></button><button>"),qt=v("<p>");function zt(l){const{t:o}=m(),{user:d,api:u}=b(),[v,g]=e("settings"===l.section?"settings":"members"),[_,p]=e([]),[h,f]=e([]),[w,S]=e(""),[$,C]=e(""),[k,I]=e(0),[q,z]=e(0),[R,T]=e(0),[L,P]=e(0),[E,j]=e(!1),[O,U]=e(null),[A,B]=e(null),D=c(()=>u().org(l.orgId)),N=c(()=>{const e=d()?.organizations?.find(e=>e.organization_id===l.orgId);return e?.role}),W=c(()=>{const e=N();return e===x||e===y}),M=e=>{g(e);const t="members"===e?"":`#${e}`,i=window.location.pathname;window.history.replaceState(null,"",i+t)},F=async()=>{const e=D();try{if(j(!0),U(null),"members"===v()&&W()){const[t,i]=await Promise.all([e.users.listUsers(),e.invitations.listOrgInvitations()]);p(t.users?.filter(e=>!!e)||[]),f(i.invitations?.filter(e=>!!e)||[])}if("settings"===v()){const t=await e.organizations.getOrganization();S(t.name),C(t.name),I(t.quotas.max_workspaces),z(t.quotas.max_members_per_org),T(t.quotas.max_members_per_workspace),P(t.quotas.max_total_storage_bytes)}}catch(t){U(`${o("errors.failedToLoad")}: ${t}`)}finally{j(!1)}};t(()=>{F()}),t(()=>{const e=l.section;"settings"===e?g("settings"):"members"!==e&&e||g("members")});const G=async(e,t)=>{const i=D();try{j(!0),await i.invitations.createOrgInvitation({email:e,role:t}),B(o("success.invitationSent")||"Invitation sent successfully"),F()}catch(n){U(`${o("errors.failedToInvite")}: ${n}`)}finally{j(!1)}},H=async(e,t)=>{const i=D();try{j(!0),await i.users.updateOrgMemberRole({user_id:e,role:t}),B(o("success.roleUpdated")||"Role updated"),F()}catch(n){U(`${o("errors.failedToUpdateRole")}: ${n}`)}finally{j(!1)}},Q=async e=>{e.preventDefault();const t=D();try{j(!0),U(null),B(null),w()!==$()&&w().trim()&&(await t.organizations.updateOrganization({name:w().trim()}),C(w().trim())),await t.settings.updateOrgPreferences({quotas:{max_workspaces:k(),max_members_per_org:q(),max_members_per_workspace:R(),max_total_storage_bytes:L()}}),B(o("success.orgSettingsSaved")||"Organization settings saved")}catch(i){U(`${o("errors.failedToSave")}: ${i}`)}finally{j(!1)}},V=[{value:"owner",label:o("settings.roleOwner")},{value:"admin",label:o("settings.roleAdmin")},{value:"member",label:o("settings.roleMember")}],J=[{value:"admin",label:o("settings.roleAdmin")},{value:"member",label:o("settings.roleMember")}];return K=It(),X=K.firstChild,Y=X.firstChild,Z=Y.nextSibling,Y.$$click=()=>M("members"),i(Y,()=>o("settings.members")),Z.$$click=()=>M("settings"),i(Z,()=>o("settings.settings")),i(K,n(r,{get when(){return O()},get children(){var e=$t();return i(e,O),a(()=>s(e,ht)),e}}),null),i(K,n(r,{get when(){return A()},get children(){var e=$t();return i(e,A),a(()=>s(e,ft)),e}}),null),i(K,n(r,{get when(){return"members"===v()},get children(){var e=Ct(),t=e.firstChild;return i(t,()=>o("settings.organizationMembers")),i(e,n(r,{get when(){return W()},get fallback(){return e=qt(),i(e,()=>o("settings.adminOnlyMembers")),e;var e},get children(){return[n(qe,{get members(){return _()},get currentUserId(){return d()?.id||""},roleOptions:V,roleField:"org_role",onUpdateRole:H,get loading(){return E()}}),n(Ae,{roleOptions:J,defaultRole:"member",get pendingInvitations(){return h().map(e=>({email:e.email,role:e.role,created:e.created}))},onInvite:G,get loading(){return E()}})]}}),null),a(()=>s(e,bt)),e}}),null),i(K,n(r,{get when(){return"settings"===v()},get children(){var e=Ct(),t=e.firstChild;return i(t,()=>o("settings.organizationPreferences")),i(e,n(r,{get when(){return W()},get fallback(){return e=qt(),i(e,()=>o("settings.adminOnlySettings")),e;var e},get children(){var e=kt(),t=e.firstChild,n=t.firstChild,r=n.nextSibling,l=t.nextSibling,d=l.nextSibling,u=d.firstChild,v=u.firstChild,g=v.nextSibling,c=u.nextSibling,_=c.firstChild,p=_.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,y=f.firstChild,x=y.nextSibling,$=d.nextSibling;return e.addEventListener("submit",Q),i(n,()=>o("settings.organizationName")),r.$$input=e=>S(e.target.value),i(l,()=>o("settings.organizationQuotas")),i(v,()=>o("settings.maxWorkspaces")),g.$$input=e=>I(parseInt(e.target.value)||1),i(_,()=>o("settings.maxMembersPerOrg")),p.$$input=e=>z(parseInt(e.target.value)||1),i(b,()=>o("settings.maxMembersPerWorkspace")),h.$$input=e=>T(parseInt(e.target.value)||1),i(y,()=>o("settings.maxTotalStorageBytes")),x.$$input=e=>P(parseInt(e.target.value)||1),i($,()=>o("common.save")),a(i=>{var n=yt,r=xt,a=wt,l=xt,o=xt,v=xt,g=xt,_=St,p=E();return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),a!==i.a&&s(d,i.a=a),l!==i.o&&s(u,i.o=l),o!==i.i&&s(c,i.i=o),v!==i.n&&s(m,i.n=v),g!==i.s&&s(f,i.s=g),_!==i.h&&s($,i.h=_),p!==i.r&&($.disabled=i.r=p),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),a(()=>r.value=w()),a(()=>g.value=k()),a(()=>p.value=q()),a(()=>h.value=R()),a(()=>x.value=L()),e}}),null),a(()=>s(e,bt)),e}}),null),a(e=>{var t=_t,i=pt,n="members"===v()?mt:"",r="settings"===v()?mt:"";return t!==e.e&&s(K,e.e=t),i!==e.t&&s(X,e.t=i),n!==e.a&&s(Y,e.a=n),r!==e.o&&s(Z,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),K;var K,X,Y,Z}g(["click","input"]);const Rt="_panel_1jx6v_3",Tt="_tabs_1jx6v_12",Lt="_activeTab_1jx6v_34",Pt="_section_1jx6v_39",Et="_error_1jx6v_43",jt="_success_1jx6v_51",Ot="_statusBadge_1jx6v_59",Ut="_enabled_1jx6v_63",At="_disabled_1jx6v_73",Bt="_settingsForm_1jx6v_83",Dt="_formGrid_1jx6v_90",Nt="_formItem_1jx6v_97",Wt="_saveButton_1jx6v_127",Mt="_hint_1jx6v_146";var Ft=v("<div>"),Gt=v("<span>"),Ht=v("<section><div></div><form><div><label></label><input type=text placeholder=smtp.example.com></div><div><label></label><input type=number min=1 max=65535></div><div><label></label><input type=text placeholder=user@example.com></div><div><label></label><input type=password placeholder=••••••••><p></p></div><div><label></label><input type=email placeholder=noreply@example.com></div><button type=submit>"),Qt=v("<section><form><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=1></div><div><label></label><input type=number min=0></div></div><h3></h3><p></p><div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div><div><label></label><input type=number min=0></div></div><button type=submit>"),Vt=v("<div><h2></h2><div><button></button><button>");function Jt(){const{t:l}=m(),{api:o}=b(),[d,u]=e("smtp"),[v,g]=e(null),[c,_]=e(""),[p,h]=e(587),[f,y]=e(""),[x,w]=e(""),[S,$]=e(""),[C,k]=e(0),[I,q]=e(0),[z,R]=e(0),[T,L]=e(0),[P,E]=e(0),[j,O]=e(0),[U,A]=e(0),[B,D]=e(0),[N,W]=e(0),[M,F]=e(0),[G,H]=e(0),[Q,V]=e(0),[J,K]=e(0),[X,Y]=e(0),[Z,ee]=e(0),[te,ie]=e(!1),[ne,re]=e(null),[ae,se]=e(null),le=async()=>{try{ie(!0),re(null);const e=await o().server.getConfig();g(e),_(e.smtp.host||""),h(e.smtp.port||587),y(e.smtp.username||""),$(e.smtp.from||""),w(""),k(e.quotas.max_request_body_bytes),q(e.quotas.max_sessions_per_user),R(e.quotas.max_tables_per_workspace),L(e.quotas.max_columns_per_table),E(e.quotas.max_rows_per_table),O(e.quotas.max_organizations),A(e.quotas.max_workspaces),D(e.quotas.max_users),W(e.quotas.max_total_storage_bytes),F(e.quotas.max_asset_size_bytes),H(e.quotas.max_egress_bandwidth_bps),V(e.rate_limits.auth_rate_per_min),K(e.rate_limits.write_rate_per_min),Y(e.rate_limits.read_auth_rate_per_min),ee(e.rate_limits.read_unauth_rate_per_min)}catch(e){re(`${l("errors.failedToLoad")}: ${e}`)}finally{ie(!1)}};t(()=>{le()});const oe=async e=>{e.preventDefault();try{ie(!0),re(null),se(null),await o().server.updateConfig({smtp:{host:c(),port:p(),username:f(),password:x(),from:S()}}),se(l("server.configurationSaved")),await le()}catch(t){re(`${l("errors.failedToSave")}: ${t}`)}finally{ie(!1)}},de=async e=>{e.preventDefault();try{ie(!0),re(null),se(null),await o().server.updateConfig({quotas:{max_request_body_bytes:C(),max_sessions_per_user:I(),max_tables_per_workspace:z(),max_columns_per_table:T(),max_rows_per_table:P(),max_organizations:j(),max_workspaces:U(),max_users:B(),max_total_storage_bytes:N(),max_asset_size_bytes:M(),max_egress_bandwidth_bps:G()},rate_limits:{auth_rate_per_min:Q(),write_rate_per_min:J(),read_auth_rate_per_min:X(),read_unauth_rate_per_min:Z()}}),se(l("server.configurationSaved"))}catch(t){re(`${l("errors.failedToSave")}: ${t}`)}finally{ie(!1)}};return ue=Vt(),ve=ue.firstChild,ge=ve.nextSibling,ce=ge.firstChild,_e=ce.nextSibling,i(ve,()=>l("server.serverSettings")),ce.$$click=()=>u("smtp"),i(ce,()=>l("server.smtpConfiguration")),_e.$$click=()=>u("quotas"),i(_e,()=>l("server.quotas")),i(ue,n(r,{get when(){return ne()},get children(){var e=Ft();return i(e,ne),a(()=>s(e,Et)),e}}),null),i(ue,n(r,{get when(){return ae()},get children(){var e=Ft();return i(e,ae),a(()=>s(e,jt)),e}}),null),i(ue,n(r,{get when(){return"smtp"===d()},get children(){var e=Ht(),t=e.firstChild,o=t.nextSibling,d=o.firstChild,u=d.firstChild,g=u.nextSibling,m=d.nextSibling,b=m.firstChild,C=b.nextSibling,k=m.nextSibling,I=k.firstChild,q=I.nextSibling,z=k.nextSibling,R=z.firstChild,T=R.nextSibling,L=T.nextSibling,P=z.nextSibling,E=P.firstChild,j=E.nextSibling,O=P.nextSibling;return i(t,n(r,{get when(){return v()?.smtp.host},get fallback(){return e=Gt(),i(e,()=>l("server.smtpDisabled")),a(()=>s(e,At)),e;var e},get children(){var e=Gt();return i(e,()=>l("server.smtpEnabled")),a(()=>s(e,Ut)),e}})),o.addEventListener("submit",oe),i(u,()=>l("server.smtpHost")),g.$$input=e=>_(e.target.value),i(b,()=>l("server.smtpPort")),C.$$input=e=>h(parseInt(e.target.value)||587),i(I,()=>l("server.smtpUsername")),q.$$input=e=>y(e.target.value),i(R,()=>l("server.smtpPassword")),T.$$input=e=>w(e.target.value),i(L,()=>l("server.smtpPasswordHint")),i(E,()=>l("server.smtpFrom")),j.$$input=e=>$(e.target.value),i(O,()=>l("server.saveConfiguration")),a(i=>{var n=Pt,r=Ot,a=Bt,l=Nt,u=Nt,v=Nt,g=Nt,c=Mt,_=Nt,p=Wt,b=te();return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),a!==i.a&&s(o,i.a=a),l!==i.o&&s(d,i.o=l),u!==i.i&&s(m,i.i=u),v!==i.n&&s(k,i.n=v),g!==i.s&&s(z,i.s=g),c!==i.h&&s(L,i.h=c),_!==i.r&&s(P,i.r=_),p!==i.d&&s(O,i.d=p),b!==i.l&&(O.disabled=i.l=b),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),a(()=>g.value=c()),a(()=>C.value=p()),a(()=>q.value=f()),a(()=>T.value=x()),a(()=>j.value=S()),e}}),null),i(ue,n(r,{get when(){return"quotas"===d()},get children(){var e=Qt(),t=e.firstChild,n=t.firstChild,r=n.firstChild,o=r.firstChild,d=o.nextSibling,u=r.nextSibling,v=u.firstChild,g=v.nextSibling,c=u.nextSibling,_=c.firstChild,p=_.nextSibling,m=c.nextSibling,b=m.firstChild,h=b.nextSibling,f=m.nextSibling,y=f.firstChild,x=y.nextSibling,w=f.nextSibling,S=w.firstChild,$=S.nextSibling,ie=w.nextSibling,ne=ie.firstChild,re=ne.nextSibling,ae=ie.nextSibling,se=ae.firstChild,le=se.nextSibling,oe=ae.nextSibling,ue=oe.firstChild,ve=ue.nextSibling,ge=oe.nextSibling,ce=ge.firstChild,_e=ce.nextSibling,pe=ge.nextSibling,me=pe.firstChild,be=me.nextSibling,he=n.nextSibling,fe=he.nextSibling,ye=fe.nextSibling,xe=ye.firstChild,we=xe.firstChild,Se=we.nextSibling,$e=xe.nextSibling,Ce=$e.firstChild,ke=Ce.nextSibling,Ie=$e.nextSibling,qe=Ie.firstChild,ze=qe.nextSibling,Re=Ie.nextSibling,Te=Re.firstChild,Le=Te.nextSibling,Pe=ye.nextSibling;return t.addEventListener("submit",de),i(o,()=>l("server.maxRequestBodyBytes")),d.$$input=e=>k(parseInt(e.target.value)||0),i(v,()=>l("server.maxSessionsPerUser")),g.$$input=e=>q(parseInt(e.target.value)||0),i(_,()=>l("server.maxTablesPerWorkspace")),p.$$input=e=>R(parseInt(e.target.value)||0),i(b,()=>l("server.maxColumnsPerTable")),h.$$input=e=>L(parseInt(e.target.value)||0),i(y,()=>l("server.maxRowsPerTable")),x.$$input=e=>E(parseInt(e.target.value)||0),i(S,()=>l("server.maxOrganizations")),$.$$input=e=>O(parseInt(e.target.value)||0),i(ne,()=>l("server.maxWorkspaces")),re.$$input=e=>A(parseInt(e.target.value)||0),i(se,()=>l("server.maxUsers")),le.$$input=e=>D(parseInt(e.target.value)||0),i(ue,()=>l("server.maxTotalStorageBytes")),ve.$$input=e=>W(parseInt(e.target.value)||0),i(ce,()=>l("server.maxAssetSizeBytes")),_e.$$input=e=>F(parseInt(e.target.value)||0),i(me,()=>l("server.maxEgressBandwidthBps")),be.$$input=e=>H(parseInt(e.target.value)||0),i(he,()=>l("server.rateLimits")),i(fe,()=>l("server.rateLimitsHint")),i(we,()=>l("server.authRatePerMin")),Se.$$input=e=>V(parseInt(e.target.value)||0),i(Ce,()=>l("server.writeRatePerMin")),ke.$$input=e=>K(parseInt(e.target.value)||0),i(qe,()=>l("server.readAuthRatePerMin")),ze.$$input=e=>Y(parseInt(e.target.value)||0),i(Te,()=>l("server.readUnauthRatePerMin")),Le.$$input=e=>ee(parseInt(e.target.value)||0),i(Pe,()=>l("server.saveConfiguration")),a(i=>{var a=Pt,l=Bt,o=Dt,d=Nt,v=Nt,g=Nt,_=Nt,p=Nt,b=Nt,h=Nt,y=Nt,x=Nt,S=Nt,$=Nt,C=Mt,k=Dt,I=Nt,q=Nt,z=Nt,R=Nt,T=Wt,L=te();return a!==i.e&&s(e,i.e=a),l!==i.t&&s(t,i.t=l),o!==i.a&&s(n,i.a=o),d!==i.o&&s(r,i.o=d),v!==i.i&&s(u,i.i=v),g!==i.n&&s(c,i.n=g),_!==i.s&&s(m,i.s=_),p!==i.h&&s(f,i.h=p),b!==i.r&&s(w,i.r=b),h!==i.d&&s(ie,i.d=h),y!==i.l&&s(ae,i.l=y),x!==i.u&&s(oe,i.u=x),S!==i.c&&s(ge,i.c=S),$!==i.w&&s(pe,i.w=$),C!==i.m&&s(fe,i.m=C),k!==i.f&&s(ye,i.f=k),I!==i.y&&s(xe,i.y=I),q!==i.g&&s($e,i.g=q),z!==i.p&&s(Ie,i.p=z),R!==i.b&&s(Re,i.b=R),T!==i.T&&s(Pe,i.T=T),L!==i.A&&(Pe.disabled=i.A=L),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0,A:void 0}),a(()=>d.value=C()),a(()=>g.value=I()),a(()=>p.value=z()),a(()=>h.value=T()),a(()=>x.value=P()),a(()=>$.value=j()),a(()=>re.value=U()),a(()=>le.value=B()),a(()=>ve.value=N()),a(()=>_e.value=M()),a(()=>be.value=G()),a(()=>Se.value=Q()),a(()=>ke.value=J()),a(()=>ze.value=X()),a(()=>Le.value=Z()),e}}),null),a(e=>{var t=Rt,i=Tt,n="smtp"===d()?Lt:"",r="quotas"===d()?Lt:"";return t!==e.e&&s(ue,e.e=t),i!==e.t&&s(ge,e.t=i),n!==e.a&&s(ce,e.a=n),r!==e.o&&s(_e,e.o=r),e},{e:void 0,t:void 0,a:void 0,o:void 0}),ue;var ue,ve,ge,ce,_e}g(["click","input"]);const Kt="_settingsPage_1eedq_3",Xt="_header_1eedq_10",Yt="_headerLeft_1eedq_21",Zt="_hamburger_1eedq_27",ei="_backButton_1eedq_37",ti="_title_1eedq_53",ii="_layout_1eedq_64",ni="_content_1eedq_70",ri="_error_1eedq_81",ai="_mobileBackdrop_1eedq_88";var si=v("<div>"),li=v('<div><header><div><button aria-label="Toggle settings menu">☰</button><button>← </button><h1></h1></div></header><div><main>');function oi(l){const{t:d}=m(),{user:u}=b(),[v,g]=e(!1),c=e=>{"Escape"===e.key&&v()&&g(!1)};_(()=>{window.addEventListener("keydown",c),p(()=>window.removeEventListener("keydown",c))}),t(()=>{"redirect"===l.route.type&&l.route.id&&(window.history.replaceState(null,"",l.route.id),window.dispatchEvent(new PopStateEvent("popstate")))});const f=e=>{g(!1),window.history.pushState(null,"",e),window.dispatchEvent(new PopStateEvent("popstate"))},y=()=>{window.history.back()},x=()=>{const e=u()?.workspace_id,t=u()?.workspace_name;e&&(l.onClose(),window.history.pushState(null,"",w(e,t)),window.dispatchEvent(new PopStateEvent("popstate")))};return(()=>{var e=li(),t=e.firstChild,c=t.firstChild,_=c.firstChild,p=_.nextSibling;p.firstChild;var m=p.nextSibling,b=t.nextSibling,w=b.firstChild;return _.$$click=()=>g(!v()),p.$$click=y,i(p,()=>d("common.back"),null),m.$$click=x,i(m,()=>d("settings.title")),i(b,n(r,{get when(){return v()},get children(){var e=si();return e.$$click=()=>g(!1),a(()=>s(e,ai)),e}}),w),i(b,n(N,{get isOpen(){return v()},get currentRoute(){return l.route},onNavigate:f}),w),i(w,n(r,{get when(){return"profile"===l.route.type},get children(){return n(xe,{})}}),null),i(w,n(r,{get when(){return o(()=>!("workspace"!==l.route.type||!l.route.id))()?l.route.id:null},children:e=>n(r,{get when(){return(e=>{const t=u()?.workspaces?.find(t=>t.workspace_id===e);return t?{id:e,name:t.workspace_name||e}:null})(e())},get fallback(){return e=si(),i(e,()=>d("errors.failedToLoad")),a(()=>s(e,ri)),e;var e},get children(){return n(ct,{get wsId(){return e()},get section(){return l.route.section},onNavigateToOrgSettings:(e,t)=>{f(h("org",e,t))}})}})}),null),i(w,n(r,{get when(){return o(()=>!("org"!==l.route.type||!l.route.id))()?l.route.id:null},children:e=>n(r,{get when(){return(e=>{const t=u()?.organizations?.find(t=>t.organization_id===e);return t?{id:e,name:t.organization_name||e}:null})(e())},get fallback(){return e=si(),i(e,()=>d("errors.failedToLoad")),a(()=>s(e,ri)),e;var e},get children(){return n(zt,{get orgId(){return e()},get section(){return l.route.section}})}})}),null),i(w,n(r,{get when(){return"server"===l.route.type},get children(){return n(Jt,{})}}),null),a(i=>{var n=Kt,r=Xt,a=Yt,l=Zt,o=ei,d=ti,u=ii,v=ni;return n!==i.e&&s(e,i.e=n),r!==i.t&&s(t,i.t=r),a!==i.a&&s(c,i.a=a),l!==i.o&&s(_,i.o=l),o!==i.i&&s(p,i.i=o),d!==i.n&&s(m,i.n=d),u!==i.s&&s(b,i.s=u),v!==i.h&&s(w,i.h=v),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),e})()}g(["click"]);export{Ae as InviteForm,qe as MembersTable,zt as OrgSettingsPanel,xe as ProfileSettings,oi as Settings,O as SettingsNavItem,N as SettingsSidebar,ct as WorkspaceSettingsPanel};
