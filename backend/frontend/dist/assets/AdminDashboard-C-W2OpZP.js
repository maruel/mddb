import{c as i,h as t,v as e,d as r,w as d,x as n,S as o,F as v,y as s,s as a}from"./vendor-BFNoaq9W.js";import{u as l,d as u}from"./index-D5tXwI8s.js";import"./editor-vendor-BEwVq1OK.js";const _="_dashboard_tw6tj_3",h="_summaryCards_tw6tj_10",c="_card_tw6tj_16",g="_cardValue_tw6tj_24",b="_cardLabel_tw6tj_31",f="_refreshRow_tw6tj_38",S="_refreshButton_tw6tj_43",m="_orgTable_tw6tj_64",x="_orgHeader_tw6tj_92",w="_wsRow_tw6tj_97",C="_numCell_tw6tj_101",p="_metricsSection_tw6tj_107",j="_metricsGrid_tw6tj_113",$="_metric_tw6tj_107",M="_metricLabel_tw6tj_126",q="_metricValue_tw6tj_132",y="_metricRate_tw6tj_137",L="_error_tw6tj_143";var k=s("<div>"),B=s("<div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div></div></div><div><div></div><div>"),R=s("<div><button>"),T=s("<table><thead><tr><th> / </th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>"),P=s("<div><h3></h3><div><div><div></div><div></div></div><div><div></div><div></div><div> </div></div><div><div></div><div></div><div> </div></div><div><div></div><div></div><div> </div></div><div><div></div><div></div><div> "),z=s("<tr><td></td><td></td><td> ws</td><td></td><td></td><td>"),D=s("<tr><td></td><td></td><td></td><td></td><td></td><td>");function F(i){if(0===i)return"0 B";const t=Math.floor(Math.log(i)/Math.log(1024));return`${(i/Math.pow(1024,t)).toFixed(t>0?1:0)} ${["B","KB","MB","GB","TB"][t]}`}function U(i){return new Date(1e3*i).toLocaleDateString()}function G(i,t){return t<=0?"0":(i/t*60).toFixed(1)}function N(){const{t:s}=l(),{api:a}=u(),[N,V]=i(null),[A,H]=i(!1),[K,O]=i(null),W=async()=>{try{H(!0),O(null);const i=await a().admin.getServerDetail();V(i)}catch(i){O(`${s("errors.failedToLoad")}: ${i}`)}finally{H(!1)}};return t(()=>{W()}),E=k(),e(E,r(o,{get when(){return K()},get children(){var i=k();return e(i,K),d(()=>n(i,L)),i}}),null),e(E,r(o,{get when(){return N()},children:i=>{const t=()=>i().request_metrics;return[(mi=B(),xi=mi.firstChild,wi=xi.firstChild,Ci=wi.nextSibling,pi=xi.nextSibling,ji=pi.firstChild,$i=ji.nextSibling,Mi=pi.nextSibling,qi=Mi.firstChild,yi=qi.nextSibling,Li=Mi.nextSibling,ki=Li.firstChild,Bi=ki.nextSibling,Ri=Li.nextSibling,Ti=Ri.firstChild,Pi=Ti.nextSibling,e(wi,()=>i().user_count),e(Ci,()=>s("server.totalUsers")),e(ji,()=>i().org_count),e($i,()=>s("server.totalOrganizations")),e(qi,()=>i().workspace_count),e(yi,()=>s("server.totalWorkspaces")),e(ki,()=>F(i().total_storage)),e(Bi,()=>s("server.totalStorage")),e(Ti,()=>i().active_sessions),e(Pi,()=>s("server.activeSessions")),d(i=>{var t=h,e=c,r=g,d=b,o=c,v=g,s=b,a=c,l=g,u=b,_=c,f=g,S=b,m=c,x=g,w=b;return t!==i.e&&n(mi,i.e=t),e!==i.t&&n(xi,i.t=e),r!==i.a&&n(wi,i.a=r),d!==i.o&&n(Ci,i.o=d),o!==i.i&&n(pi,i.i=o),v!==i.n&&n(ji,i.n=v),s!==i.s&&n($i,i.s=s),a!==i.h&&n(Mi,i.h=a),l!==i.r&&n(qi,i.r=l),u!==i.d&&n(yi,i.d=u),_!==i.l&&n(Li,i.l=_),f!==i.u&&n(ki,i.u=f),S!==i.c&&n(Bi,i.c=S),m!==i.w&&n(Ri,i.w=m),x!==i.m&&n(Ti,i.m=x),w!==i.f&&n(Pi,i.f=w),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0}),mi),(fi=R(),Si=fi.firstChild,Si.$$click=W,e(Si,()=>s("server.refresh")),d(i=>{var t=f,e=S,r=A();return t!==i.e&&n(fi,i.e=t),e!==i.t&&n(Si,i.t=e),r!==i.a&&(Si.disabled=i.a=r),i},{e:void 0,t:void 0,a:void 0}),fi),(vi=T(),si=vi.firstChild,ai=si.firstChild.firstChild,li=ai.firstChild,ui=ai.nextSibling,_i=ui.nextSibling,hi=_i.nextSibling,ci=hi.nextSibling,gi=ci.nextSibling,bi=si.nextSibling,e(ai,()=>s("server.organizationName"),li),e(ai,()=>s("server.workspaceName"),null),e(ui,()=>s("server.members")),e(_i,()=>s("server.pages")),e(hi,()=>s("server.storage")),e(ci,()=>s("server.gitCommits")),e(gi,()=>s("server.created")),e(bi,r(v,{get each(){return i().organizations},children:i=>{return[(t=z(),o=t.firstChild,s=o.nextSibling,a=s.nextSibling,l=a.firstChild,u=a.nextSibling.nextSibling.nextSibling,e(o,()=>i.name),e(s,()=>i.member_count),e(a,()=>i.workspace_count,l),e(u,()=>U(i.created)),d(i=>{var e=x,r=C,d=C;return e!==i.e&&n(t,i.e=e),r!==i.t&&n(s,i.t=r),d!==i.a&&n(a,i.a=d),i},{e:void 0,t:void 0,a:void 0}),t),r(v,{get each(){return i.workspaces},children:i=>{return t=D(),r=t.firstChild,o=r.nextSibling,v=o.nextSibling,s=v.nextSibling,a=s.nextSibling,l=a.nextSibling,e(r,()=>i.name),e(o,()=>i.member_count),e(v,()=>i.page_count),e(s,()=>F(i.storage_bytes)),e(a,()=>i.git_commits),e(l,()=>U(i.created)),d(i=>{var e=w,r=C,d=C,l=C,u=C;return e!==i.e&&n(t,i.e=e),r!==i.t&&n(o,i.t=r),d!==i.a&&n(v,i.a=d),l!==i.o&&n(s,i.o=l),u!==i.i&&n(a,i.i=u),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t;var t,r,o,v,s,a,l}})];var t,o,s,a,l,u}})),d(i=>{var t=m,e=C,r=C,d=C,o=C;return t!==i.e&&n(vi,i.e=t),e!==i.t&&n(ui,i.t=e),r!==i.a&&n(_i,i.a=r),d!==i.o&&n(hi,i.o=d),o!==i.i&&n(ci,i.i=o),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),vi),(o=P(),a=o.firstChild,l=a.nextSibling,u=l.firstChild,_=u.firstChild,L=_.nextSibling,k=u.nextSibling,N=k.firstChild,V=N.nextSibling,H=V.nextSibling,K=H.firstChild,O=k.nextSibling,E=O.firstChild,I=E.nextSibling,J=I.nextSibling,Q=J.firstChild,X=O.nextSibling,Y=X.firstChild,Z=Y.nextSibling,ii=Z.nextSibling,ti=ii.firstChild,ei=X.nextSibling,ri=ei.firstChild,di=ri.nextSibling,ni=di.nextSibling,oi=ni.firstChild,e(a,()=>s("server.requestMetrics")),e(_,()=>s("server.serverUptime")),e(L,()=>function(i){const t=Math.floor(i/86400),e=Math.floor(i%86400/3600),r=Math.floor(i%3600/60),d=Math.floor(i%60);return t>0?`${t}d ${e}h ${r}m ${d}s`:e>0?`${e}h ${r}m ${d}s`:`${r}m ${d}s`}(t().uptime_seconds)),e(N,()=>s("server.authRequests")),e(V,()=>t().auth_count.toLocaleString()),e(H,()=>G(t().auth_count,t().uptime_seconds),K),e(H,()=>s("server.reqPerMin"),null),e(E,()=>s("server.writeRequests")),e(I,()=>t().write_count.toLocaleString()),e(J,()=>G(t().write_count,t().uptime_seconds),Q),e(J,()=>s("server.reqPerMin"),null),e(Y,()=>s("server.readAuthRequests")),e(Z,()=>t().read_auth_count.toLocaleString()),e(ii,()=>G(t().read_auth_count,t().uptime_seconds),ti),e(ii,()=>s("server.reqPerMin"),null),e(ri,()=>s("server.readUnauthRequests")),e(di,()=>t().read_unauth_count.toLocaleString()),e(ni,()=>G(t().read_unauth_count,t().uptime_seconds),oi),e(ni,()=>s("server.reqPerMin"),null),d(i=>{var t=p,e=j,r=$,d=M,v=q,s=$,a=M,h=q,c=y,g=$,b=M,f=q,S=y,m=$,x=M,w=q,C=y,B=$,R=M,T=q,P=y;return t!==i.e&&n(o,i.e=t),e!==i.t&&n(l,i.t=e),r!==i.a&&n(u,i.a=r),d!==i.o&&n(_,i.o=d),v!==i.i&&n(L,i.i=v),s!==i.n&&n(k,i.n=s),a!==i.s&&n(N,i.s=a),h!==i.h&&n(V,i.h=h),c!==i.r&&n(H,i.r=c),g!==i.d&&n(O,i.d=g),b!==i.l&&n(E,i.l=b),f!==i.u&&n(I,i.u=f),S!==i.c&&n(J,i.c=S),m!==i.w&&n(X,i.w=m),x!==i.m&&n(Y,i.m=x),w!==i.f&&n(Z,i.f=w),C!==i.y&&n(ii,i.y=C),B!==i.g&&n(ei,i.g=B),R!==i.p&&n(ri,i.p=R),T!==i.b&&n(di,i.b=T),P!==i.T&&n(ni,i.T=P),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0,f:void 0,y:void 0,g:void 0,p:void 0,b:void 0,T:void 0}),o)];var o,a,l,u,_,L,k,N,V,H,K,O,E,I,J,Q,X,Y,Z,ii,ti,ei,ri,di,ni,oi,vi,si,ai,li,ui,_i,hi,ci,gi,bi,fi,Si,mi,xi,wi,Ci,pi,ji,$i,Mi,qi,yi,Li,ki,Bi,Ri,Ti,Pi}}),null),d(()=>n(E,_)),E;var E}a(["click"]);export{N as default};
//# sourceMappingURL=AdminDashboard-C-W2OpZP.js.map
