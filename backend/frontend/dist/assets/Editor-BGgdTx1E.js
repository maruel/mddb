import{c as t,y as e,o,C as i,e as s,S as r,x as n,j as a,F as c,l,m as d,p as u,s as h,v as p,h as f,w as k,J as v,d as g}from"./vendor-XI6dBZnE.js";import{M as w,E as m,k as b,h as _,d as y,g as $,a as S,S as x,b as M,w as L,t as C,i as B,P as q,D as j,c as T,e as E,s as A,f as P,j as I,l as H,I as K,u as O,r as D,m as W,n as N,o as z,p as G,q as V,v as U,x as R,y as F,z as X,A as J,B as Q,C as Y}from"./editor-vendor-C907dqzP.js";import{u as Z,a as tt}from"./index-Cz75W2yR.js";const et=A.spec.nodes.get("list_item");if(!et)throw new Error("list_item node not found in schema");const ot=new x({nodes:A.spec.nodes.update("list_item",{...et,attrs:{checked:{default:null}},toDOM:t=>null!==t.attrs.checked?["li",{class:"task-list-item","data-checked":String(t.attrs.checked)},0]:["li",0],parseDOM:[{tag:"li",getAttrs:t=>t.classList.contains("task-list-item")?{checked:"true"===t.dataset.checked}:{checked:null}}]}),marks:A.spec.marks});function it(t){const e=ot.nodes[t];if(!e)throw new Error(`Node type '${t}' not found in schema`);return e}function st(t){const e=ot.marks[t];if(!e)throw new Error(`Mark type '${t}' not found in schema`);return e}const rt={list_item:it("list_item"),bullet_list:it("bullet_list"),ordered_list:it("ordered_list"),paragraph:it("paragraph"),blockquote:it("blockquote"),code_block:it("code_block"),heading:it("heading")},nt={strong:st("strong"),em:st("em"),code:st("code")},at=new M;at.core.ruler.after("inline","task_list",t=>{const e=t.tokens;for(let o=0;o<e.length;o++){const t=e[o];if(t&&"list_item_open"===t.type){const i=e[o+2];if(i&&"inline"===i.type&&i.children){const e=i.children[0];if(e&&"text"===e.type&&e.content){const o=e.content.match(/^\[([ xX])\]\s*/);o&&o[1]&&(t.attrSet("checked","x"===o[1].toLowerCase()?"true":"false"),e.content=e.content.slice(o[0].length))}}}}return!0});const ct=new w(ot,at,{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item",getAttrs:t=>{const e=t.attrGet("checked");return"true"===e?{checked:!0}:"false"===e?{checked:!1}:{checked:null}}},bullet_list:{block:"bullet_list"},ordered_list:{block:"ordered_list",getAttrs:t=>({order:+(t.attrGet("start")||1)})},heading:{block:"heading",getAttrs:t=>({level:+t.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:t=>({params:t.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children?.[0]?.content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:t=>({href:t.attrGet("href"),title:t.attrGet("title")||null})},code_inline:{mark:"code"},table:{block:"paragraph",noCloseToken:!1},thead:{ignore:!0},tbody:{ignore:!0},tr:{ignore:!0},th:{block:"paragraph"},td:{block:"paragraph"}}),lt=new S({...E.nodes,bullet_list(t,e){t.renderList(e,"  ",()=>"- ")},list_item(t,e){if(null!==e.attrs.checked){const o=e.attrs.checked?"[x] ":"[ ] ";t.write(o)}t.renderContent(e)}},E.marks);function dt(){const t=P.concat(I,H);t.push(new K(/^\s*-\s+\[([ xX])\]\s$/,(t,e,o,i)=>{const s=t.doc.resolve(o),r="x"===e[1]?.toLowerCase();for(let c=s.depth;c>0;c--)if(s.node(c).type===rt.list_item){const e=t.tr.delete(o,i);return e.setNodeMarkup(s.before(c),void 0,{checked:r}),e}const n=rt.list_item.create({checked:r},rt.paragraph.create()),a=rt.bullet_list.create(null,n);return t.tr.replaceWith(o,i,a)})),t.push(L(/^\s*>\s$/,rt.blockquote)),t.push(L(/^\s*([-*])\s$/,rt.bullet_list)),t.push(L(/^(\d+)\.\s$/,rt.ordered_list,t=>({order:+(t[1]??1)}),(t,e)=>e.childCount+e.attrs.order===+(t[1]??1))),t.push(C(/^```$/,rt.code_block));for(let e=1;e<=6;e++){const o=new RegExp(`^(#{${e}})\\s$`);t.push(C(o,rt.heading,{level:e}))}return B({rules:t})}function ut(){const t={};return t["Mod-z"]=O,t["Mod-y"]=D,t["Mod-Shift-z"]=D,t["Mod-b"]=W(nt.strong),t["Mod-i"]=W(nt.em),t["Mod-`"]=W(nt.code),t.Enter=(t,e)=>{const{$from:o}=t.selection;for(let i=o.depth;i>0;i--){const s=o.node(i);if(s.type===rt.list_item&&null!==s.attrs.checked){if(e){return N(rt.list_item)(t,t=>{const o=t.selection.$from;for(let e=o.depth;e>0;e--){if(o.node(e).type===rt.list_item){t.setNodeMarkup(o.before(e),void 0,{checked:!1});break}}e(t)})}return N(rt.list_item)(t)}}return N(rt.list_item)(t,e)},t.Tab=z(rt.list_item),t["Shift-Tab"]=G(rt.list_item),b(t)}function ht(t,e){return m.create({doc:t,plugins:[dt(),ut(),b(V),_(),y({color:"var(--c-primary)",width:2}),$(),new q({props:{decorations(t){const e=[];return t.doc.descendants((t,o)=>{if(t.type===rt.list_item&&null!==t.attrs.checked){const i=document.createElement("input");i.type="checkbox",i.checked=t.attrs.checked,i.className="task-checkbox",i.addEventListener("mousedown",e=>{e.preventDefault();const i=e.target.closest(".ProseMirror");if(!i)return;const s=i.pmView;if(!s)return;const r=s.state.tr.setNodeMarkup(o,void 0,{checked:!t.attrs.checked});s.dispatch(r)}),e.push(j.widget(o+1,i,{side:-1}))}}),T.create(t.doc,e)}}}),...e||[]]})}const pt=new U("slashMenu"),ft={active:!1,query:"",triggerPos:0,position:{top:0,left:0}};function kt(t){t.dispatch(t.state.tr.setMeta(pt,{close:!0}))}function vt(t,e,o,i){const s=t.state.tr.delete(e,o);t.dispatch(s),i(t)}function gt(t,e,o){const{state:i}=t,{$from:s}=i.selection;for(let u=s.depth;u>0;u--){const e=s.node(u);if(e.type===rt.bullet_list||e.type===rt.ordered_list)return void J(i,t.dispatch)}const r=s.before(s.depth),n=rt.paragraph.create(),a=rt.list_item.create(o||null,n),c=e.create(null,a),l=t.state.tr.replaceWith(r,s.after(s.depth),c),d=r+3;l.setSelection(R.near(l.doc.resolve(d))),t.dispatch(l)}const wt=[{id:"paragraph",labelKey:"paragraph",keywords:["paragraph","text","plain"],icon:"T",execute:(t,e,o)=>{vt(t,e,o,t=>{F(rt.paragraph)(t.state,t.dispatch)})}},{id:"heading1",labelKey:"heading1",keywords:["heading","h1","title","header"],icon:"H1",execute:(t,e,o)=>{vt(t,e,o,t=>{F(rt.heading,{level:1})(t.state,t.dispatch)})}},{id:"heading2",labelKey:"heading2",keywords:["heading","h2","subtitle","header"],icon:"H2",execute:(t,e,o)=>{vt(t,e,o,t=>{F(rt.heading,{level:2})(t.state,t.dispatch)})}},{id:"heading3",labelKey:"heading3",keywords:["heading","h3","header"],icon:"H3",execute:(t,e,o)=>{vt(t,e,o,t=>{F(rt.heading,{level:3})(t.state,t.dispatch)})}},{id:"bulletList",labelKey:"bulletList",keywords:["bullet","list","unordered","ul"],icon:"•",execute:(t,e,o)=>{vt(t,e,o,t=>{gt(t,rt.bullet_list)})}},{id:"orderedList",labelKey:"orderedList",keywords:["ordered","list","numbered","ol"],icon:"1.",execute:(t,e,o)=>{vt(t,e,o,t=>{gt(t,rt.ordered_list)})}},{id:"taskList",labelKey:"taskList",keywords:["task","checkbox","todo","checklist","check"],icon:"☐",execute:(t,e,o)=>{vt(t,e,o,t=>{gt(t,rt.bullet_list,{checked:!1})})}},{id:"blockquote",labelKey:"blockquote",keywords:["quote","blockquote","citation"],icon:'"',execute:(t,e,o)=>{vt(t,e,o,t=>{X(rt.blockquote)(t.state,t.dispatch)})}},{id:"codeBlock",labelKey:"codeBlock",keywords:["code","codeblock","pre","programming"],icon:"</>",execute:(t,e,o)=>{vt(t,e,o,t=>{F(rt.code_block)(t.state,t.dispatch)})}},{id:"divider",labelKey:"divider",keywords:["divider","hr","horizontal","rule","line"],icon:"—",execute:(t,e,o)=>{const i=ot.nodes.horizontal_rule;if(!i)return;let s=t.state.tr.delete(e,o);t.dispatch(s);const r=t.state.selection.$from.after(t.state.selection.$from.depth),n=i.create(),a=rt.paragraph.create();s=t.state.tr.insert(r,[n,a]),s.setSelection(R.near(s.doc.resolve(r+2))),t.dispatch(s)}}];function mt(t){if(!t)return wt;const e=t.toLowerCase();return wt.filter(t=>!!t.labelKey.toLowerCase().startsWith(e)||t.keywords.some(t=>t.toLowerCase().startsWith(e)))}const bt="_editorContainer_1iujf_3",_t="_editorToolbar_1iujf_12",yt="_modeToggle_1iujf_22",$t="_modeButton_1iujf_29",St="_active_1iujf_44",xt="_formattingButtons_1iujf_50",Mt="_formatButton_1iujf_56",Lt="_isActive_1iujf_77",Ct="_separator_1iujf_82",Bt="_prosemirrorEditor_1iujf_90",qt="_markdownEditor_1iujf_323",jt="_hidden_1iujf_342",Tt="_slashMenu_1iujf_347",Et="_slashMenuItem_1iujf_361",At="_selected_1iujf_371",Pt="_slashMenuIcon_1iujf_375",It="_slashMenuLabel_1iujf_389",Ht="_slashMenuEmpty_1iujf_394";var Kt=p("<div data-testid=slash-command-menu>"),Ot=p("<div>"),Dt=p("<div><span></span><span>");function Wt(p){const{t:f}=Z(),[k,v]=t(0),[g,w]=t(null);let m;const b=()=>mt(p.state.query);e(()=>{p.state.query,p.state.active,v(0),w(null)}),e(()=>{p.state.active&&m&&requestAnimationFrame(()=>{if(!m)return;const t=m.getBoundingClientRect(),e=window.innerHeight,o=window.innerWidth;let i=p.state.position.top,s=p.state.position.left;if(i+t.height>e){i=p.view.coordsAtPos(p.state.triggerPos).top-t.height-4,i<0&&(i=8)}s+t.width>o&&(s=o-t.width-8),s<0&&(s=8),i===p.state.position.top&&s===p.state.position.left||w({top:i,left:s})})}),e(()=>{const t=k();if(m){const e=m.querySelector(`[data-index="${t}"]`);e&&e.scrollIntoView({block:"nearest"})}}),tt(()=>m,()=>{p.state.active&&kt(p.view)}),o(()=>{const t=t=>{const e=pt.getState(p.view.state);if(!e?.active)return;const o=mt(e.query);if(0!==o.length)switch(t.key){case"ArrowDown":t.preventDefault(),t.stopPropagation(),v(t=>(t+1)%o.length);break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),v(t=>(t-1+o.length)%o.length);break;case"Enter":case"Tab":t.preventDefault(),t.stopPropagation(),_(o[k()]);break;case"Escape":t.preventDefault(),t.stopPropagation(),kt(p.view)}};document.addEventListener("keydown",t,!0),i(()=>{document.removeEventListener("keydown",t,!0)})});const _=t=>{if(!t)return;const e=pt.getState(p.view.state);if(!e)return;const{triggerPos:o}=e,i=p.view.state.selection.from;t.execute(p.view,o,i),p.view.focus()},y=()=>g()??p.state.position;return s(r,{get when(){return p.state.active},get children(){var t=Kt();return"function"==typeof m?n(m,t):m=t,a(t,s(r,{get when(){return b().length>0},get fallback(){return t=Ot(),a(t,()=>f("slashMenu.noResults")),l(()=>d(t,Ht)),t;var t},get children(){return s(c,{get each(){return b()},children:(t,e)=>{return o=Dt(),i=o.firstChild,s=i.nextSibling,o.addEventListener("mouseenter",()=>(t=>{v(t)})(e())),o.$$click=()=>(t=>{_(t)})(t),a(i,()=>t.icon),a(s,()=>f(`slashMenu.${t.labelKey}`)),l(t=>{var r=`${Et} ${e()===k()?At:""}`,n=e(),a=Pt,c=It;return r!==t.e&&d(o,t.e=r),n!==t.t&&u(o,"data-index",t.t=n),a!==t.a&&d(i,t.a=a),c!==t.o&&d(s,t.o=c),t},{e:void 0,t:void 0,a:void 0,o:void 0}),o;var o,i,s}})}})),l(e=>{var o=Tt,i=`${y().top}px`,s=`${y().left}px`;return o!==e.e&&d(t,e.e=o),i!==e.t&&h(t,"top",e.t=i),s!==e.a&&h(t,"left",e.a=s),e},{e:void 0,t:void 0,a:void 0}),t}})}f(["click"]);var Nt=p('<div><button title="Bold (Ctrl+B)">B</button><button title="Italic (Ctrl+I)">I</button><button title="Code (Ctrl+`)">&lt;/></button><span></span><button title="Heading 1">H1</button><button title="Heading 2">H2</button><button title="Heading 3">H3</button><span></span><button title="Bullet List">•</button><button title="Numbered List">1.</button><button title="Task List">☐</button><button title=Quote>"</button><button title="Code Block">{ }'),zt=p("<div><div><button data-testid=editor-mode-visual></button><button data-testid=editor-mode-markdown>");function Gt(t){const{t:e}=Z(),o=t=>t?`${$t} ${St}`:$t,i=t=>t?`${Mt} ${Lt}`:Mt,n=()=>{t.view&&(W(nt.strong)(t.view.state,t.view.dispatch),t.view.focus())},c=()=>{t.view&&(W(nt.em)(t.view.state,t.view.dispatch),t.view.focus())},h=()=>{t.view&&(W(nt.code)(t.view.state,t.view.dispatch),t.view.focus())},p=e=>{if(!t.view)return;const{state:o,dispatch:i}=t.view;t.formatState.headingLevel===e?F(rt.paragraph)(o,i):F(rt.heading,{level:e})(o,i),t.view.focus()},f=()=>{if(!t.view)return;const{state:e,dispatch:o}=t.view;t.formatState.isBulletList?J(e,o):Q(rt.bullet_list)(e,o),t.view.focus()},v=()=>{if(!t.view)return;const{state:e,dispatch:o}=t.view;t.formatState.isOrderedList?J(e,o):Q(rt.ordered_list)(e,o),t.view.focus()},g=()=>{if(!t.view)return;const{state:e,dispatch:o}=t.view,{$from:i}=e.selection;if(t.formatState.isTaskList)for(let s=i.depth;s>0;s--){const r=i.node(s);if(r.type===rt.list_item&&null!==r.attrs.checked){return o(e.tr.setNodeMarkup(i.before(s),void 0,{checked:null})),void t.view.focus()}}else if(t.formatState.isBulletList||t.formatState.isOrderedList)for(let s=i.depth;s>0;s--){if(i.node(s).type===rt.list_item){return o(e.tr.setNodeMarkup(i.before(s),void 0,{checked:!1})),void t.view.focus()}}else{const i=rt.list_item.create({checked:!1},rt.paragraph.create()),s=rt.bullet_list.create(null,i);o(e.tr.replaceSelectionWith(s)),t.view.focus()}},w=()=>{if(!t.view)return;const{state:e,dispatch:o}=t.view;t.formatState.isBlockquote?J(e,o):X(rt.blockquote)(e,o),t.view.focus()},m=()=>{if(!t.view)return;const{state:e,dispatch:o}=t.view;t.formatState.isCodeBlock?F(rt.paragraph)(e,o):F(rt.code_block)(e,o),t.view.focus()};return b=zt(),_=b.firstChild,y=_.firstChild,$=y.nextSibling,k(y,"click",t.onSwitchToWysiwyg),a(y,()=>e("editor.wysiwygMode")||"Visual"),k($,"click",t.onSwitchToMarkdown),a($,()=>e("editor.markdownMode")||"Markdown"),a(b,s(r,{get when(){return"wysiwyg"===t.editorMode},get children(){var e=Nt(),o=e.firstChild,s=o.nextSibling,r=s.nextSibling,a=r.nextSibling,u=a.nextSibling,k=u.nextSibling,b=k.nextSibling,_=b.nextSibling,y=_.nextSibling,$=y.nextSibling,S=$.nextSibling,x=S.nextSibling,M=x.nextSibling;return o.$$click=n,s.$$click=c,r.$$click=h,u.$$click=()=>p(1),k.$$click=()=>p(2),b.$$click=()=>p(3),y.$$click=f,$.$$click=v,S.$$click=g,x.$$click=w,M.$$click=m,l(n=>{var c=xt,l=i(t.formatState.isBold),h=i(t.formatState.isItalic),p=i(t.formatState.isCode),f=Ct,v=i(1===t.formatState.headingLevel),g=i(2===t.formatState.headingLevel),w=i(3===t.formatState.headingLevel),m=Ct,L=i(t.formatState.isBulletList),C=i(t.formatState.isOrderedList),B=i(t.formatState.isTaskList),q=i(t.formatState.isBlockquote),j=i(t.formatState.isCodeBlock);return c!==n.e&&d(e,n.e=c),l!==n.t&&d(o,n.t=l),h!==n.a&&d(s,n.a=h),p!==n.o&&d(r,n.o=p),f!==n.i&&d(a,n.i=f),v!==n.n&&d(u,n.n=v),g!==n.s&&d(k,n.s=g),w!==n.h&&d(b,n.h=w),m!==n.r&&d(_,n.r=m),L!==n.d&&d(y,n.d=L),C!==n.l&&d($,n.l=C),B!==n.u&&d(S,n.u=B),q!==n.c&&d(x,n.c=q),j!==n.w&&d(M,n.w=j),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0}),e}}),null),l(i=>{var s=_t,r=yt,n=o("wysiwyg"===t.editorMode),a=e("editor.wysiwygMode")||"Visual",c=o("markdown"===t.editorMode),l=e("editor.markdownMode")||"Markdown";return s!==i.e&&d(b,i.e=s),r!==i.t&&d(_,i.t=r),n!==i.a&&d(y,i.a=n),a!==i.o&&u(y,"title",i.o=a),c!==i.i&&d($,i.i=c),l!==i.n&&u($,"title",i.n=l),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),b;var b,_,y,$}f(["click"]);var Vt=p("<div><div data-testid=wysiwyg-editor></div><textarea data-testid=markdown-editor>");function Ut(r){const{t:c}=Z(),[h,p]=t("wysiwyg"),[f,k]=t(r.content),[w,m]=t(),[b,_]=t({active:!1,query:"",triggerPos:0,position:{top:0,left:0}});let y;const $=(S=_,new q({key:pt,state:{init:()=>({...ft}),apply(t,e,o,i){const s=t.getMeta(pt);if(s?.close){if(e.active){const t={...ft};return setTimeout(()=>S(t),0),t}return e}if(!t.docChanged&&!t.selectionSet)return e;const{selection:r}=i,{$from:n}=r;if(!r.empty){if(e.active){const t={...ft};return setTimeout(()=>S(t),0),t}return e}const a=n.start(n.depth),c=i.doc.textBetween(a,n.pos,"",""),l=c.match(/(^|\s)\/([^\s]*)$/);if(l){const t=l[2]||"",o={active:!0,query:t,triggerPos:a+(c.length-l[0].length+(l[1]?1:0)),position:e.position};return e.active&&t!==e.query&&setTimeout(()=>S(o),0),o}if(e.active){const t={...ft};return setTimeout(()=>S(t),0),t}return e}},view:t=>({update(t){const e=pt.getState(t.state);if(e?.active)try{const o=t.coordsAtPos(e.triggerPos),i={...e,position:{top:o.bottom+4,left:o.left}};S(i)}catch{}}}),props:{handleKeyDown(t,e){const o=pt.getState(t.state);return!!o?.active&&("ArrowDown"===e.key||"ArrowUp"===e.key||"Enter"===e.key||"Tab"===e.key||"Escape"===e.key&&(kt(t),!0))}}}));var S;let x=r.nodeId,M=r.content;const[L,C]=t({isBold:!1,isItalic:!1,isCode:!1,headingLevel:null,isBulletList:!1,isOrderedList:!1,isTaskList:!1,isBlockquote:!1,isCodeBlock:!1}),B=t=>{const e=(o=t,(i=r.assetUrls||{})&&0!==Object.keys(i).length?o.replace(/!\[([^\]]*)\]\(([^/)][^)]*)\)/g,(t,e,o)=>{if(o.includes("://"))return t;if(o.startsWith("/"))return t;const s=i[o];return s?`![${e}](${s})`:t}):o);var o,i;return ct.parse(e)},j=t=>function(t,e){if(!e||0===Object.keys(e).length)return t;const o={};for(const[i,s]of Object.entries(e))o[s]=i;return t.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,(t,e,i)=>{const s=o[i];return s?`![${e}](${s})`:t})}(lt.serialize(t),r.assetUrls||{}),T=t=>{const{state:e}=t,{from:o,$from:i,to:s,empty:r}=e.selection,n=r?e.storedMarks||i.marks():[],a=void 0!==nt.strong.isInSet(n)||e.doc.rangeHasMark(o,s,nt.strong),c=void 0!==nt.em.isInSet(n)||e.doc.rangeHasMark(o,s,nt.em),l=void 0!==nt.code.isInSet(n)||e.doc.rangeHasMark(o,s,nt.code),d=i.node(i.depth),u=d.type===rt.heading?d.attrs.level:null,h=d.type===rt.code_block;let p=!1,f=!1,k=!1,v=!1;for(let g=i.depth;g>0;g--){const t=i.node(g);t.type===rt.bullet_list&&(p=!0),t.type===rt.ordered_list&&(f=!0),t.type===rt.list_item&&null!==t.attrs.checked&&(k=!0),t.type===rt.blockquote&&(v=!0)}C({isBold:a,isItalic:c,isCode:l,headingLevel:u,isBulletList:p,isOrderedList:f,isTaskList:k,isBlockquote:v,isCodeBlock:h})};o(()=>{if(!y)return;const t=B(r.content);if(!t)return;const e=ht(t,[$]),o=new Y(y,{state:e,editable:()=>!r.readOnly,dispatchTransaction(t){const e=o.state.apply(t);if(o.updateState(e),t.docChanged){const t=j(e.doc);k(t),M=t,r.onChange(t)}T(o)}}),i=y.querySelector(".ProseMirror");i&&(i.pmView=o),m(o),T(o)}),i(()=>{w()?.destroy()}),e(v(()=>[r.nodeId,r.content],([t,e])=>{if(t!==x||e!==M){x=t,M=e,k(e),p("wysiwyg");const o=w();if(o){const t=B(e);if(t){const e=ht(t,[$]);o.updateState(e)}}}},{defer:!0}));const E=()=>{const t=w();if(t){const e=B(f());if(e){const o=ht(e,[$]);t.updateState(o),T(t)}}p("wysiwyg")},A=()=>{const t=w();if(t){const e=j(t.state.doc);k(e)}p("markdown")},P=g(()=>"wysiwyg"===h()?Bt:`${Bt} ${jt}`),I=g(()=>"markdown"===h()?qt:`${qt} ${jt}`);return(()=>{var t=Vt(),e=t.firstChild,o=e.nextSibling;a(t,s(Gt,{get editorMode(){return h()},get formatState(){return L()},get view(){return w()},onSwitchToWysiwyg:E,onSwitchToMarkdown:A}),e);return"function"==typeof y?n(y,e):y=e,o.$$input=t=>{return e=t.target.value,k(e),M=e,void r.onChange(e);var e},a(t,()=>{const t=w();return t?s(Wt,{view:t,get state(){return b()}}):null},null),l(i=>{var s=bt,n=P(),a=I(),l=r.placeholder||c("editor.contentPlaceholder")||"Write markdown...",h=r.readOnly;return s!==i.e&&d(t,i.e=s),n!==i.t&&d(e,i.t=n),a!==i.a&&d(o,i.a=a),l!==i.o&&u(o,"placeholder",i.o=l),h!==i.i&&(o.readOnly=i.i=h),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l(()=>o.value=f()),t})()}f(["input"]);export{Ut as default};
