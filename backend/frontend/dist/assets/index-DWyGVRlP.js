import{u as e,c as t,a as i,b as n,t as r,d as o,e as a,r as l,f as d,g as s,h as c,i as u,S as v,F as h,j as g,k as p,m as _,l as m,s as b,M as f,n as y,o as w,p as S,q as x,v as $,w as C}from"./vendor-DsuqbQ50.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const k={};async function T(e){const t=await((e,t,i)=>{const n=e[t];return n?"function"==typeof n?n():Promise.resolve(n):new Promise((e,n)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==i?". Note that variables only represent file names one level deep.":""))))})})(Object.assign({"./dictionaries/en.ts":()=>function(e,t){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));i=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in k)return;k[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,n&&r.setAttribute("nonce",n),document.head.appendChild(r),t?new Promise((t,i)=>{r.addEventListener("load",t),r.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})}(()=>import("./en-C7Q861gd.js"),[])}),`./dictionaries/${e}.ts`,3);return d(t.dict)}const j=a(),E=e=>{const[a,d]=t(e.initialLocale||"en"),[s]=i(a,T),c=r(s,l),u=e=>{const t=`errors.${e}`,i=c(t);return i&&i!==t?i:c("errors.unknown")||"An error occurred"},v=n(()=>({locale:a,setLocale:d,t:c,translateError:u}));return o(j.Provider,{get value(){return v()},get children(){return e.children}})};function L(){const t=e(j);if(!t)throw new Error("useI18n must be used within I18nProvider");return t}const P="_app_17rx3_15",I="_header_17rx3_21",D="_headerTitle_17rx3_31",z="_userInfo_17rx3_41",R="_logoutButton_17rx3_48",N="_orgSwitcher_17rx3_62",B="_orgName_17rx3_77",O="_container_17rx3_84",A="_sidebar_17rx3_90",W="_active_17rx3_123",H="_sidebarHeader_17rx3_129",U="_loading_17rx3_163",q="_pageList_17rx3_169",M="_sidebarFooter_17rx3_175",F="_pageItem_17rx3_192",J="_main_17rx3_222",G="_error_17rx3_230",V="_welcome_17rx3_238",Y="_createForm_17rx3_254",K="_editor_17rx3_262",Z="_editorHeader_17rx3_268",Q="_editorStatus_17rx3_277",X="_unsavedIndicator_17rx3_285",ee="_savingIndicator_17rx3_290",te="_savedIndicator_17rx3_296",ie="_titleInput_17rx3_310",ne="_editorActions_17rx3_321",re="_createButton_17rx3_327",oe="_sidebarActions_17rx3_349",ae="_nodeIcon_17rx3_368",le="_welcomeActions_17rx3_373",de="_nodeContent_17rx3_379",se="_editorContent_17rx3_386",ce="_databaseView_17rx3_395",ue="_databaseHeader_17rx3_403",ve="_viewToggle_17rx3_410",he="_sidebarNodeWrapper_17rx3_431",ge="_childList_17rx3_437",pe="_pageTitleText_17rx3_443",_e="_expandIcon_17rx3_449",me="_expanded_17rx3_462",be="_hidden_17rx3_466",fe="_breadcrumbs_17rx3_470",ye="_breadcrumbItem_17rx3_480",we="_breadcrumbSeparator_17rx3_489",Se="_contentInput_17rx3_493",xe="_historyPanel_17rx3_512",$e="_historyList_17rx3_527",Ce="_historyItem_17rx3_534",ke="_historyMeta_17rx3_551",Te="_historyDate_17rx3_558",je="_historyHash_17rx3_562",Ee="_historyMessage_17rx3_569";var Le=c("<ul>"),Pe=c("<li><div><span>‚ñ∂</span><span></span><span>");function Ie(e){const[i,n]=t(!0),r=e=>{e.stopPropagation(),n(!i())};return a=Pe(),l=a.firstChild,d=l.firstChild,s=d.nextSibling,c=s.nextSibling,l.$$click=()=>e.onSelect(e.node),d.$$click=r,u(s,()=>"database"===e.node.type?"üìä":"üìÑ"),u(c,()=>e.node.title),u(a,o(v,{get when(){var t;return _(()=>!!i())()&&(null==(t=e.node.children)?void 0:t.length)},get children(){var t=Le();return u(t,o(h,{get each(){return e.node.children},children:t=>o(Ie,{node:t,get selectedId(){return e.selectedId},get onSelect(){return e.onSelect},get depth(){return e.depth+1}})})),g(()=>p(t,ge)),t}}),null),g(t=>{var n,r=he,o=F,u={[`${W}`]:e.selectedId===e.node.id},v=12*e.depth+8+"px",h=_e,g={[`${me}`]:i(),[`${be}`]:!(null==(n=e.node.children)?void 0:n.length)},_=ae,f=pe;return r!==t.e&&p(a,t.e=r),o!==t.t&&p(l,t.t=o),t.a=m(l,u,t.a),v!==t.o&&b(l,"padding-left",t.o=v),h!==t.i&&p(d,t.i=h),t.n=m(d,g,t.n),_!==t.s&&p(s,t.s=_),f!==t.h&&p(c,t.h=f),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),a;var a,l,d,s,c}s(["click"]);const De="_preview_3gc71_1";var ze=c('<div role=region aria-label="Markdown preview">');const Re=new f({html:!0,linkify:!0,typographer:!0}),Ne=Re.renderer.rules.image||function(e,t,i,n,r){return r.renderToken(e,t,i)};function Be(e){return t=ze(),g(i=>{var n=De,r=Re.render(e.content,{orgId:e.orgId});return n!==i.e&&p(t,i.e=n),r!==i.t&&(t.innerHTML=i.t=r),i},{e:void 0,t:void 0}),t;var t}Re.renderer.rules.image=(e,t,i,n,r)=>{const o=e[t],a=o.attrIndex("src"),l=o.attrs,d=null==n?void 0:n.orgId;if(l&&a>=0&&d){let e=l[a][1];if(e.startsWith("assets/")){const t=e.split("/");t.length>=2&&(e=`/assets/${d}/${t.slice(1).join("/")}`,l[a][1]=e)}}return Ne(e,t,i,n,r)};const Oe="_container_x612v_1",Ae="_tableWrapper_x612v_10",We="_table_x612v_10",He="_headerRow_x612v_25",Ue="_headerCell_x612v_33",qe="_row_x612v_46",Me="_cell_x612v_55",Fe="_editing_x612v_69",Je="_cellContent_x612v_74",Ge="_editContainer_x612v_82",Ve="_input_x612v_88",Ye="_editActions_x612v_105",Ke="_saveBtn_x612v_110",Ze="_cancelBtn_x612v_111",Qe="_actionsCell_x612v_132",Xe="_deleteBtn_x612v_140",et="_addBtn_x612v_155",tt="_newRow_x612v_171",it="_required_x612v_180",nt="_empty_x612v_186",rt="_loadMore_x612v_193";var ot=c("<input type=checkbox>"),at=c("<select><option value>--"),lt=c("<option>"),dt=c("<input type=number>"),st=c("<input type=date>"),ct=c("<input type=text>"),ut=c("<tr><td><button>+"),vt=c("<div>"),ht=c("<div><button>"),gt=c("<div><div><table><thead><tr><th></th></tr></thead><tbody>"),pt=c("<span>*"),_t=c("<th>"),mt=c("<button>‚úï"),bt=c("<tr><td>"),ft=c("<div><div><button>‚úì</button><button>‚úï"),yt=c("<td>");function wt(e){const{t:i}=L(),[n,r]=t(null),[a,l]=t(""),[d,s]=t({}),c=e=>{l(e)},_=()=>{e.onAddRecord&&Object.keys(d()).length>0&&(e.onAddRecord(d()),s({}))},b=(t,i)=>{const n=((t,i)=>{const n=e.columns.find(e=>e.id===i);return n?t.data[n.name]??"":""})(t,i.id);switch(i.type){case"checkbox":return n?"‚úì":"";case"select":case"multi_select":case"number":default:return String(n);case"date":return n?new Date(n).toLocaleDateString():""}},f=(e,t)=>{switch(e.type){case"checkbox":return(l=ot()).addEventListener("change",e=>c(String(e.target.checked))),g(()=>p(l,Ve)),g(()=>l.checked=Boolean(t)),l;case"select":return(a=at()).firstChild,a.addEventListener("change",e=>c(e.target.value)),a.value=t,u(a,o(h,{get each(){return e.options??[]},children:e=>{return(t=lt()).value=e,u(t,e),t;var t}}),null),g(()=>p(a,Ve)),a;case"number":return(r=dt()).$$input=e=>c(e.target.value),r.value=t,g(()=>p(r,Ve)),r;case"date":return(n=st()).$$input=e=>c(e.target.value),n.value=t,g(()=>p(n,Ve)),n;default:return(i=ct()).$$input=e=>c(e.target.value),i.value=t,g(()=>p(i,Ve)),i}var i,n,r,a,l};return w=gt(),S=w.firstChild,x=S.firstChild,$=x.firstChild,C=$.firstChild,k=C.firstChild,T=$.nextSibling,u(k,()=>i("common.actions")),u(C,o(h,{get each(){return e.columns},children:e=>{return t=_t(),u(t,()=>e.name,null),u(t,o(v,{get when(){return e.required},get children(){var e=pt();return g(()=>p(e,it)),e}}),null),g(()=>p(t,Ue)),t;var t}}),null),u(T,o(h,{get each(){return e.records},children:t=>{return d=bt(),s=d.firstChild,u(s,o(v,{get when(){return e.onDeleteRecord},get children(){var n=mt();return n.$$click=()=>{var i;return null==(i=e.onDeleteRecord)?void 0:i.call(e,t.id)},g(e=>{var t=Xe,r=i("database.deleteRecord")||"Delete record";return t!==e.e&&p(n,e.e=t),r!==e.t&&y(n,"title",e.t=r),e},{e:void 0,t:void 0}),n}})),u(d,o(h,{get each(){return e.columns},children:i=>{const d=()=>{var e,r;return(null==(e=n())?void 0:e.recordId)===t.id&&(null==(r=n())?void 0:r.columnId)===i.id};return(s=yt()).$$click=()=>((t,i)=>{var n;const o=e.columns.find(e=>e.id===i),a=(null==(n=e.records.find(e=>e.id===t))?void 0:n.data[(null==o?void 0:o.name)??""])??"";r({recordId:t,columnId:i}),l(String(a))})(t.id,i.id),u(s,o(v,{get when(){return d()},get fallback(){return e=vt(),u(e,()=>b(t,i)),g(()=>p(e,Je)),e;var e},get children(){var n=ft(),o=n.firstChild,l=o.firstChild,d=l.nextSibling;return u(n,()=>f(i,a()),o),l.$$click=()=>((t,i)=>{const n=e.columns.find(e=>e.id===i);if(!n||!e.onUpdateRecord)return;const o=e.records.find(e=>e.id===t);if(!o)return;const l={...o.data};l[n.name]=a(),e.onUpdateRecord(t,l),r(null)})(t.id,i.id),d.$$click=()=>r(null),g(e=>{var t=Ge,i=Ye,r=Ke,a=Ze;return t!==e.e&&p(n,e.e=t),i!==e.t&&p(o,e.t=i),r!==e.a&&p(l,e.a=r),a!==e.o&&p(d,e.o=a),e},{e:void 0,t:void 0,a:void 0,o:void 0}),n}})),g(e=>{var t=Me,i={[`${Fe}`]:d()};return t!==e.e&&p(s,e.e=t),e.t=m(s,i,e.t),e},{e:void 0,t:void 0}),s;var s}}),null),g(e=>{var t=qe,i=Qe;return t!==e.e&&p(d,e.e=t),i!==e.t&&p(s,e.t=i),e},{e:void 0,t:void 0}),d;var d,s}}),null),u(T,o(v,{get when(){return e.onAddRecord},get children(){var t=ut(),i=t.firstChild,n=i.firstChild;return n.$$click=_,u(t,o(h,{get each(){return e.columns},children:e=>{return t=yt(),u(t,()=>f(e,String(d()[e.name]??""))),g(()=>p(t,Me)),t;var t}}),null),g(e=>{var r=tt,o=Qe,a=et;return r!==e.e&&p(t,e.e=r),o!==e.t&&p(i,e.t=o),a!==e.a&&p(n,e.a=a),e},{e:void 0,t:void 0,a:void 0}),t}}),null),u(w,o(v,{get when(){return 0===e.records.length},get children(){var e=vt();return u(e,()=>i("database.noRecords")),g(()=>p(e,nt)),e}}),null),u(w,o(v,{get when(){return e.hasMore},get children(){var t=ht(),n=t.firstChild;return n.$$click=()=>{var t;return null==(t=e.onLoadMore)?void 0:t.call(e)},u(n,()=>i("database.loadMore")),g(()=>p(t,rt)),t}}),null),g(e=>{var t=Oe,i=Ae,n=We,r=He,o=Ue;return t!==e.e&&p(w,e.e=t),i!==e.t&&p(S,e.t=i),n!==e.a&&p(x,e.a=n),r!==e.o&&p(C,e.o=r),o!==e.i&&p(k,e.i=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),w;var w,S,x,$,C,k,T}s(["input","click"]);const St="_grid_xvgf8_1",xt="_card_xvgf8_8",$t="_cardHeader_xvgf8_21",Ct="_deleteBtn_xvgf8_29",kt="_cardBody_xvgf8_42",Tt="_field_xvgf8_48",jt="_fieldName_xvgf8_53",Et="_fieldValue_xvgf8_60";var Lt=c("<div>"),Pt=c("<div><div><strong></strong><button>√ó</button></div><div>"),It=c("<div><span>:</span><span>");function Dt(e){const{t:t}=L();return i=Lt(),u(i,o(h,{get each(){return e.records},children:i=>{return n=Pt(),r=n.firstChild,a=r.firstChild,l=a.nextSibling,d=r.nextSibling,u(a,()=>String((e.columns[0]?i.data[e.columns[0].name]:null)||t("database.untitled"))),l.$$click=()=>e.onDeleteRecord(i.id),u(d,o(h,{get each(){return e.columns.slice(1,4)},children:e=>{return t=It(),n=t.firstChild,r=n.firstChild,o=n.nextSibling,u(n,()=>e.name,r),u(o,()=>String(i.data[e.name]||"-")),g(e=>{var i=Tt,r=jt,a=Et;return i!==e.e&&p(t,e.e=i),r!==e.t&&p(n,e.t=r),a!==e.a&&p(o,e.a=a),e},{e:void 0,t:void 0,a:void 0}),t;var t,n,r,o}})),g(e=>{var t=xt,i=$t,o=Ct,a=kt;return t!==e.e&&p(n,e.e=t),i!==e.t&&p(r,e.t=i),o!==e.a&&p(l,e.a=o),a!==e.o&&p(d,e.o=a),e},{e:void 0,t:void 0,a:void 0,o:void 0}),n;var n,r,a,l,d}})),g(()=>p(i,St)),i;var i}s(["click"]);const zt="_gallery_lpkrc_1",Rt="_card_lpkrc_8",Nt="_imageContainer_lpkrc_26",Bt="_image_lpkrc_26",Ot="_imagePlaceholder_lpkrc_42",At="_cardContent_lpkrc_47",Wt="_cardHeader_lpkrc_51",Ht="_deleteBtn_lpkrc_58",Ut="_cardBody_lpkrc_74",qt="_field_lpkrc_78",Mt="_fieldName_lpkrc_86",Ft="_fieldValue_lpkrc_92";var Jt=c("<div>"),Gt=c("<div><div><div><strong></strong><button>‚úï</button></div><div>"),Vt=c("<img>"),Yt=c("<div><span>:</span><span>");function Kt(e){const{t:t}=L();return i=Jt(),u(i,o(h,{get each(){return e.records},children:i=>{const n=e.columns.find(e=>e.name.toLowerCase().includes("image")||e.name.toLowerCase().includes("cover")||e.name.toLowerCase().includes("url"));return r=Gt(),a=r.firstChild,l=a.firstChild,d=l.firstChild,s=d.nextSibling,c=l.nextSibling,u(r,o(v,{when:n,children:n=>{return r=Jt(),u(r,o(v,{get when(){return i.data[n().name]},get fallback(){return e=Jt(),u(e,()=>t("database.noImage")),g(()=>p(e,Ot)),e;var e},get children(){var t=Vt();return g(r=>{var o=String(i.data[n().name]),a=String((e.columns[0]?i.data[e.columns[0].name]:null)||"Record"),l=Bt;return o!==r.e&&y(t,"src",r.e=o),a!==r.t&&y(t,"alt",r.t=a),l!==r.a&&p(t,r.a=l),r},{e:void 0,t:void 0,a:void 0}),t}})),g(()=>p(r,Nt)),r;var r}}),a),u(d,()=>String((e.columns[0]?i.data[e.columns[0].name]:null)||t("database.untitled"))),s.$$click=()=>e.onDeleteRecord(i.id),u(c,o(h,{get each(){return e.columns.slice(1,3)},children:e=>{return t=Yt(),n=t.firstChild,r=n.firstChild,o=n.nextSibling,u(n,()=>e.name,r),u(o,()=>String(i.data[e.name]||"-")),g(e=>{var i=qt,r=Mt,a=Ft;return i!==e.e&&p(t,e.e=i),r!==e.t&&p(n,e.t=r),a!==e.a&&p(o,e.a=a),e},{e:void 0,t:void 0,a:void 0}),t;var t,n,r,o}})),g(e=>{var t=Rt,i=At,n=Wt,o=Ht,d=Ut;return t!==e.e&&p(r,e.e=t),i!==e.t&&p(a,e.t=i),n!==e.a&&p(l,e.a=n),o!==e.o&&p(s,e.o=o),d!==e.i&&p(c,e.i=d),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),r;var r,a,l,d,s,c}})),g(()=>p(i,zt)),i;var i}s(["click"]);const Zt="_board_1et8f_1",Qt="_noGroup_1et8f_7",Xt="_columns_1et8f_16",ei="_column_1et8f_16",ti="_columnHeader_1et8f_32",ii="_columnName_1et8f_39",ni="_columnCount_1et8f_47",ri="_cards_1et8f_56",oi="_card_1et8f_56",ai="_cardHeader_1et8f_76",li="_deleteBtn_1et8f_90",di="_cardBody_1et8f_104",si="_field_1et8f_108",ci="_fieldName_1et8f_114",ui="_fieldValue_1et8f_119";var vi=c("<div>"),hi=c("<div><div><span></span><span></span></div><div>"),gi=c("<div><div><strong></strong><button>√ó</button></div><div>"),pi=c("<div><span>:</span><span>");function _i(e){const{t:t}=L(),i=()=>e.columns.find(e=>"select"===e.type||"multi_select"===e.type),r=n(()=>{const n=i();if(!n)return[{name:"All Records",records:e.records}];const r=n.options||[],o={};return r.forEach(e=>{o[e]={name:e,records:[]}}),o.__none__={name:t("database.noGroup")||"No Group",records:[]},e.records.forEach(e=>{const t=e.data[n.name];if(t&&"string"==typeof t&&r.includes(t)){const i=o[t];i&&i.records.push(e)}else{const t=o.__none__;t&&t.records.push(e)}}),Object.values(o).filter(e=>e.records.length>0||r.includes(e.name))});return a=vi(),u(a,o(v,{get when(){return i()},get fallback(){return e=vi(),u(e,()=>t("database.addSelectColumn")),g(()=>p(e,Qt)),e;var e},get children(){var n=vi();return u(n,o(h,{get each(){return r()},children:n=>{return r=hi(),a=r.firstChild,l=a.firstChild,d=l.nextSibling,s=a.nextSibling,u(l,()=>n.name),u(d,()=>n.records.length),u(s,o(h,{get each(){return n.records},children:n=>{return r=gi(),a=r.firstChild,l=a.firstChild,d=l.nextSibling,s=a.nextSibling,u(l,()=>String((e.columns[0]?n.data[e.columns[0].name]:null)||t("database.untitled"))),d.$$click=()=>e.onDeleteRecord(n.id),u(s,o(h,{get each(){return e.columns.slice(1,4).filter(e=>{var t;return e.id!==(null==(t=i())?void 0:t.id)})},children:e=>{return t=pi(),i=t.firstChild,r=i.firstChild,o=i.nextSibling,u(i,()=>e.name,r),u(o,()=>String(n.data[e.name]||"-")),g(e=>{var n=si,r=ci,a=ui;return n!==e.e&&p(t,e.e=n),r!==e.t&&p(i,e.t=r),a!==e.a&&p(o,e.a=a),e},{e:void 0,t:void 0,a:void 0}),t;var t,i,r,o}})),g(e=>{var t=oi,i=ai,n=li,o=di;return t!==e.e&&p(r,e.e=t),i!==e.t&&p(a,e.t=i),n!==e.a&&p(d,e.a=n),o!==e.o&&p(s,e.o=o),e},{e:void 0,t:void 0,a:void 0,o:void 0}),r;var r,a,l,d,s}})),g(e=>{var t=ei,i=ti,n=ii,o=ni,c=ri;return t!==e.e&&p(r,e.e=t),i!==e.t&&p(a,e.t=i),n!==e.a&&p(l,e.a=n),o!==e.o&&p(d,e.o=o),c!==e.i&&p(s,e.i=c),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),r;var r,a,l,d,s}})),g(()=>p(n,Xt)),n}})),g(()=>p(a,Zt)),a;var a}s(["click"]);const mi="_settings_4iycv_1",bi="_header_4iycv_7",fi="_closeButton_4iycv_16",yi="_section_4iycv_28",wi="_table_4iycv_38",Si="_roleSelect_4iycv_56",xi="_error_4iycv_62",$i="_success_4iycv_70",Ci="_tabs_4iycv_79",ki="_activeTab_4iycv_101",Ti="_settingsForm_4iycv_106",ji="_formItem_4iycv_113",Ei="_checkboxLabel_4iycv_133",Li="_saveButton_4iycv_146",Pi="_hint_4iycv_165",Ii="_inviteSection_4iycv_171",Di="_inviteForm_4iycv_175",zi="_formGroup_4iycv_186",Ri="_addRemoteSection_4iycv_217",Ni="_actions_4iycv_229",Bi="_smallButton_4iycv_234",Oi="_deleteButtonSmall_4iycv_248";var Ai=c("<button>"),Wi=c("<div>"),Hi=c("<table><thead><tr><th></th><th></th><th></th></tr></thead><tbody>"),Ui=c("<h4>"),qi=c("<div><form><h4></h4><div><input type=email required><select><option value=admin></option><option value=editor></option><option value=viewer></option></select><button type=submit>"),Mi=c("<section><h3>"),Fi=c("<section><h3></h3><form><div><label></label><select><option value=light></option><option value=dark></option><option value=system></option></select></div><div><label></label><select><option value=en></option><option value=fr></option><option value=de></option><option value=es></option></select></div><div><label><input type=checkbox></label></div><button type=submit>"),Ji=c("<form><div><label></label><input type=text disabled></div><div><label><input type=checkbox></label></div><div><label></label><input type=text><p></p></div><button type=submit>"),Gi=c("<table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody>"),Vi=c("<section><h3></h3><p></p><div><h4></h4><form><div><label></label><input type=text required></div><div><label></label><input type=url required></div><div><label></label><input type=password><p></p></div><button type=submit>"),Yi=c("<div><header><h2></h2><button>&times;</button></header><div><button></button><button></button><button>"),Ki=c("<p>"),Zi=c("<select><option value=admin></option><option value=editor></option><option value=viewer>"),Qi=c("<tr><td></td><td></td><td>"),Xi=c("<tr><td></td><td></td><td></td><td><button></button><button>");function en(e){const{t:i}=L(),[n,r]=t("members"),[a,l]=t([]),[d,s]=t([]),[c,m]=t([]),[b,f]=t("origin"),[S,x]=t(""),[$,C]=t(""),[k,T]=t(""),[j,E]=t("viewer"),[P,I]=t("light"),[D,z]=t("en"),[R,N]=t(!0);w(()=>{var t,i;I((null==(t=e.user.settings)?void 0:t.theme)||"light"),z((null==(i=e.user.settings)?void 0:i.language)||"en")});const[B,O]=t(""),[A,W]=t(!1),[H,U]=t(""),[q,M]=t(!1),[F,J]=t(null),[G,V]=t(null),Y=async(t,i={})=>{var n;let r=t;t.startsWith("/api/")&&!t.startsWith("/api/auth/")&&(r=`/api/${e.user.organization_id}${t.substring(4)}`);const o=await fetch(r,{...i,headers:{...i.headers,Authorization:`Bearer ${e.token}`}});if(!o.ok){const e=await o.json();throw new Error((null==(n=e.error)?void 0:n.message)||e.error||"Request failed")}return o},K=async()=>{var t,r,o,a,d,c,u;try{M(!0),J(null);const i=[];if("members"===n()&&"admin"===e.user.role&&(i.push(Y("/api/users")),i.push(Y("/api/invitations"))),"workspace"===n()&&i.push(Y("/api/settings/organization")),"sync"===n()&&"admin"===e.user.role&&i.push(Y("/api/settings/git/remotes")),0===i.length)return;const v=await Promise.all(i);if("members"===n()&&"admin"===e.user.role){const e=await v[0].json(),i=await v[1].json();l((null==(t=e.users)?void 0:t.filter(Boolean))||[]),s((null==(r=i.invitations)?void 0:r.filter(Boolean))||[])}if("workspace"===n()){const e=await v[v.length-1].json();O(e.name),W((null==(o=e.settings)?void 0:o.public_access)||!1),U((null==(d=null==(a=e.settings)?void 0:a.allowed_domains)?void 0:d.join(", "))||"")}if("sync"===n()&&"admin"===e.user.role){const e=await v[v.length-1].json();m(e.remotes||[])}const h=null==(c=e.user.memberships)?void 0:c.find(t=>t.organization_id===e.user.organization_id);h&&N((null==(u=h.settings)?void 0:u.notifications)??!0)}catch(v){J(`${i("errors.failedToLoad")}: ${v}`)}finally{M(!1)}};w(()=>{K()});const Z=async e=>{if(e.preventDefault(),k())try{M(!0),await Y("/api/invitations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k(),role:j()})}),T(""),V(i("success.invitationSent")||"Invitation sent successfully"),K()}catch(t){J(`${i("errors.failedToInvite")}: ${t}`)}finally{M(!1)}},Q=async e=>{e.preventDefault();try{M(!0),J(null),V(null);const e={theme:P(),language:D()},t={notifications:R()};await Promise.all([Y("/api/auth/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:e})}),Y("/api/settings/membership",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:t})})]),V(i("success.personalSettingsSaved")||"Personal settings saved successfully")}catch(t){J(`${i("errors.failedToSave")}: ${t}`)}finally{M(!1)}},X=async e=>{e.preventDefault();try{M(!0),J(null),V(null);const e={public_access:A(),allowed_domains:H()?H().split(",").map(e=>e.trim()):[]};await Y("/api/settings/organization",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:e})}),V(i("success.workspaceSettingsSaved")||"Workspace settings saved successfully")}catch(t){J(`${i("errors.failedToSave")}: ${t}`)}finally{M(!1)}},ee=async e=>{e.preventDefault();try{M(!0),J(null),await Y("/api/settings/git/remotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b(),url:S(),token:$(),type:"custom",auth_type:$()?"token":"none"})}),V(i("success.remoteAdded")||"Remote added"),x(""),C(""),K()}catch(t){J(`${i("errors.failedToAddRemote")}: ${t}`)}finally{M(!1)}};return te=Yi(),ie=te.firstChild,ne=ie.firstChild,re=ne.nextSibling,oe=ie.nextSibling,ae=oe.firstChild,le=ae.nextSibling,de=le.nextSibling,u(ne,()=>i("settings.title")),re.$$click=()=>e.onClose(),ae.$$click=()=>r("members"),u(ae,()=>i("settings.members")),le.$$click=()=>r("personal"),u(le,()=>i("settings.personal")),de.$$click=()=>r("workspace"),u(de,()=>i("settings.workspace")),u(oe,o(v,{get when(){return"admin"===e.user.role},get children(){var e=Ai();return e.$$click=()=>r("sync"),u(e,()=>i("settings.gitSync")),g(()=>p(e,"sync"===n()?ki:"")),e}}),null),u(te,o(v,{get when(){return F()},get children(){var e=Wi();return u(e,F),g(()=>p(e,xi)),e}}),null),u(te,o(v,{get when(){return G()},get children(){var e=Wi();return u(e,G),g(()=>p(e,$i)),e}}),null),u(te,o(v,{get when(){return"members"===n()},get children(){var t=Mi(),n=t.firstChild;return u(n,()=>i("settings.members")),u(t,o(v,{get when(){return"admin"===e.user.role},get fallback(){return e=Ki(),u(e,()=>i("settings.adminOnlyMembers")),e;var e},get children(){return[(w=Hi(),S=w.firstChild,x=S.firstChild.firstChild,$=x.nextSibling,C=$.nextSibling,L=S.nextSibling,u(x,()=>i("settings.nameColumn")),u($,()=>i("settings.emailColumn")),u(C,()=>i("settings.roleColumn")),u(L,o(h,{get each(){return a()},children:t=>{return n=Qi(),r=n.firstChild,a=r.nextSibling,l=a.nextSibling,u(r,()=>t.name),u(a,()=>t.email),u(l,o(v,{get when(){return t.id!==e.user.id},get fallback(){return t.role},get children(){var e=Zi(),n=e.firstChild,r=n.nextSibling,o=r.nextSibling;return e.addEventListener("change",e=>(async(e,t)=>{try{M(!0),await Y("/api/users/role",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,role:t})}),V(i("success.roleUpdated")||"Role updated"),K()}catch(n){J(`${i("errors.failedToUpdateRole")}: ${n}`)}finally{M(!1)}})(t.id,e.target.value)),u(n,()=>i("settings.roleAdmin")),u(r,()=>i("settings.roleEditor")),u(o,()=>i("settings.roleViewer")),g(()=>p(e,Si)),g(()=>e.value=t.role),e}})),n;var n,r,a,l}})),g(()=>p(w,wi)),w),(t=qi(),n=t.firstChild,r=n.firstChild,l=r.nextSibling,s=l.firstChild,c=s.nextSibling,_=c.firstChild,m=_.nextSibling,b=m.nextSibling,f=c.nextSibling,n.addEventListener("submit",Z),u(r,()=>i("settings.inviteNewMember")),s.$$input=e=>T(e.target.value),c.addEventListener("change",e=>E(e.target.value)),u(_,()=>i("settings.roleAdmin")),u(m,()=>i("settings.roleEditor")),u(b,()=>i("settings.roleViewer")),u(f,()=>i("common.invite")),u(t,o(v,{get when(){return d().length>0},get children(){return[(s=Ui(),u(s,()=>i("settings.pendingInvitations")),s),(e=Hi(),t=e.firstChild,n=t.firstChild.firstChild,r=n.nextSibling,a=r.nextSibling,l=t.nextSibling,u(n,()=>i("settings.emailColumn")),u(r,()=>i("settings.roleColumn")),u(a,()=>i("settings.sentColumn")),u(l,o(h,{get each(){return d()},children:e=>{return t=Qi(),i=t.firstChild,n=i.nextSibling,r=n.nextSibling,u(i,()=>e.email),u(n,()=>e.role),u(r,()=>new Date(e.created).toLocaleDateString()),t;var t,i,n,r}})),g(()=>p(e,wi)),e)];var e,t,n,r,a,l,s}}),null),g(e=>{var r=Ii,o=Di,a=zi,d=i("settings.emailPlaceholder")||"Email address",c=q();return r!==e.e&&p(t,e.e=r),o!==e.t&&p(n,e.t=o),a!==e.a&&p(l,e.a=a),d!==e.o&&y(s,"placeholder",e.o=d),c!==e.i&&(f.disabled=e.i=c),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),g(()=>s.value=k()),g(()=>c.value=j()),t)];var t,n,r,l,s,c,_,m,b,f,w,S,x,$,C,L}}),null),g(()=>p(t,yi)),t}}),null),u(te,o(v,{get when(){return"personal"===n()},get children(){var e=Fi(),t=e.firstChild,n=t.nextSibling,r=n.firstChild,o=r.firstChild,a=o.nextSibling,l=a.firstChild,d=l.nextSibling,s=d.nextSibling,c=r.nextSibling,v=c.firstChild,h=v.nextSibling,_=h.firstChild,m=_.nextSibling,b=m.nextSibling,f=b.nextSibling,y=c.nextSibling,w=y.firstChild,S=w.firstChild,x=y.nextSibling;return u(t,()=>i("settings.personalSettings")),n.addEventListener("submit",Q),u(o,()=>i("settings.theme")),a.addEventListener("change",e=>I(e.target.value)),u(l,()=>i("settings.themeLight")),u(d,()=>i("settings.themeDark")),u(s,()=>i("settings.themeSystem")),u(v,()=>i("settings.language")),h.addEventListener("change",e=>z(e.target.value)),u(_,()=>i("settings.languageEn")),u(m,()=>i("settings.languageFr")),u(b,()=>i("settings.languageDe")),u(f,()=>i("settings.languageEs")),S.addEventListener("change",e=>N(e.currentTarget.checked)),u(w,()=>i("settings.enableNotifications"),null),u(x,()=>i("settings.saveChanges")),g(t=>{var i=yi,o=Ti,a=ji,l=ji,d=ji,s=Ei,u=Li,v=q();return i!==t.e&&p(e,t.e=i),o!==t.t&&p(n,t.t=o),a!==t.a&&p(r,t.a=a),l!==t.o&&p(c,t.o=l),d!==t.i&&p(y,t.i=d),s!==t.n&&p(w,t.n=s),u!==t.s&&p(x,t.s=u),v!==t.h&&(x.disabled=t.h=v),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),g(()=>a.value=P()),g(()=>h.value=D()),g(()=>S.checked=R()),e}}),null),u(te,o(v,{get when(){return"workspace"===n()},get children(){var t=Mi(),n=t.firstChild;return u(n,()=>i("settings.workspaceSettings")),u(t,o(v,{get when(){return"admin"===e.user.role},get fallback(){return e=Ki(),u(e,()=>i("settings.adminOnlyWorkspace")),e;var e},get children(){var e=Ji(),t=e.firstChild,n=t.firstChild,r=n.nextSibling,o=t.nextSibling,a=o.firstChild,l=a.firstChild,d=o.nextSibling,s=d.firstChild,c=s.nextSibling,v=c.nextSibling,h=d.nextSibling;return e.addEventListener("submit",X),u(n,()=>i("settings.organizationName")),r.$$input=e=>O(e.target.value),l.addEventListener("change",e=>W(e.currentTarget.checked)),u(a,()=>i("settings.allowPublicAccess"),null),u(s,()=>i("settings.allowedDomains")),c.$$input=e=>U(e.target.value),u(v,()=>i("settings.allowedDomainsHint")),u(h,()=>i("settings.saveWorkspaceSettings")),g(n=>{var l=Ti,s=ji,u=i("settings.renameNotSupported")||"Rename is not supported yet",g=ji,_=Ei,m=ji,b=i("settings.allowedDomainsPlaceholder")||"example.com, company.org",f=Pi,w=Li,S=q();return l!==n.e&&p(e,n.e=l),s!==n.t&&p(t,n.t=s),u!==n.a&&y(r,"title",n.a=u),g!==n.o&&p(o,n.o=g),_!==n.i&&p(a,n.i=_),m!==n.n&&p(d,n.n=m),b!==n.s&&y(c,"placeholder",n.s=b),f!==n.h&&p(v,n.h=f),w!==n.r&&p(h,n.r=w),S!==n.d&&(h.disabled=n.d=S),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),g(()=>r.value=B()),g(()=>l.checked=A()),g(()=>c.value=H()),e}}),null),g(()=>p(t,yi)),t}}),null),u(te,o(v,{get when(){return"sync"===n()},get children(){var e=Vi(),t=e.firstChild,n=t.nextSibling,r=n.nextSibling,a=r.firstChild,l=a.nextSibling,d=l.firstChild,s=d.firstChild,m=s.nextSibling,w=d.nextSibling,k=w.firstChild,T=k.nextSibling,j=w.nextSibling,E=j.firstChild,L=E.nextSibling,P=L.nextSibling,I=j.nextSibling;return u(t,()=>i("settings.gitSynchronization")),u(n,()=>i("settings.gitSyncHint")),u(e,o(v,{get when(){return c().length>0},get children(){var e=Gi(),t=e.firstChild,n=t.firstChild.firstChild,r=n.nextSibling,a=r.nextSibling,l=a.nextSibling,d=t.nextSibling;return u(n,()=>i("settings.nameColumn")),u(r,()=>i("settings.urlColumn")),u(a,()=>i("settings.lastSyncColumn")),u(l,()=>i("common.actions")),u(d,o(h,{get each(){return c()},children:e=>{return n=Xi(),r=n.firstChild,o=r.nextSibling,a=o.nextSibling,l=a.nextSibling,d=l.firstChild,s=d.nextSibling,u(r,()=>e.name),u(o,()=>e.url),u(a,(t=_(()=>!!e.last_sync),()=>t()?new Date(e.last_sync).toLocaleString():i("settings.never"))),d.$$click=()=>(async e=>{try{M(!0),J(null),V(null),await Y(`/api/settings/git/remotes/${e}/push`,{method:"POST"}),V(i("success.pushSuccessful")||"Push successful"),K()}catch(t){J(`${i("errors.pushFailed")}: ${t}`)}finally{M(!1)}})(e.id),u(d,()=>i("common.push")),s.$$click=()=>(async e=>{if(confirm(i("settings.confirmRemoveRemote")||"Are you sure you want to remove this remote?"))try{M(!0),J(null),await Y(`/api/settings/git/remotes/${e}`,{method:"DELETE"}),V(i("success.remoteRemoved")||"Remote removed"),K()}catch(t){J(`${i("errors.failedToRemoveRemote")}: ${t}`)}finally{M(!1)}})(e.id),u(s,()=>i("common.remove")),g(e=>{var t=Ni,i=q(),n=Bi,r=q(),o=Oi;return t!==e.e&&p(l,e.e=t),i!==e.t&&(d.disabled=e.t=i),n!==e.a&&p(d,e.a=n),r!==e.o&&(s.disabled=e.o=r),o!==e.i&&p(s,e.i=o),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),n;var t,n,r,o,a,l,d,s}})),g(()=>p(e,wi)),e}}),r),u(a,()=>i("settings.addNewRemote")),l.addEventListener("submit",ee),u(s,()=>i("settings.remoteName")),m.$$input=e=>f(e.target.value),u(k,()=>i("settings.repositoryUrl")),T.$$input=e=>x(e.target.value),u(E,()=>i("settings.personalAccessToken")),L.$$input=e=>C(e.target.value),u(P,()=>i("settings.tokenHint")),u(I,()=>i("settings.addRemote")),g(t=>{var o=yi,a=Pi,s=Ri,c=Ti,u=ji,v=i("settings.remoteNamePlaceholder")||"origin",h=ji,g=i("settings.repositoryUrlPlaceholder")||"https://github.com/user/repo.git",_=ji,b=i("settings.tokenPlaceholder")||"ghp_...",f=Pi,S=Li,x=q();return o!==t.e&&p(e,t.e=o),a!==t.t&&p(n,t.t=a),s!==t.a&&p(r,t.a=s),c!==t.o&&p(l,t.o=c),u!==t.i&&p(d,t.i=u),v!==t.n&&y(m,"placeholder",t.n=v),h!==t.s&&p(w,t.s=h),g!==t.h&&y(T,"placeholder",t.h=g),_!==t.r&&p(j,t.r=_),b!==t.d&&y(L,"placeholder",t.d=b),f!==t.l&&p(P,t.l=f),S!==t.u&&p(I,t.u=S),x!==t.c&&(I.disabled=t.c=x),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),g(()=>m.value=b()),g(()=>T.value=S()),g(()=>L.value=$()),e}}),null),g(e=>{var t=mi,i=bi,r=fi,o=Ci,a="members"===n()?ki:"",l="personal"===n()?ki:"",d="workspace"===n()?ki:"";return t!==e.e&&p(te,e.e=t),i!==e.t&&p(ie,e.t=i),r!==e.a&&p(re,e.a=r),o!==e.o&&p(oe,e.o=o),a!==e.i&&p(ae,e.i=a),l!==e.n&&p(le,e.n=l),d!==e.s&&p(de,e.s=d),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),te;var te,ie,ne,re,oe,ae,le,de}s(["click","input"]);const tn="_overlay_s4zcj_1",nn="_modal_s4zcj_15",rn="_header_s4zcj_36",on="_content_s4zcj_51",an="_step_s4zcj_55",ln="_formGroup_s4zcj_61",dn="_hint_s4zcj_86",sn="_illustration_s4zcj_92",cn="_primaryButton_s4zcj_98",un="_secondaryButton_s4zcj_121",vn="_actions_s4zcj_136",hn="_error_s4zcj_152",gn="_footer_s4zcj_161",pn="_progress_s4zcj_167",_n="_dot_s4zcj_172",mn="_active_s4zcj_179",bn="_gitForm_s4zcj_184";var fn=c("<div>"),yn=c("<div><h3></h3><div><label></label><input type=text disabled><p></p></div><button>"),wn=c("<div><h3></h3><p></p><div>üë•</div><button>"),Sn=c("<div><h3></h3><p></p><form><div><label></label><input type=url></div><div><label></label><input type=password></div><div><button type=button></button><button type=submit>"),xn=c("<div><div><header><h2></h2><p></p></header><div></div><div><div><div></div><div></div><div>");function $n(e){const{t:i}=L(),[n,r]=t(S(()=>{var t;return(null==(t=e.user.onboarding)?void 0:t.step)||"name"})),[a,l]=t(!1),[d,s]=t(null),[c,h]=t(S(()=>{var t,i;return(null==(i=null==(t=e.user.memberships)?void 0:t[0])?void 0:i.organization_name)||""})),[b,f]=t(""),[w,x]=t(""),$=async(t,i={})=>{let n=t;t.startsWith("/api/")&&!t.startsWith("/api/auth/")&&(n=`/api/${e.user.organization_id}${t.substring(4)}`);return await fetch(n,{...i,headers:{...i.headers,Authorization:`Bearer ${e.token}`}})},C=async(t,i=!1)=>{try{l(!0),s(null);if(!(await $("/api/onboarding",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({state:{completed:i,step:t,updated_at:(new Date).toISOString()}})})).ok)throw new Error("Failed to update onboarding state");i?e.onComplete():r(t)}catch(n){s("Error: "+n)}finally{l(!1)}},k=()=>{C("done",!0)},T=async e=>{e.preventDefault();try{l(!0);if(!(await $("/api/settings/git/remotes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:"origin",url:b(),token:w(),type:"custom",auth_type:w()?"token":"none"})})).ok)throw new Error("Failed to setup git remote");C("done",!0)}catch(t){s("Git setup failed: "+t)}finally{l(!1)}};return j=xn(),E=j.firstChild,P=E.firstChild,I=P.firstChild,D=I.nextSibling,z=P.nextSibling,R=z.nextSibling,N=R.firstChild,B=N.firstChild,O=B.nextSibling,A=O.nextSibling,u(I,()=>i("onboarding.welcome")),u(D,()=>i("onboarding.letsGetStarted")),u(E,o(v,{get when(){return d()},get children(){var e=fn();return u(e,d),g(()=>p(e,hn)),e}}),z),u(z,o(v,{get when(){return"name"===n()},get children(){var e=yn(),t=e.firstChild,n=t.nextSibling,r=n.firstChild,o=r.nextSibling,a=o.nextSibling,l=n.nextSibling;return u(t,()=>i("onboarding.confirmWorkspaceName")),u(r,()=>i("onboarding.workspaceName")),o.$$input=e=>h(e.target.value),u(a,()=>i("onboarding.workspaceNameHint")),l.$$click=()=>C("members"),u(l,()=>i("onboarding.nextInviteTeam")),g(t=>{var i=an,r=ln,o=dn,d=cn;return i!==t.e&&p(e,t.e=i),r!==t.t&&p(n,t.t=r),o!==t.a&&p(a,t.a=o),d!==t.o&&p(l,t.o=d),t},{e:void 0,t:void 0,a:void 0,o:void 0}),g(()=>o.value=c()),e}}),null),u(z,o(v,{get when(){return"members"===n()},get children(){var e=wn(),t=e.firstChild,n=t.nextSibling,r=n.nextSibling,o=r.nextSibling;return u(t,()=>i("onboarding.teamCollaboration")),u(n,()=>i("onboarding.teamCollaborationHint")),o.$$click=()=>C("git"),u(o,()=>i("onboarding.nextGitSync")),g(t=>{var i=an,n=sn,a=cn;return i!==t.e&&p(e,t.e=i),n!==t.t&&p(r,t.t=n),a!==t.a&&p(o,t.a=a),t},{e:void 0,t:void 0,a:void 0}),e}}),null),u(z,o(v,{get when(){return"git"===n()},get children(){var e,t=Sn(),n=t.firstChild,r=n.nextSibling,o=r.nextSibling,l=o.firstChild,d=l.firstChild,s=d.nextSibling,c=l.nextSibling,v=c.firstChild,h=v.nextSibling,m=c.nextSibling,S=m.firstChild,$=S.nextSibling;return u(n,()=>i("onboarding.advancedSyncTitle")),u(r,()=>i("onboarding.advancedSyncHint")),o.addEventListener("submit",T),u(d,()=>i("onboarding.repoUrl")),s.$$input=e=>f(e.target.value),u(v,()=>i("onboarding.patLabel")),h.$$input=e=>x(e.target.value),S.$$click=k,u(S,()=>i("onboarding.skipForNow")),u($,(e=_(()=>!!a()),()=>e()?i("common.saving"):i("onboarding.setupAndFinish"))),g(e=>{var n=an,r=bn,d=ln,u=i("onboarding.repoUrlPlaceholder")||"https://github.com/user/repo.git",v=ln,g=i("onboarding.patPlaceholder")||"ghp_...",_=vn,f=un,w=cn,x=!b()||a();return n!==e.e&&p(t,e.e=n),r!==e.t&&p(o,e.t=r),d!==e.a&&p(l,e.a=d),u!==e.o&&y(s,"placeholder",e.o=u),v!==e.i&&p(c,e.i=v),g!==e.n&&y(h,"placeholder",e.n=g),_!==e.s&&p(m,e.s=_),f!==e.h&&p(S,e.h=f),w!==e.r&&p($,e.r=w),x!==e.d&&($.disabled=e.d=x),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),g(()=>s.value=b()),g(()=>h.value=w()),t}}),null),g(e=>{var t=tn,i=nn,r=rn,o=on,a=gn,l=pn,d={[_n]:!0,[mn]:"name"===n()},s={[_n]:!0,[mn]:"members"===n()},c={[_n]:!0,[mn]:"git"===n()};return t!==e.e&&p(j,e.e=t),i!==e.t&&p(E,e.t=i),r!==e.a&&p(P,e.a=r),o!==e.o&&p(z,e.o=o),a!==e.i&&p(R,e.i=a),l!==e.n&&p(N,e.n=l),e.s=m(B,d,e.s),e.h=m(O,s,e.h),e.r=m(A,c,e.r),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),j;var j,E,P,I,D,z,R,N,B,O,A}s(["input","click"]);const Cn="_authContainer_2kal9_1",kn="_authForm_2kal9_9",Tn="_formGroup_2kal9_25",jn="_error_2kal9_63",En="_toggle_2kal9_72",Ln="_authFooter_2kal9_94",Pn="_oauthSection_2kal9_112",In="_divider_2kal9_116",Dn="_oauthButtons_2kal9_135",zn="_googleButton_2kal9_141",Rn="_microsoftButton_2kal9_142";var Nn=c("<div><label for=name></label><input id=name name=name type=text required autocomplete=name>"),Bn=c("<div><form><h2></h2><div><label for=email></label><input id=email name=email type=email required autocomplete=email></div><div><label for=password></label><input id=password name=password type=password required></div><button type=submit></button><div><div><span></span></div><div><a href=/api/auth/oauth/google></a><a href=/api/auth/oauth/microsoft></a></div></div><p><button type=button></button></p><div><a href=/privacy>"),On=c("<div>");function An(e){const{t:i}=L(),[n,r]=t(!1),[a,l]=t(""),[d,s]=t(""),[c,h]=t(""),[m,b]=t(null),[f,w]=t(!1),S=async t=>{var i;t.preventDefault(),b(null),w(!0);const r=n()?"/api/auth/register":"/api/auth/login",o=n()?{email:a(),password:d(),name:c()}:{email:a(),password:d()};try{const t=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),n=await t.json();if(!t.ok){return void b((null==(i=n.error)?void 0:i.message)||"Authentication failed")}n.token&&n.user?e.onLogin(n.token,n.user):b("Invalid response from server")}catch{b("An error occurred. Please try again.")}finally{w(!1)}};return j=Bn(),E=j.firstChild,P=E.firstChild,I=P.nextSibling,D=I.firstChild,z=D.nextSibling,R=I.nextSibling,N=R.firstChild,B=N.nextSibling,O=R.nextSibling,A=O.nextSibling,W=A.firstChild,H=W.firstChild,U=W.nextSibling,q=U.firstChild,M=q.nextSibling,F=A.nextSibling,J=F.firstChild,G=F.nextSibling,V=G.firstChild,E.addEventListener("submit",S),u(P,(x=_(()=>!!n()),()=>x()?i("auth.createAccount"):i("auth.loginTitle"))),u(E,($=_(()=>!!m()),()=>{return $()&&(e=On(),u(e,m),g(()=>p(e,jn)),e);var e}),I),u(E,o(v,{get when(){return n()},get children(){var e=Nn(),t=e.firstChild,n=t.nextSibling;return u(t,()=>i("auth.name")),n.$$input=e=>h(e.target.value),g(()=>p(e,Tn)),g(()=>n.value=c()),e}}),I),u(D,()=>i("auth.email")),z.$$input=e=>l(e.target.value),u(N,()=>i("auth.password")),B.$$input=e=>s(e.target.value),u(O,(C=_(()=>!!f()),()=>C()?i("auth.pleaseWait"):_(()=>!!n())()?i("auth.register"):i("auth.login"))),u(H,()=>i("auth.or")),u(q,()=>i("auth.loginWithGoogle")),u(M,()=>i("auth.loginWithMicrosoft")),u(F,(k=_(()=>!!n()),()=>k()?i("auth.alreadyHaveAccount"):i("auth.dontHaveAccount")),J),J.$$click=()=>r(!n()),u(J,(T=_(()=>!!n()),()=>T()?i("auth.login"):i("auth.register"))),V.$$click=e=>{e.preventDefault(),window.history.pushState(null,"","/privacy"),window.dispatchEvent(new PopStateEvent("popstate"))},u(V,()=>i("app.privacyPolicy")),g(e=>{var t=Cn,i=kn,r=Tn,o=Tn,a=n()?"new-password":"current-password",l=f(),d=Pn,s=In,c=Dn,u=zn,v=Rn,h=En,g=Ln;return t!==e.e&&p(j,e.e=t),i!==e.t&&p(E,e.t=i),r!==e.a&&p(I,e.a=r),o!==e.o&&p(R,e.o=o),a!==e.i&&y(B,"autocomplete",e.i=a),l!==e.n&&(O.disabled=e.n=l),d!==e.s&&p(A,e.s=d),s!==e.h&&p(W,e.h=s),c!==e.r&&p(U,e.r=c),u!==e.d&&p(q,e.d=u),v!==e.l&&p(M,e.l=v),h!==e.u&&p(F,e.u=h),g!==e.c&&p(G,e.c=g),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0}),g(()=>z.value=a()),g(()=>B.value=d()),j;var x,$,C,k,T,j,E,P,I,D,z,R,N,B,O,A,W,H,U,q,M,F,J,G,V}s(["input","click"]);const Wn="_container_1lj5r_1",Hn="_content_1lj5r_10",Un="_header_1lj5r_20",qn="_section_1lj5r_37",Mn="_footer_1lj5r_51",Fn="_backButton_1lj5r_59";var Jn=c("<div><div><header><h1>Privacy Policy</h1><p>Last updated: January 18, 2026</p></header><section><h2>1. Introduction</h2><p>Welcome to mddb. We are committed to protecting your personal information and your right to privacy. If you have any questions or concerns about our policy, or our practices with regards to your personal information, please contact us.</p></section><section><h2>2. Information We Collect</h2><p>We collect personal information that you voluntarily provide to us when registering at the mddb Express interest in obtaining information about us or our products and services, when participating in activities on the mddb or otherwise contacting us.</p><p>The personal information that we collect depends on the context of your interactions with us and the mddb, the choices you make and the products and features you use.</p></section><section><h2>3. How We Use Your Information</h2><p>We use personal information collected via our mddb for a variety of business purposes described below. We process your personal information for these purposes in reliance on our legitimate business interests, in order to enter into or perform a contract with you, with your consent, and/or for compliance with our legal obligations.</p></section><section><h2>4. Your Data, Your Control</h2><p>mddb is designed to be local-first and markdown-based. Your documents and databases are stored in the location you specify. If you use a hosted version, the provider has access to your data.</p></section><footer><button>Go Back");function Gn(){return e=Jn(),t=e.firstChild,i=t.firstChild,n=i.nextSibling,r=n.nextSibling,o=r.nextSibling,a=o.nextSibling,l=a.nextSibling,(d=l.firstChild).$$click=()=>window.history.back(),g(s=>{var c=Wn,u=Hn,v=Un,h=qn,g=qn,_=qn,m=qn,b=Mn,f=Fn;return c!==s.e&&p(e,s.e=c),u!==s.t&&p(t,s.t=u),v!==s.a&&p(i,s.a=v),h!==s.o&&p(n,s.o=h),g!==s.i&&p(r,s.i=g),_!==s.n&&p(o,s.n=_),m!==s.s&&p(a,s.s=m),b!==s.h&&p(l,s.h=b),f!==s.r&&p(d,s.r=f),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),e;var e,t,i,n,r,o,a,l,d}s(["click"]);const Vn="_container_1lj5r_1",Yn="_content_1lj5r_10",Kn="_header_1lj5r_20",Zn="_section_1lj5r_37",Qn="_footer_1lj5r_51",Xn="_backButton_1lj5r_59";var er=c("<div><div><header><h1>Terms of Service</h1><p>Last updated: January 18, 2026</p></header><section><h2>1. Agreement to Terms</h2><p>By accessing our service, you agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our service.</p></section><section><h2>2. Intellectual Property Rights</h2><p>Unless otherwise indicated, the Site is our proprietary property and all source code, databases, functionality, software, website designs, audio, video, text, photographs, and graphics on the Site (collectively, the ‚ÄúContent‚Äù) and the trademarks, service marks, and logos contained therein (the ‚ÄúMarks‚Äù) are owned or controlled by us or licensed to us.</p></section><section><h2>3. User Representations</h2><p>By using the Site, you represent and warrant that: (1) all registration information you submit will be true, accurate, current, and complete; (2) you will maintain the accuracy of such information and promptly update such registration information as necessary.</p></section><section><h2>4. Prohibited Activities</h2><p>You may not access or use the Site for any purpose other than that for which we make the Site available. The Site may not be used in connection with any commercial endeavors except those that are specifically endorsed or approved by us.</p></section><section><h2>5. Limitation of Liability</h2><p>In no event will we or our directors, employees, or agents be liable to you or any third party for any direct, indirect, consequential, exemplary, incidental, special, or punitive damages, including lost profit, lost revenue, loss of data, or other damages arising from your use of the site.</p></section><footer><button>Go Back");function tr(){return e=er(),t=e.firstChild,i=t.firstChild,n=i.nextSibling,r=n.nextSibling,o=r.nextSibling,a=o.nextSibling,l=a.nextSibling,d=l.nextSibling,(s=d.firstChild).$$click=()=>window.history.back(),g(c=>{var u=Vn,v=Yn,h=Kn,g=Zn,_=Zn,m=Zn,b=Zn,f=Zn,y=Qn,w=Xn;return u!==c.e&&p(e,c.e=u),v!==c.t&&p(t,c.t=v),h!==c.a&&p(i,c.a=h),g!==c.o&&p(n,c.o=g),_!==c.i&&p(r,c.i=_),m!==c.n&&p(o,c.n=m),b!==c.s&&p(a,c.s=b),f!==c.h&&p(l,c.h=f),y!==c.r&&p(d,c.r=y),w!==c.d&&p(s,c.d=w),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),e;var e,t,i,n,r,o,a,l,d,s}s(["click"]);var ir=c("<select>"),nr=c("<span>"),rr=c("<p>"),or=c("<nav>"),ar=c("<div>"),lr=c("<span>‚óè "),dr=c("<span>‚ü≥ "),sr=c("<span>‚úì "),cr=c("<li>"),ur=c("<div><h3></h3><ul>"),vr=c("<div><textarea>"),hr=c("<div><div><h3></h3><div><button></button><button></button><button></button><button>"),gr=c("<div><div><input type=text><div></div><div><button></button><button></button><button></button></div></div><div>"),pr=c('<div><header><div><h1></h1><p></p></div><div><span> (<!>)</span><button></button></div></header><div><aside><div><h2></h2><div><button>‚öô</button><button>+P</button><button>+D</button></div></div><ul></ul><div><a href=/privacy></a><span style="margin:0 0.5rem;color:#ccc">|</span><a href=/terms></a></div></aside><main>'),_r=c("<option>"),mr=c("<span>/"),br=c("<div><h2></h2><p></p><div><input type=text><div><button></button><button>"),fr=c("<li><div><span></span><span></span></div><div>");const yr=e=>e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-");function wr(){const{t:e,locale:i,setLocale:n}=L(),[r,a]=t(null),[l,d]=t(localStorage.getItem("mddb_token")),[s,c]=t([]),[b,f]=t([]),[S,C]=t(null),[k,T]=t(!1),[j,E]=t(!1),[F,ae]=t(!1),[he,ge]=t("table"),[pe,_e]=t(""),[me,be]=t(""),[Le,Pe]=t(!1),[De,ze]=t(null),[Re,Ne]=t(!1),[Oe,Ae]=t("idle"),[We,He]=t(!1),[Ue,qe]=t([]),[Me,Fe]=t(!1),Je=async(t,i={})=>{var n;let o=t;if(t.startsWith("/api/")&&!t.startsWith("/api/auth/")&&!t.startsWith("/api/health")){const e=null==(n=r())?void 0:n.organization_id;e&&(o=`/api/${e}${t.substring(4)}`)}const a={...i.headers,Authorization:`Bearer ${l()}`},d=await fetch(o,{...i,headers:a});if(401===d.status)throw Ge(),new Error(e("errors.sessionExpired")||"Session expired");return d},Ge=()=>{localStorage.removeItem("mddb_token"),d(null),a(null),window.history.pushState(null,"","/")},Ve=(e,t)=>{localStorage.setItem("mddb_token",e),d(e),a(t)};async function Ye(t,i=!0){try{Pe(!0);const e=await Je("/api/auth/switch-org",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({org_id:t})}),n=await e.json();Ve(n.token,n.user),C(null),i&&window.history.pushState(null,"","/"),await Qe()}catch(n){throw ze(`${e("errors.failedToSwitch")}: ${n}`),n}finally{Pe(!1)}}const Ke=function(e,t){let i=null;return(...n)=>{null!==i&&clearTimeout(i),i=setTimeout(()=>{e(...n),i=null},t)}}(async()=>{var t;const i=S();if(i&&Re())try{Ae("saving"),await Je(`/api/pages/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:pe(),content:me()})}),Ne(!1),Ae("saved");const e=yr(pe()),n=null==(t=r())?void 0:t.organization_id;if(n){const t=window.location.pathname,r=`/${n}/${i}${e?"-"+e:""}`;t!==r&&window.history.replaceState(null,"",r)}setTimeout(()=>{"saved"===Oe()&&Ae("idle")},2e3)}catch(n){ze(`${e("errors.autoSaveFailed")}: ${n}`),Ae("idle")}},2e3);w(()=>{var e;const t=r(),o=null==(e=null==t?void 0:t.settings)?void 0:e.language;o&&["en","fr","de","es"].includes(o)&&o!==i()&&(n(o),localStorage.setItem("mddb_locale",o))}),w(()=>{const e=new URLSearchParams(window.location.search).get("token");e&&(localStorage.setItem("mddb_token",e),d(e),window.history.replaceState({},document.title,window.location.pathname));const t=l(),i=r();if(t&&!i){(async()=>{try{const e=await Je("/api/auth/me");if(e.ok){const t=await e.json();a(t)}}catch(e){console.error("Failed to load user",e)}})()}});const Ze=async()=>{var t,i,n;const o=window.location.pathname;if("/privacy"===o)return E(!0),void ae(!1);if("/terms"===o)return ae(!0),void E(!1);E(!1),ae(!1);const a=o.match(/^\/([^/]+)\/([a-zA-Z0-9_-]+)(?:-.*)?$/);if(a){const o=a[1],l=a[2];if(r()&&(null==(t=r())?void 0:t.organization_id)!==o)try{if(!(null==(n=null==(i=r())?void 0:i.memberships)?void 0:n.some(e=>e.organization_id===o)))return void ze(e("errors.noAccessToOrg")||"You do not have access to this organization");await Ye(o,!1)}catch{return}return void(l!==S()&&Xe(l,!1))}C(null),_e(""),be("")};async function Qe(){var t;try{Pe(!0);const e=await Je("/api/nodes"),i=await e.json();c((null==(t=i.nodes)?void 0:t.filter(Boolean))||[]),ze(null)}catch(i){ze(`${e("errors.failedToLoad")}: ${i}`)}finally{Pe(!1)}}async function Xe(t,i=!0){var n;try{Pe(!0),He(!1);const e=await Je(`/api/nodes/${t}`);if(!e.ok)throw new Error("Node not found");const o=await e.json();C(o.id),_e(o.title),be(o.content||""),Ne(!1),Ae("idle"),ze(null);const a=yr(o.title),l=null==(n=r())?void 0:n.organization_id;if(l){const e=`/${l}/${o.id}${a?"-"+a:""}`;i?window.location.pathname!==e&&window.history.pushState(null,"",e):window.location.pathname!==e&&window.history.replaceState(null,"",e)}if("database"===o.type||"hybrid"===o.type){const e=await Je(`/api/databases/${t}/records?offset=0&limit=50`),i=(await e.json()).records||[];f(i),Fe(50===i.length)}else f([]),Fe(!1)}catch(o){ze(`${e("errors.failedToLoad")}: ${o}`)}finally{Pe(!1)}}async function et(t="document"){if(pe().trim())try{Pe(!0);const e=await Je("/api/nodes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:pe(),type:t})}),i=await e.json();await Qe(),Xe(i.id),_e(""),be(""),Ne(!1),Ae("idle"),ze(null)}catch(i){ze(`${e("errors.failedToCreate")}: ${i}`)}finally{Pe(!1)}else ze(e("errors.titleRequired")||"Title is required")}async function tt(){var t;const i=S();if(i)try{Pe(!0),await Je(`/api/pages/${i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:pe(),content:me()})}),await Qe(),Ne(!1),Ae("idle"),ze(null);const e=yr(pe()),n=window.location.pathname,o=null==(t=r())?void 0:t.organization_id;if(o){const t=`/${o}/${i}${e?"-"+e:""}`;n!==t&&window.history.replaceState(null,"",t)}}catch(n){ze(`${e("errors.failedToSave")}: ${n}`)}finally{Pe(!1)}}async function it(){const t=S();if(t&&confirm(e("database.confirmDeleteRecord")||"Delete this record?"))try{Pe(!0),await Je(`/api/pages/${t}`,{method:"DELETE"}),await Qe(),C(null),_e(""),be(""),Ne(!1),Ae("idle"),ze(null),window.history.pushState(null,"","/")}catch(i){ze(`${e("errors.failedToDelete")}: ${i}`)}finally{Pe(!1)}}x(()=>{window.addEventListener("popstate",Ze),$(()=>window.removeEventListener("popstate",Ze))}),w(()=>{r()?(Qe(),Ze()):Ze()});const nt=e=>{Xe(e.id)};async function rt(t){const i=S();if(i)try{Pe(!0);if(!(await Je(`/api/databases/${i}/records`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})})).ok)return void ze(e("errors.failedToCreate")||"Failed to create record");Xe(i),ze(null)}catch(n){ze(`${e("errors.failedToCreate")}: ${n}`)}finally{Pe(!1)}}async function ot(t){const i=S();if(i&&confirm(e("database.confirmDeleteRecord")||"Delete this record?"))try{Pe(!0),await Je(`/api/databases/${i}/records/${t}`,{method:"DELETE"}),Xe(i),ze(null)}catch(n){ze(`${e("errors.failedToDelete")}: ${n}`)}finally{Pe(!1)}}async function at(){const t=S();if(t&&!Le())try{Pe(!0);const e=b().length,i=await Je(`/api/databases/${t}/records?offset=${e}&limit=50`),n=(await i.json()).records||[];f([...b(),...n]),Fe(50===n.length)}catch(i){ze(`${e("errors.failedToLoad")}: ${i}`)}finally{Pe(!1)}}return o(v,{get when(){return!j()},get fallback(){return o(Gn,{})},get children(){return o(v,{get when(){return!F()},get fallback(){return o(tr,{})},get children(){return o(v,{get when(){return r()},get fallback(){return o(An,{onLogin:Ve})},get children(){return[o(v,{get when(){var e,t;return _(()=>{var e;return"admin"===(null==(e=r())?void 0:e.role)})()&&!(null==(t=null==(e=r())?void 0:e.onboarding)?void 0:t.completed)},get children(){return o($n,{get user(){return r()},get token(){return l()},onComplete:()=>{(async()=>{const e=await Je("/api/auth/me");if(e.ok){const t=await e.json();a(t)}})()}})}}),(()=>{var t=pr(),i=t.firstChild,n=i.firstChild,a=n.firstChild,d=a.nextSibling,c=n.nextSibling,f=c.firstChild,w=f.firstChild,x=w.nextSibling;x.nextSibling;var $=f.nextSibling,j=i.nextSibling,E=j.firstChild,L=E.firstChild,F=L.firstChild,ae=F.nextSibling,Ae=ae.firstChild,Fe=Ae.nextSibling,Ve=Fe.nextSibling,Ze=L.nextSibling,Qe=Ze.nextSibling,Xe=Qe.firstChild,lt=Xe.nextSibling.nextSibling,dt=E.nextSibling;return u(a,()=>e("app.title")),u(d,()=>e("app.tagline")),u(c,o(v,{get when(){var e,t;return((null==(t=null==(e=r())?void 0:e.memberships)?void 0:t.length)??0)>1},get children(){var e=ir();return e.addEventListener("change",e=>Ye(e.target.value)),u(e,o(h,{get each(){var e;return null==(e=r())?void 0:e.memberships},children:e=>{return t=_r(),u(t,()=>e.organization_name||e.organization_id),g(()=>t.value=e.organization_id),t;var t}})),g(()=>p(e,N)),g(()=>{var t;return e.value=null==(t=r())?void 0:t.organization_id}),e}}),f),u(c,o(v,{get when(){var e,t;return 1===(null==(t=null==(e=r())?void 0:e.memberships)?void 0:t.length)},get children(){var t=nr();return u(t,()=>{var t,i,n;return(null==(n=null==(i=null==(t=r())?void 0:t.memberships)?void 0:i[0])?void 0:n.organization_name)||e("app.myOrg")}),g(()=>p(t,B)),t}}),f),u(f,()=>{var e;return null==(e=r())?void 0:e.name},w),u(f,()=>{var e;return null==(e=r())?void 0:e.role},x),$.$$click=Ge,u($,()=>e("app.logout")),u(F,()=>e("app.workspace")),Ae.$$click=()=>{T(!0),C(null)},Fe.$$click=()=>{T(!1),et("document")},Ve.$$click=()=>{T(!1),et("database")},u(E,o(v,{get when(){return _(()=>!!Le())()&&0===s().length},fallback:null,get children(){var t=rr();return u(t,()=>e("common.loading")),g(()=>p(t,U)),t}}),Ze),u(Ze,o(h,{get each(){return s()},children:e=>o(Ie,{node:e,get selectedId(){return S()},onSelect:nt,depth:0})})),Xe.$$click=e=>{e.preventDefault(),window.history.pushState(null,"","/privacy"),window.dispatchEvent(new PopStateEvent("popstate"))},u(Xe,()=>e("app.privacyPolicy")),lt.$$click=e=>{e.preventDefault(),window.history.pushState(null,"","/terms"),window.dispatchEvent(new PopStateEvent("popstate"))},u(lt,()=>e("app.terms")),u(dt,o(v,{get when(){return _(()=>!(!k()||!r()))()&&l()},get children(){return o(en,{get user(){return r()},get token(){return l()},onClose:()=>T(!1)})}}),null),u(dt,o(v,{get when(){return!k()},get children(){return[o(v,{get when(){return S()},get children(){var e=or();return u(e,o(h,{get each(){return(e=>{if(!e)return[];const t=[],i=(e,n)=>{for(const r of e){if(r.id===n)return t.push(r),!0;if(r.children&&i(r.children,n))return t.unshift(r),!0}return!1};return i(s(),e),t})(S())},children:(e,t)=>{return[o(v,{get when(){return t()>0},get children(){var e=mr();return g(()=>p(e,we)),e}}),(i=nr(),i.$$click=()=>nt(e),u(i,()=>e.title),g(()=>p(i,ye)),i)];var i}})),g(()=>p(e,fe)),e}}),o(v,{get when(){return De()},fallback:null,get children(){var e=ar();return u(e,De),g(()=>p(e,G)),e}}),o(v,{get when(){return S()},get fallback(){return t=br(),i=t.firstChild,n=i.nextSibling,r=n.nextSibling,o=r.firstChild,a=o.nextSibling,l=a.firstChild,d=l.nextSibling,u(i,()=>e("welcome.title")),u(n,()=>e("welcome.subtitle")),o.$$input=e=>_e(e.target.value),l.$$click=()=>et("document"),u(l,()=>e("welcome.createPage")),d.$$click=()=>et("database"),u(d,()=>e("welcome.createDatabase")),g(i=>{var n=V,s=Y,c=e("editor.titlePlaceholder")||"Title",u=ie,v=le,h=re,g=re;return n!==i.e&&p(t,i.e=n),s!==i.t&&p(r,i.t=s),c!==i.a&&y(o,"placeholder",i.a=c),u!==i.o&&p(o,i.o=u),v!==i.i&&p(a,i.i=v),h!==i.n&&p(l,i.n=h),g!==i.s&&p(d,i.s=g),i},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),g(()=>o.value=pe()),t;var t,i,n,r,o,a,l,d},get children(){var t,i,n=gr(),a=n.firstChild,l=a.firstChild,d=l.nextSibling,c=d.nextSibling,f=c.firstChild,w=f.nextSibling,x=w.nextSibling,$=a.nextSibling;return l.$$input=e=>{_e(e.target.value),Ne(!0),Ke()},u(d,o(v,{get when(){return Re()},get children(){var t=lr();return t.firstChild,u(t,()=>e("editor.unsaved"),null),g(()=>p(t,X)),t}}),null),u(d,o(v,{get when(){return"saving"===Oe()},get children(){var t=dr();return t.firstChild,u(t,()=>e("common.saving"),null),g(()=>p(t,ee)),t}}),null),u(d,o(v,{get when(){return"saved"===Oe()},get children(){var t=sr();return t.firstChild,u(t,()=>e("common.saved"),null),g(()=>p(t,te)),t}}),null),f.$$click=()=>{const t=S();t&&async function(t){var i;if(We())He(!1);else try{Pe(!0);const e=await Je(`/api/pages/${t}/history`),n=await e.json();qe((null==(i=n.history)?void 0:i.filter(Boolean))||[]),He(!0)}catch(n){ze(`${e("errors.failedToLoad")}: ${n}`)}finally{Pe(!1)}}(t)},u(f,(t=_(()=>!!We()),()=>t()?e("editor.hideHistory"):e("editor.history"))),w.$$click=tt,u(w,(i=_(()=>!!Le()),()=>i()?e("common.saving"):e("common.save"))),x.$$click=it,u(x,()=>e("common.delete")),u(n,o(v,{get when(){return We()},get children(){var t=ur(),i=t.firstChild,n=i.nextSibling;return u(i,()=>e("editor.versionHistory")),u(n,o(h,{get each(){return Ue()},children:t=>{return i=fr(),n=i.firstChild,r=n.firstChild,o=r.nextSibling,a=n.nextSibling,i.$$click=()=>{const i=S();i&&async function(t,i){if(confirm(e("editor.restoreConfirm")||"This will replace current editor content. Continue?"))try{Pe(!0);const e=await Je(`/api/pages/${t}/history/${i}`),n=await e.json();be(n.content),Ne(!0),He(!1)}catch(n){ze(`${e("errors.failedToLoad")}: ${n}`)}finally{Pe(!1)}}(i,t.hash)},u(r,()=>new Date(t.timestamp).toLocaleString()),u(o,()=>t.hash.substring(0,7)),u(a,()=>t.message),g(e=>{var t=Ce,l=ke,d=Te,s=je,c=Ee;return t!==e.e&&p(i,e.e=t),l!==e.t&&p(n,e.t=l),d!==e.a&&p(r,e.a=d),s!==e.o&&p(o,e.o=s),c!==e.i&&p(a,e.i=c),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),i;var i,n,r,o,a}}),null),u(n,o(v,{get when(){return 0===Ue().length},get children(){var t=cr();return u(t,()=>e("editor.noHistory")),g(()=>p(t,Ce)),t}}),null),g(e=>{var i=xe,r=$e;return i!==e.e&&p(t,e.e=i),r!==e.t&&p(n,e.t=r),e},{e:void 0,t:void 0}),t}}),$),u($,o(v,{get when(){var e;return"database"!==(null==(e=s().find(e=>e.id===S()))?void 0:e.type)},get children(){var t=vr(),i=t.firstChild;return i.$$input=e=>{be(e.target.value),Ne(!0),Ke()},u(t,o(Be,{get content(){return me()},get orgId(){var e;return null==(e=r())?void 0:e.organization_id}}),null),g(n=>{var r=se,o=e("editor.contentPlaceholder")||"Write your content in markdown...",a=Se;return r!==n.e&&p(t,n.e=r),o!==n.t&&y(i,"placeholder",n.t=o),a!==n.a&&p(i,n.a=a),n},{e:void 0,t:void 0,a:void 0}),g(()=>i.value=me()),t}}),null),u($,o(v,{get when(){var e;return"document"!==(null==(e=s().find(e=>e.id===S()))?void 0:e.type)},get children(){var t=hr(),i=t.firstChild,n=i.firstChild,r=n.nextSibling,a=r.firstChild,l=a.nextSibling,d=l.nextSibling,c=d.nextSibling;return u(n,()=>e("database.records")),a.$$click=()=>ge("table"),u(a,()=>e("database.table")),l.$$click=()=>ge("grid"),u(l,()=>e("database.grid")),d.$$click=()=>ge("gallery"),u(d,()=>e("database.gallery")),c.$$click=()=>ge("board"),u(c,()=>e("database.board")),u(t,o(v,{get when(){return"table"===he()},get children(){return o(wt,{get databaseId(){return S()||""},get columns(){var e;return(null==(e=s().find(e=>e.id===S()))?void 0:e.columns)||[]},get records(){return b()},onAddRecord:rt,onDeleteRecord:ot,onLoadMore:at,get hasMore(){return Me()}})}}),null),u(t,o(v,{get when(){return"grid"===he()},get children(){return o(Dt,{get records(){return b()},get columns(){var e;return(null==(e=s().find(e=>e.id===S()))?void 0:e.columns)||[]},onDeleteRecord:ot})}}),null),u(t,o(v,{get when(){return"gallery"===he()},get children(){return o(Kt,{get records(){return b()},get columns(){var e;return(null==(e=s().find(e=>e.id===S()))?void 0:e.columns)||[]},onDeleteRecord:ot})}}),null),u(t,o(v,{get when(){return"board"===he()},get children(){return o(_i,{get records(){return b()},get columns(){var e;return(null==(e=s().find(e=>e.id===S()))?void 0:e.columns)||[]},onDeleteRecord:ot})}}),null),g(e=>{var n=ce,o=ue,s=ve,u={[`${W}`]:"table"===he()},v={[`${W}`]:"grid"===he()},h={[`${W}`]:"gallery"===he()},g={[`${W}`]:"board"===he()};return n!==e.e&&p(t,e.e=n),o!==e.t&&p(i,e.t=o),s!==e.a&&p(r,e.a=s),e.o=m(a,u,e.o),e.i=m(l,v,e.i),e.n=m(d,h,e.n),e.s=m(c,g,e.s),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),t}}),null),g(t=>{var i=K,r=Z,o=e("editor.titlePlaceholder")||"Title",s=ie,u=Q,v=ne,h=Le(),g=Le(),_=Le(),m=de;return i!==t.e&&p(n,t.e=i),r!==t.t&&p(a,t.t=r),o!==t.a&&y(l,"placeholder",t.a=o),s!==t.o&&p(l,t.o=s),u!==t.i&&p(d,t.i=u),v!==t.n&&p(c,t.n=v),h!==t.s&&(f.disabled=t.s=h),g!==t.h&&(w.disabled=t.h=g),_!==t.r&&(x.disabled=t.r=_),m!==t.d&&p($,t.d=m),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),g(()=>l.value=pe()),n}})]}}),null),g(r=>{var o=P,a=I,l=D,d=z,s=R,u=O,v=A,h=H,g=oe,_=e("app.settings")||"Workspace Settings",m=e("app.newPage")||"New Page",b=e("app.newDatabase")||"New Database",f=q,w=M,S=J;return o!==r.e&&p(t,r.e=o),a!==r.t&&p(i,r.t=a),l!==r.a&&p(n,r.a=l),d!==r.o&&p(c,r.o=d),s!==r.i&&p($,r.i=s),u!==r.n&&p(j,r.n=u),v!==r.s&&p(E,r.s=v),h!==r.h&&p(L,r.h=h),g!==r.r&&p(ae,r.r=g),_!==r.d&&y(Ae,"title",r.d=_),m!==r.l&&y(Fe,"title",r.l=m),b!==r.u&&y(Ve,"title",r.u=b),f!==r.c&&p(Ze,r.c=f),w!==r.w&&p(Qe,r.w=w),S!==r.m&&p(dt,r.m=S),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0,c:void 0,w:void 0,m:void 0}),t})()]}})}})}})}s(["click","input"]);const Sr=localStorage.getItem("mddb_locale"),xr=Sr&&["en","fr","de","es"].includes(Sr)?Sr:"en",$r=document.getElementById("app");$r&&C(()=>o(E,{initialLocale:xr,get children(){return o(wr,{})}}),$r);
