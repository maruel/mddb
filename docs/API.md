# mddb API Reference

<!-- Code generated by go generate; DO NOT EDIT. -->

RESTful JSON API for mddb. Most endpoints require `{orgID}` for data isolation.

## Authentication

Include JWT token in Authorization header: `Authorization: Bearer <token>`

**Roles:** `viewer` (read), `editor` (read/write), `admin` (full), `globalAdmin` (server-wide)

## Health

| Method | Path | Auth |
|--------|------|------|
| * | `/api/health` | public |

## Admin

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/admin/organizations` | globalAdmin |
| GET | `/api/admin/stats` | globalAdmin |
| GET | `/api/admin/users` | globalAdmin |

## Auth

| Method | Path | Auth |
|--------|------|------|
| POST | `/api/auth/invitations/org/accept` | public |
| POST | `/api/auth/invitations/ws/accept` | public |
| POST | `/api/auth/login` | public |
| POST | `/api/auth/logout` | member |
| GET | `/api/auth/me` | member |
| GET | `/api/auth/oauth/{provider}` | public |
| GET | `/api/auth/oauth/{provider}/callback` | public |
| GET | `/api/auth/providers` | public |
| POST | `/api/auth/register` | public |
| GET | `/api/auth/sessions` | member |
| POST | `/api/auth/sessions/revoke` | member |
| POST | `/api/auth/sessions/revoke-all` | member |
| POST | `/api/auth/settings` | member |
| POST | `/api/auth/switch-org` | member |
| POST | `/api/auth/switch-workspace` | member |

## Settings

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/workspaces/{wsID}/settings/git` | wsAdmin |
| POST | `/api/workspaces/{wsID}/settings/git` | wsAdmin |
| POST | `/api/workspaces/{wsID}/settings/git/delete` | wsAdmin |
| POST | `/api/workspaces/{wsID}/settings/git/push` | wsAdmin |
| POST | `/api/workspaces/{wsID}/settings/membership` | wsViewer |

## Users

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/organizations/{orgID}/users` | orgAdmin |
| POST | `/api/organizations/{orgID}/users/role` | orgAdmin |
| POST | `/api/workspaces/{wsID}/users/role` | wsAdmin |

## Invitations

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/organizations/{orgID}/invitations` | orgAdmin |
| POST | `/api/organizations/{orgID}/invitations` | orgAdmin |
| GET | `/api/workspaces/{wsID}/invitations` | wsAdmin |
| POST | `/api/workspaces/{wsID}/invitations` | wsAdmin |

## Nodes

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/workspaces/{wsID}/nodes` | wsViewer |
| POST | `/api/workspaces/{wsID}/nodes` | wsEditor |
| GET | `/api/workspaces/{wsID}/nodes/{id}` | wsViewer |

## Pages

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/workspaces/{wsID}/pages` | wsViewer |
| POST | `/api/workspaces/{wsID}/pages` | wsEditor |
| GET | `/api/workspaces/{wsID}/pages/{id}` | wsViewer |
| POST | `/api/workspaces/{wsID}/pages/{id}` | wsEditor |
| POST | `/api/workspaces/{wsID}/pages/{id}/delete` | wsEditor |
| GET | `/api/workspaces/{wsID}/pages/{id}/history` | wsViewer |
| GET | `/api/workspaces/{wsID}/pages/{id}/history/{hash}` | wsViewer |

## Tables

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/workspaces/{wsID}/tables` | wsViewer |
| POST | `/api/workspaces/{wsID}/tables` | wsEditor |
| GET | `/api/workspaces/{wsID}/tables/{id}` | wsViewer |
| POST | `/api/workspaces/{wsID}/tables/{id}` | wsEditor |
| POST | `/api/workspaces/{wsID}/tables/{id}/delete` | wsEditor |
| GET | `/api/workspaces/{wsID}/tables/{id}/records` | wsViewer |
| POST | `/api/workspaces/{wsID}/tables/{id}/records` | wsEditor |
| GET | `/api/workspaces/{wsID}/tables/{id}/records/{rid}` | wsViewer |
| POST | `/api/workspaces/{wsID}/tables/{id}/records/{rid}` | wsEditor |
| POST | `/api/workspaces/{wsID}/tables/{id}/records/{rid}/delete` | wsEditor |

## Search

| Method | Path | Auth |
|--------|------|------|
| POST | `/api/workspaces/{wsID}/search` | wsViewer |

## Assets

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/workspaces/{wsID}/pages/{id}/assets` | wsViewer |
| POST | `/api/workspaces/{wsID}/pages/{id}/assets` | wsEditor |
| POST | `/api/workspaces/{wsID}/pages/{id}/assets/{name}/delete` | wsEditor |
| GET | `/assets/{wsID}/{id}/{name}` | public |

## Other

| Method | Path | Auth |
|--------|------|------|
| * | `/api/` | public |
| POST | `/api/organizations` | member |
| GET | `/api/organizations/{orgID}` | member |
| POST | `/api/organizations/{orgID}` | orgAdmin |
| POST | `/api/organizations/{orgID}/settings` | orgAdmin |

