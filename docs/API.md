# mddb API Reference

<!-- Code generated by go generate; DO NOT EDIT. -->

RESTful JSON API for mddb. Most endpoints require `{orgID}` for data isolation.

## Authentication

Include JWT token in Authorization header: `Authorization: Bearer <token>`

**Roles:** `viewer` (read), `editor` (read/write), `admin` (full), `globalAdmin` (server-wide)

## Health

| Method | Path | Auth |
|--------|------|------|
| * | `/api/health` | public |

## Admin

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/admin/organizations` | globalAdmin |
| GET | `/api/admin/stats` | globalAdmin |
| GET | `/api/admin/users` | globalAdmin |

## Auth

| Method | Path | Auth |
|--------|------|------|
| POST | `/api/auth/invitations/accept` | public |
| POST | `/api/auth/login` | public |
| GET | `/api/auth/me` | viewer |
| GET | `/api/auth/oauth/{provider}` | public |
| GET | `/api/auth/oauth/{provider}/callback` | public |
| POST | `/api/auth/register` | public |
| PUT | `/api/auth/settings` | viewer |
| POST | `/api/auth/switch-org` | viewer |

## Settings

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/{orgID}/onboarding` | viewer |
| PUT | `/api/{orgID}/onboarding` | admin |
| DELETE | `/api/{orgID}/settings/git/remote` | admin |
| GET | `/api/{orgID}/settings/git/remote` | admin |
| PUT | `/api/{orgID}/settings/git/remote` | admin |
| POST | `/api/{orgID}/settings/git/remote/push` | admin |
| PUT | `/api/{orgID}/settings/membership` | viewer |
| GET | `/api/{orgID}/settings/organization` | viewer |
| PATCH | `/api/{orgID}/settings/organization` | admin |
| PUT | `/api/{orgID}/settings/organization` | admin |

## Users

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/{orgID}/users` | admin |
| PUT | `/api/{orgID}/users/role` | admin |

## Invitations

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/{orgID}/invitations` | admin |
| POST | `/api/{orgID}/invitations` | admin |

## Nodes

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/{orgID}/nodes` | viewer |
| POST | `/api/{orgID}/nodes` | editor |
| GET | `/api/{orgID}/nodes/{id}` | viewer |

## Pages

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/{orgID}/pages` | viewer |
| POST | `/api/{orgID}/pages` | editor |
| DELETE | `/api/{orgID}/pages/{id}` | editor |
| GET | `/api/{orgID}/pages/{id}` | viewer |
| PUT | `/api/{orgID}/pages/{id}` | editor |
| GET | `/api/{orgID}/pages/{id}/history` | viewer |
| GET | `/api/{orgID}/pages/{id}/history/{hash}` | viewer |

## Tables

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/{orgID}/tables` | viewer |
| POST | `/api/{orgID}/tables` | editor |
| DELETE | `/api/{orgID}/tables/{id}` | editor |
| GET | `/api/{orgID}/tables/{id}` | viewer |
| PUT | `/api/{orgID}/tables/{id}` | editor |
| GET | `/api/{orgID}/tables/{id}/records` | viewer |
| POST | `/api/{orgID}/tables/{id}/records` | editor |
| DELETE | `/api/{orgID}/tables/{id}/records/{rid}` | editor |
| GET | `/api/{orgID}/tables/{id}/records/{rid}` | viewer |
| PUT | `/api/{orgID}/tables/{id}/records/{rid}` | editor |

## Search

| Method | Path | Auth |
|--------|------|------|
| POST | `/api/{orgID}/search` | viewer |

## Assets

| Method | Path | Auth |
|--------|------|------|
| GET | `/api/{orgID}/pages/{id}/assets` | viewer |
| POST | `/api/{orgID}/pages/{id}/assets` | editor |
| DELETE | `/api/{orgID}/pages/{id}/assets/{name}` | editor |
| GET | `/assets/{orgID}/{id}/{name}` | public |

## Other

| Method | Path | Auth |
|--------|------|------|
| POST | `/api/organizations` | viewer |

